{"ast":null,"code":"import React, { Component } from 'react';\nimport firebase from '../firebase/base';\n\nclass UserInfo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: null,\n      userType: null,\n      userEmail: null,\n      userCourse: [],\n      registeredCourse: []\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        var db = firebase.firestore();\n        db.collection('user').doc(user.uid).get().then(snapshot => {\n          this.setState({\n            userName: snapshot.data().name,\n            userType: snapshot.data().type,\n            userCourse: snapshot.data().course,\n            userEmail: user.email\n          });\n          this.state.userCourse.map(course => {\n            db.doc(course).get().then(snapshot => {\n              this.setState({\n                registeredCourse: [...this.state.registeredCourse, snapshot.data().name]\n              });\n            });\n          });\n        }).catch(error => console.log(error));\n      } else {}\n    });\n  }\n\n}\n\nexport const {\n  userName\n} = this.state.userName;\nexport default UserInfo;","map":{"version":3,"sources":["D:/developing/projects/whiteboard2.0/src/components/firebase/UserInfo.js"],"names":["React","Component","firebase","UserInfo","state","userName","userType","userEmail","userCourse","registeredCourse","componentDidMount","auth","onAuthStateChanged","user","db","firestore","collection","doc","uid","get","then","snapshot","setState","data","name","type","course","email","map","catch","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,kBAArB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACC,SAA7B,CAAuC;AAAA;AAAA;AAAA,SACrCG,KADqC,GAC7B;AACNC,MAAAA,QAAQ,EAAE,IADJ;AAENC,MAAAA,QAAQ,EAAE,IAFJ;AAGNC,MAAAA,SAAS,EAAE,IAHL;AAINC,MAAAA,UAAU,EAAE,EAJN;AAKNC,MAAAA,gBAAgB,EAAE;AALZ,KAD6B;AAAA;;AASrCC,EAAAA,iBAAiB,GAAE;AACjBR,IAAAA,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAC3C,UAAIA,IAAJ,EAAU;AACR,YAAIC,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAT;AACAD,QAAAA,EAAE,CAACE,UAAH,CAAc,MAAd,EAAsBC,GAAtB,CAA0BJ,IAAI,CAACK,GAA/B,EACKC,GADL,GAEKC,IAFL,CAEUC,QAAQ,IAAI;AACd,eAAKC,QAAL,CAAc;AAACjB,YAAAA,QAAQ,EAAEgB,QAAQ,CAACE,IAAT,GAAgBC,IAA3B;AACClB,YAAAA,QAAQ,EAAEe,QAAQ,CAACE,IAAT,GAAgBE,IAD3B;AAECjB,YAAAA,UAAU,EAAEa,QAAQ,CAACE,IAAT,GAAgBG,MAF7B;AAGCnB,YAAAA,SAAS,EAAEM,IAAI,CAACc;AAHjB,WAAd;AAKA,eAAKvB,KAAL,CAAWI,UAAX,CAAsBoB,GAAtB,CAA0BF,MAAM,IAAI;AAClCZ,YAAAA,EAAE,CAACG,GAAH,CAAOS,MAAP,EAAeP,GAAf,GAAqBC,IAArB,CACMC,QAAQ,IAAI;AACR,mBAAKC,QAAL,CAAc;AACVb,gBAAAA,gBAAgB,EAAE,CAAC,GAAG,KAAKL,KAAL,CAAWK,gBAAf,EAAgCY,QAAQ,CAACE,IAAT,GAAgBC,IAAhD;AADR,eAAd;AAEO,aAJjB;AAMS,WAPX;AAQH,SAhBL,EAgBOK,KAhBP,CAgBaC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAhBtB;AAkBD,OApBD,MAoBO,CAEN;AAAC,KAvBJ;AAwBD;;AAlCoC;;AAoCvC,OAAO,MAAM;AAACzB,EAAAA;AAAD,IAAa,KAAKD,KAAL,CAAWC,QAA9B;AACP,eAAeF,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport firebase from '../firebase/base';\r\n\r\nclass UserInfo extends React.Component {\r\n  state = {\r\n    userName: null,\r\n    userType: null,\r\n    userEmail: null,\r\n    userCourse: [],\r\n    registeredCourse: []\r\n  }\r\n\r\n  componentDidMount(){\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var db = firebase.firestore()\r\n        db.collection('user').doc(user.uid)\r\n            .get()\r\n            .then(snapshot => {\r\n                this.setState({userName: snapshot.data().name,\r\n                               userType: snapshot.data().type,\r\n                               userCourse: snapshot.data().course,\r\n                               userEmail: user.email\r\n                                })\r\n                this.state.userCourse.map(course => {\r\n                  db.doc(course).get().then(\r\n                        snapshot => {\r\n                            this.setState({\r\n                                registeredCourse: [...this.state.registeredCourse,snapshot.data().name]\r\n                                })}\r\n                              )\r\n                          })\r\n            }).catch(error => console.log(error))\r\n\r\n      } else {\r\n\r\n      }})\r\n  }\r\n}\r\nexport const {userName} = this.state.userName\r\nexport default UserInfo;\r\n"]},"metadata":{},"sourceType":"module"}