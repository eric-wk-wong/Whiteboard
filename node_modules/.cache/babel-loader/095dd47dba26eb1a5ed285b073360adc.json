{"ast":null,"code":"import { createElement, remove } from '@syncfusion/ej2-base';\nimport { FormValidator } from '@syncfusion/ej2-inputs';\nimport * as cls from '../base/css-constant';\n/**\n * Appointment window field validation\n */\n\nvar FieldValidator =\n/** @class */\nfunction () {\n  function FieldValidator() {}\n\n  FieldValidator.prototype.renderFormValidator = function (form, rules, element) {\n    var _this = this;\n\n    this.element = element;\n    this.formObj = new FormValidator(form, {\n      customPlacement: function (inputElement, error) {\n        _this.errorPlacement(inputElement, error);\n      },\n      rules: rules,\n      validationComplete: function (args) {\n        _this.validationComplete(args);\n      },\n      focusout: function (args) {\n        _this.focusOut(args);\n      }\n    });\n  };\n\n  FieldValidator.prototype.focusOut = function (args) {\n    var target = args.relatedTarget;\n\n    if (target && (target.classList.contains('e-dlg-closeicon-btn') || target.classList.contains('e-close') || target.classList.contains(cls.ALLDAY_CELLS_CLASS) || target.classList.contains(cls.HEADER_CELLS_CLASS) || target.classList.contains(cls.QUICK_POPUP_EVENT_DETAILS_CLASS) || target.classList.contains(cls.WORK_CELLS_CLASS) || target.classList.contains(cls.EVENT_WINDOW_CANCEL_BUTTON_CLASS))) {\n      this.ignoreError = true;\n    } else {\n      this.ignoreError = false;\n    }\n  };\n\n  FieldValidator.prototype.validationComplete = function (args) {\n    var elem = this.element.querySelector('#' + args.inputName + '_Error');\n\n    if (elem) {\n      elem.style.display = args.status === 'failure' ? '' : 'none';\n    }\n  };\n\n  FieldValidator.prototype.errorPlacement = function (inputElement, error) {\n    var id = error.getAttribute('for');\n    var elem = this.element.querySelector('#' + id + '_Error');\n\n    if (!elem && !this.ignoreError) {\n      this.createTooltip(inputElement, error, id, '');\n    }\n  };\n\n  FieldValidator.prototype.createTooltip = function (element, error, name, display) {\n    var dlgContent;\n    var client;\n    var inputClient = element.getBoundingClientRect();\n\n    if (this.element.classList.contains(cls.POPUP_WRAPPER_CLASS)) {\n      dlgContent = this.element;\n      client = this.element.getBoundingClientRect();\n    } else {\n      dlgContent = this.element.querySelector('.e-schedule-dialog .e-dlg-content');\n      client = dlgContent.getBoundingClientRect();\n    }\n\n    var div = createElement('div', {\n      className: 'e-tooltip-wrap e-popup ' + cls.ERROR_VALIDATION_CLASS,\n      id: name + '_Error',\n      styles: 'display:' + display + ';top:' + (inputClient.bottom - client.top + dlgContent.scrollTop + 9) + 'px;left:' + (inputClient.left - client.left + dlgContent.scrollLeft + inputClient.width / 2) + 'px;'\n    });\n    var content = createElement('div', {\n      className: 'e-tip-content'\n    });\n    content.appendChild(error);\n    var arrow = createElement('div', {\n      className: 'e-arrow-tip e-tip-top'\n    });\n    arrow.appendChild(createElement('div', {\n      className: 'e-arrow-tip-outer e-tip-top'\n    }));\n    arrow.appendChild(createElement('div', {\n      className: 'e-arrow-tip-inner e-tip-top'\n    }));\n    div.appendChild(content);\n    div.appendChild(arrow);\n    dlgContent.appendChild(div);\n    div.style.left = parseInt(div.style.left, 10) - div.offsetWidth / 2 + 'px';\n  };\n\n  FieldValidator.prototype.destroyToolTip = function () {\n    if (this.element) {\n      var elements = [].slice.call(this.element.querySelectorAll('.' + cls.ERROR_VALIDATION_CLASS));\n\n      for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n        var elem = elements_1[_i];\n        remove(elem);\n      }\n    }\n\n    if (this.formObj && this.formObj.element) {\n      this.formObj.reset();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  FieldValidator.prototype.destroy = function () {\n    if (this.formObj && this.formObj.element && !this.formObj.isDestroyed) {\n      this.formObj.destroy();\n    }\n  };\n\n  return FieldValidator;\n}();\n\nexport { FieldValidator };","map":{"version":3,"sources":["D:/developing/projects/whiteboard/node_modules/@syncfusion/ej2-schedule/src/schedule/popups/form-validator.js"],"names":["createElement","remove","FormValidator","cls","FieldValidator","prototype","renderFormValidator","form","rules","element","_this","formObj","customPlacement","inputElement","error","errorPlacement","validationComplete","args","focusout","focusOut","target","relatedTarget","classList","contains","ALLDAY_CELLS_CLASS","HEADER_CELLS_CLASS","QUICK_POPUP_EVENT_DETAILS_CLASS","WORK_CELLS_CLASS","EVENT_WINDOW_CANCEL_BUTTON_CLASS","ignoreError","elem","querySelector","inputName","style","display","status","id","getAttribute","createTooltip","name","dlgContent","client","inputClient","getBoundingClientRect","POPUP_WRAPPER_CLASS","div","className","ERROR_VALIDATION_CLASS","styles","bottom","top","scrollTop","left","scrollLeft","width","content","appendChild","arrow","parseInt","offsetWidth","destroyToolTip","elements","slice","call","querySelectorAll","_i","elements_1","length","reset","destroy","isDestroyed"],"mappings":"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","sourcesContent":["import { createElement, remove } from '@syncfusion/ej2-base';\nimport { FormValidator } from '@syncfusion/ej2-inputs';\nimport * as cls from '../base/css-constant';\n/**\n * Appointment window field validation\n */\nvar FieldValidator = /** @class */ (function () {\n    function FieldValidator() {\n    }\n    FieldValidator.prototype.renderFormValidator = function (form, rules, element) {\n        var _this = this;\n        this.element = element;\n        this.formObj = new FormValidator(form, {\n            customPlacement: function (inputElement, error) {\n                _this.errorPlacement(inputElement, error);\n            },\n            rules: rules,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            focusout: function (args) {\n                _this.focusOut(args);\n            }\n        });\n    };\n    FieldValidator.prototype.focusOut = function (args) {\n        var target = args.relatedTarget;\n        if (target && (target.classList.contains('e-dlg-closeicon-btn') || target.classList.contains('e-close')\n            || target.classList.contains(cls.ALLDAY_CELLS_CLASS) || target.classList.contains(cls.HEADER_CELLS_CLASS)\n            || target.classList.contains(cls.QUICK_POPUP_EVENT_DETAILS_CLASS) || target.classList.contains(cls.WORK_CELLS_CLASS)\n            || target.classList.contains(cls.EVENT_WINDOW_CANCEL_BUTTON_CLASS))) {\n            this.ignoreError = true;\n        }\n        else {\n            this.ignoreError = false;\n        }\n    };\n    FieldValidator.prototype.validationComplete = function (args) {\n        var elem = this.element.querySelector('#' + args.inputName + '_Error');\n        if (elem) {\n            elem.style.display = (args.status === 'failure') ? '' : 'none';\n        }\n    };\n    FieldValidator.prototype.errorPlacement = function (inputElement, error) {\n        var id = error.getAttribute('for');\n        var elem = this.element.querySelector('#' + id + '_Error');\n        if (!elem && !this.ignoreError) {\n            this.createTooltip(inputElement, error, id, '');\n        }\n    };\n    FieldValidator.prototype.createTooltip = function (element, error, name, display) {\n        var dlgContent;\n        var client;\n        var inputClient = element.getBoundingClientRect();\n        if (this.element.classList.contains(cls.POPUP_WRAPPER_CLASS)) {\n            dlgContent = this.element;\n            client = this.element.getBoundingClientRect();\n        }\n        else {\n            dlgContent = this.element.querySelector('.e-schedule-dialog .e-dlg-content');\n            client = dlgContent.getBoundingClientRect();\n        }\n        var div = createElement('div', {\n            className: 'e-tooltip-wrap e-popup ' + cls.ERROR_VALIDATION_CLASS,\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                (inputClient.bottom - client.top + dlgContent.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - client.left + dlgContent.scrollLeft + inputClient.width / 2) + 'px;'\n        });\n        var content = createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow = createElement('div', { className: 'e-arrow-tip e-tip-top' });\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        div.appendChild(content);\n        div.appendChild(arrow);\n        dlgContent.appendChild(div);\n        div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n    };\n    FieldValidator.prototype.destroyToolTip = function () {\n        if (this.element) {\n            var elements = [].slice.call(this.element.querySelectorAll('.' + cls.ERROR_VALIDATION_CLASS));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                remove(elem);\n            }\n        }\n        if (this.formObj && this.formObj.element) {\n            this.formObj.reset();\n        }\n    };\n    /**\n     * @hidden\n     */\n    FieldValidator.prototype.destroy = function () {\n        if (this.formObj && this.formObj.element && !this.formObj.isDestroyed) {\n            this.formObj.destroy();\n        }\n    };\n    return FieldValidator;\n}());\nexport { FieldValidator };\n"]},"metadata":{},"sourceType":"module"}