{"ast":null,"code":"import React, { Component } from 'react';\nimport firebase from '../firebase/base';\nexport default class UserInfo extends React.Component {\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        var db = firebase.firestore();\n        db.collection('user').doc(user.uid).get().then(snapshot => {\n          this.setState({\n            userName: snapshot.data().name,\n            userType: snapshot.data().type,\n            userCourse: snapshot.data().course,\n            userEmail: user.email\n          });\n          this.state.userCourse.map(course => {\n            db.doc(course).get().then(snapshot => {\n              this.setState({\n                registeredCourse: [...this.state.registeredCourse, snapshot.data().name]\n              });\n            });\n          });\n        }).catch(error => console.log(error));\n      } else {}\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/developing/projects/whiteboard2.0/src/components/firebase/UserInfo.js"],"names":["React","Component","firebase","UserInfo","componentDidMount","auth","onAuthStateChanged","user","db","firestore","collection","doc","uid","get","then","snapshot","setState","userName","data","name","userType","type","userCourse","course","userEmail","email","state","map","registeredCourse","catch","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,eAAe,MAAMC,QAAN,SAAuBH,KAAK,CAACC,SAA7B,CAAuC;AAEpDG,EAAAA,iBAAiB,GAAE;AACjBF,IAAAA,QAAQ,CAACG,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAC3C,UAAIA,IAAJ,EAAU;AACR,YAAIC,EAAE,GAAGN,QAAQ,CAACO,SAAT,EAAT;AACAD,QAAAA,EAAE,CAACE,UAAH,CAAc,MAAd,EAAsBC,GAAtB,CAA0BJ,IAAI,CAACK,GAA/B,EACKC,GADL,GAEKC,IAFL,CAEUC,QAAQ,IAAI;AACd,eAAKC,QAAL,CAAc;AAACC,YAAAA,QAAQ,EAAEF,QAAQ,CAACG,IAAT,GAAgBC,IAA3B;AACCC,YAAAA,QAAQ,EAAEL,QAAQ,CAACG,IAAT,GAAgBG,IAD3B;AAECC,YAAAA,UAAU,EAAEP,QAAQ,CAACG,IAAT,GAAgBK,MAF7B;AAGCC,YAAAA,SAAS,EAAEjB,IAAI,CAACkB;AAHjB,WAAd;AAKA,eAAKC,KAAL,CAAWJ,UAAX,CAAsBK,GAAtB,CAA0BJ,MAAM,IAAI;AAClCf,YAAAA,EAAE,CAACG,GAAH,CAAOY,MAAP,EAAeV,GAAf,GAAqBC,IAArB,CACMC,QAAQ,IAAI;AACR,mBAAKC,QAAL,CAAc;AACVY,gBAAAA,gBAAgB,EAAE,CAAC,GAAG,KAAKF,KAAL,CAAWE,gBAAf,EAAgCb,QAAQ,CAACG,IAAT,GAAgBC,IAAhD;AADR,eAAd;AAEO,aAJjB;AAMS,WAPX;AAQH,SAhBL,EAgBOU,KAhBP,CAgBaC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAhBtB;AAkBD,OApBD,MAoBO,CAEN;AAAC,KAvBJ;AAwBD;;AA3BmD","sourcesContent":["import React, {Component} from 'react';\r\nimport firebase from '../firebase/base';\r\n\r\nexport default class UserInfo extends React.Component {\r\n\r\n  componentDidMount(){\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var db = firebase.firestore()\r\n        db.collection('user').doc(user.uid)\r\n            .get()\r\n            .then(snapshot => {\r\n                this.setState({userName: snapshot.data().name,\r\n                               userType: snapshot.data().type,\r\n                               userCourse: snapshot.data().course,\r\n                               userEmail: user.email\r\n                                })\r\n                this.state.userCourse.map(course => {\r\n                  db.doc(course).get().then(\r\n                        snapshot => {\r\n                            this.setState({\r\n                                registeredCourse: [...this.state.registeredCourse,snapshot.data().name]\r\n                                })}\r\n                              )\r\n                          })\r\n            }).catch(error => console.log(error))\r\n\r\n      } else {\r\n\r\n      }})\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}