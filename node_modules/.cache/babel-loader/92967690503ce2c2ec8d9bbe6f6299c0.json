{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { EventHandler, Property, NotifyPropertyChanges, Animation, attributes } from '@syncfusion/ej2-base';\nimport { Event, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Complex, ChildProperty, isBlazor, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar HIDESPINNER = 'e-hide-spinner';\nvar PROGRESS = 'e-progress';\nvar PROGRESSACTIVE = 'e-progress-active';\nvar CONTENTCLS = 'e-btn-content';\n/**\n * Defines the spin settings.\n */\n\nvar SpinSettings =\n/** @class */\nfunction (_super) {\n  __extends(SpinSettings, _super);\n\n  function SpinSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(null)], SpinSettings.prototype, \"template\", void 0);\n\n  __decorate([Property(16)], SpinSettings.prototype, \"width\", void 0);\n\n  __decorate([Property('Left')], SpinSettings.prototype, \"position\", void 0);\n\n  return SpinSettings;\n}(ChildProperty);\n\nexport { SpinSettings };\n/**\n * Defines the animation settings.\n */\n\nvar AnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AnimationSettings, _super);\n\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property('None')], AnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property('ease')], AnimationSettings.prototype, \"easing\", void 0);\n\n  return AnimationSettings;\n}(ChildProperty);\n\nexport { AnimationSettings };\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\n\nvar ProgressButton =\n/** @class */\nfunction (_super) {\n  __extends(ProgressButton, _super);\n  /**\n   * Constructor for creating the widget\n   * @param  {ProgressButtonModel} options?\n   * @param  {string|HTMLButtonElement} element?\n   */\n\n\n  function ProgressButton(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.step = 1;\n    return _this;\n  }\n\n  ProgressButton.prototype.preRender = function () {\n    _super.prototype.preRender.call(this);\n  };\n  /**\n   * Initialize the Component rendering\n   * @returns void\n   * @private\n   */\n\n\n  ProgressButton.prototype.render = function () {\n    if (isBlazor()) {\n      this.isServerRendered = false;\n    }\n\n    _super.prototype.render.call(this);\n\n    this.init();\n    this.wireEvents();\n    this.setAria();\n    this.renderComplete();\n  };\n  /**\n   * Starts the button progress at the specified percent.\n   * @param percent Starts the button progress at this percent.\n   * @returns void\n   */\n\n\n  ProgressButton.prototype.start = function (percent) {\n    this.isPaused = false;\n    this.startProgress(percent ? percent : this.percent, this.progressTime);\n  };\n  /**\n   * Stops the button progress.\n   * @returns void\n   */\n\n\n  ProgressButton.prototype.stop = function () {\n    this.isPaused = true;\n    cancelAnimationFrame(this.timerId);\n  };\n  /**\n   * Complete the button progress.\n   * @returns void\n   */\n\n\n  ProgressButton.prototype.progressComplete = function () {\n    this.isPaused = false;\n    this.finishProgress();\n  };\n  /**\n   * Get component name.\n   * @returns string\n   * @private\n   */\n\n\n  ProgressButton.prototype.getModuleName = function () {\n    return 'progress-btn';\n  };\n  /**\n   * Destroys the widget.\n   * @returns void\n   */\n\n\n  ProgressButton.prototype.destroy = function () {\n    var _this = this;\n\n    var classList = [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + _super.prototype.getModuleName.call(this), 'e-spin-' + this.spinSettings.position.toLowerCase()];\n    var css;\n\n    _super.prototype.destroy.call(this);\n\n    this.unWireEvents();\n    this.element.innerHTML = '';\n\n    if (this.cssClass) {\n      classList = classList.concat(this.cssClass.split(' '));\n    }\n\n    removeClass([this.element], classList);\n    css = this.element.getAttribute('class') ? ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow'] : ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow', 'class'];\n    css.forEach(function (key) {\n      _this.element.removeAttribute(key);\n    });\n\n    if (this.disabled) {\n      this.element.removeAttribute('disabled');\n    }\n  };\n\n  ProgressButton.prototype.init = function () {\n    this.element.classList.add('e-' + _super.prototype.getModuleName.call(this));\n    this.setContent();\n    this.createSpinner();\n\n    if (this.enableProgress) {\n      this.createProgress();\n    }\n  };\n\n  ProgressButton.prototype.createSpinner = function () {\n    var spinner = this.createElement('span', {\n      className: 'e-spinner'\n    });\n    this.setSpinPosition(spinner);\n    createSpinner({\n      target: spinner,\n      width: this.spinSettings.width || 16,\n      template: this.spinSettings.template\n    }, this.createElement);\n  };\n\n  ProgressButton.prototype.getSpinner = function () {\n    return this.element.getElementsByClassName('e-spinner')[0];\n  };\n\n  ProgressButton.prototype.getProgress = function () {\n    return this.element.getElementsByClassName(PROGRESS)[0];\n  };\n\n  ProgressButton.prototype.setSpinPosition = function (ele) {\n    var position = this.spinSettings.position || 'Left';\n\n    if (position === 'Left' || position === 'Top') {\n      this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n    } else {\n      this.element.appendChild(ele);\n    }\n\n    this.element.classList.add('e-spin-' + position.toLowerCase());\n  };\n\n  ProgressButton.prototype.createProgress = function () {\n    this.element.appendChild(this.createElement('span', {\n      className: PROGRESS\n    }));\n  };\n\n  ProgressButton.prototype.setContent = function () {\n    var cont;\n\n    if (isBlazor()) {\n      cont = this.content;\n\n      if (this.enableHtmlSanitizer) {\n        cont = SanitizeHtmlHelper.sanitize(this.content);\n      }\n\n      this.setContentIcon(cont);\n    } else {\n      cont = this.element.innerHTML;\n\n      if (this.enableHtmlSanitizer) {\n        cont = SanitizeHtmlHelper.sanitize(this.element.innerHTML);\n      }\n\n      this.element.innerHTML = '';\n      this.element.appendChild(this.createElement('span', {\n        className: CONTENTCLS,\n        innerHTML: cont\n      }));\n    }\n  };\n\n  ProgressButton.prototype.setContentIcon = function (content) {\n    var contElem = this.createElement('span', {\n      className: CONTENTCLS,\n      innerHTML: content\n    });\n\n    if (this.iconCss) {\n      var span = this.createElement('span', {\n        className: 'e-btn-icon ' + this.iconCss\n      });\n\n      if (!this.element.textContent.trim()) {\n        this.element.classList.add('e-icon-btn');\n      } else {\n        span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n\n        if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n          this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n        }\n      }\n\n      var node = contElem.childNodes[0];\n\n      if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n        contElem.insertBefore(span, node);\n      } else {\n        contElem.appendChild(span);\n      }\n    }\n\n    this.element.appendChild(contElem);\n  };\n\n  ProgressButton.prototype.clickHandler = function () {\n    if (this.element.classList.contains(PROGRESSACTIVE)) {\n      return;\n    }\n\n    this.startProgress();\n  };\n\n  ProgressButton.prototype.startProgress = function (percent, progressTime) {\n    var clsList = this.element.classList;\n    var isVertical = clsList.contains('e-vertical');\n    clsList.add(PROGRESSACTIVE);\n\n    if (!clsList.contains(HIDESPINNER)) {\n      showSpinner(this.element);\n    }\n\n    this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - this.duration * 1 / 100 : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n    this.startContAnimate();\n  };\n\n  ProgressButton.prototype.startAnimate = function (timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n    var _this = this;\n\n    try {\n      var args = void 0;\n      var timeDiff = timestamp - prevTime;\n      var stepTime = this.duration * step / 100;\n      var timeDiffBuffer_1 = timeDiff ? timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime : 0;\n      this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer_1;\n      prevTime = timestamp - timeDiffBuffer_1;\n      percent = percent + (timeDiff - timeDiffBuffer_1) / this.duration * 100;\n      prevPercent = (progressTime - prevProgressTime) % stepTime === 0 || percent === 100 ? percent : prevPercent;\n      args = {\n        percent: prevPercent,\n        currentDuration: progressTime,\n        step: step\n      };\n      this.eIsVertical = isVertical;\n\n      if (percent === 0) {\n        this.trigger('begin', args, function (observedArgs) {\n          _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n        });\n      } else if (percent === 100 || progressTime === this.duration) {\n        this.trigger('end', args, function (observedArgs) {\n          _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n        });\n      } else {\n        this.trigger('progress', args, function (observedArgs) {\n          _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n        });\n      }\n    } catch (e) {\n      cancelAnimationFrame(this.timerId);\n      this.trigger('fail', e);\n    }\n  };\n\n  ProgressButton.prototype.successCallback = function (args, perc, pPerc, prgTim, pPrgTim, timDif, pTim) {\n    var _this = this;\n\n    var percent = perc;\n    var prevPercent = pPerc;\n    var timeDiffBuffer = timDif;\n    var progressTime = prgTim;\n    var prevProgressTime = pPrgTim;\n    var prevTime = pTim;\n    var isVertical = this.eIsVertical;\n\n    if (percent !== args.percent && args.percent !== prevPercent) {\n      percent = args.percent;\n    }\n\n    this.percent = percent;\n    this.step = args.step;\n\n    if ((progressTime - prevProgressTime) % (this.duration * args.step / 100) === 0 || percent === 100) {\n      this.timerId = requestAnimationFrame(function () {\n        if (_this.enableProgress) {\n          _this.getProgress().style[isVertical ? 'height' : 'width'] = percent + '%';\n        }\n\n        _this.element.setAttribute('aria-valuenow', percent.toString());\n      });\n      prevPercent = percent;\n      prevProgressTime = progressTime;\n    }\n\n    if (!this.isPaused) {\n      if (progressTime < this.duration && percent < 100) {\n        this.interval = window.setTimeout(function () {\n          _this.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args.step, prevProgressTime, isVertical); // tslint:disable-next-line\n\n        }, this.duration / 100 - timeDiffBuffer);\n      } else {\n        this.interval = window.setTimeout(function () {\n          _this.progressTime = _this.percent = 0;\n\n          if (_this.enableProgress) {\n            _this.getProgress().style[isVertical ? 'height' : 'width'] = '0%';\n          }\n\n          _this.element.setAttribute('aria-valuenow', '0');\n\n          _this.hideSpin(); // tslint:disable-next-line\n\n        }, 100);\n      }\n    }\n  };\n\n  ProgressButton.prototype.startContAnimate = function () {\n    var _this = this;\n\n    var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n\n    if (this.animationSettings.effect !== 'None') {\n      new Animation({}).animate(ele, {\n        duration: this.animationSettings.duration,\n        name: 'Progress' + this.animationSettings.effect,\n        timingFunction: this.animationSettings.easing,\n        begin: function () {\n          if (_this.spinSettings.position === 'Center') {\n            _this.setSpinnerSize();\n          }\n        },\n        end: function () {\n          ele.classList.add('e-animate-end');\n        }\n      });\n    } else if (this.spinSettings.position === 'Center') {\n      this.setSpinnerSize();\n    }\n  };\n\n  ProgressButton.prototype.finishProgress = function () {\n    var clsList = this.element.classList;\n    var isVertical = clsList.contains('e-vertical');\n    clsList.add(PROGRESSACTIVE);\n    var args;\n    var count = 100;\n\n    for (var i = this.percent; i < count; i++) {\n      i += 10;\n\n      if (i > 100) {\n        i = 100;\n      }\n\n      if (this.enableProgress) {\n        this.getProgress().style[isVertical ? 'height' : 'width'] = this.percent < 100 ? i + '%' : '100%';\n      }\n    }\n\n    this.element.setAttribute('aria-valuenow', '0');\n    this.hideSpin();\n    args = {\n      step: this.step,\n      currentDuration: this.progressTime,\n      percent: 100\n    };\n    clearTimeout(this.interval);\n    this.trigger('end', args);\n    this.progressTime = this.percent = 0;\n  };\n\n  ProgressButton.prototype.setSpinnerSize = function () {\n    var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n    var spinner = this.getSpinner();\n    spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n    spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n    ele.classList.add('e-cont-animate');\n  };\n\n  ProgressButton.prototype.hideSpin = function () {\n    var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n\n    if (!this.element.classList.contains(HIDESPINNER)) {\n      hideSpinner(this.element);\n    }\n\n    this.element.classList.remove(PROGRESSACTIVE);\n\n    if (this.animationSettings.effect !== 'None') {\n      cont.classList.remove('e-animate-end');\n    }\n\n    if (this.spinSettings.position === 'Center') {\n      var ele = this.getSpinner();\n      cont.classList.remove('e-cont-animate');\n      ele.style.width = 'auto';\n      ele.style.height = 'auto';\n    }\n  };\n\n  ProgressButton.prototype.setIconSpan = function () {\n    var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n    var iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n\n    if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n      cont.insertBefore(iconSpan, cont.childNodes[0]);\n    } else {\n      cont.appendChild(iconSpan);\n    }\n  };\n\n  ProgressButton.prototype.setAria = function () {\n    attributes(this.element, {\n      'aria-label': this.element.textContent + ' progress',\n      'aria-valuemin': '0',\n      'aria-valuemax': '100',\n      'aria-valuenow': '0'\n    });\n  };\n\n  ProgressButton.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n  };\n\n  ProgressButton.prototype.unWireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * @param  {ProgressButtonModel} newProp\n   * @param  {ProgressButtonModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  ProgressButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var ele = this.element;\n\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'content':\n          if (isBlazor()) {\n            var btnElem = this.element.querySelector('.e-btn-content');\n\n            if (this.iconCss) {\n              if (this.iconPosition === 'Left' || this.iconPosition === 'Top') {\n                btnElem.childNodes[1].textContent = this.content;\n              } else {\n                btnElem.childNodes[0].textContent = this.content;\n              }\n            } else {\n              btnElem.textContent = this.content;\n            }\n          } else {\n            this.setContent();\n            this.createSpinner();\n\n            if (this.enableProgress) {\n              this.createProgress();\n            }\n          }\n\n          ele.setAttribute('aria-label', ele.textContent + ' progress');\n          break;\n\n        case 'iconCss':\n          if (!oldProp.iconCss) {\n            this.setIconSpan();\n          }\n\n          break;\n\n        case 'iconPosition':\n          this.setIconSpan();\n          break;\n\n        case 'enableProgress':\n          if (newProp.enableProgress) {\n            this.createProgress();\n          } else {\n            remove(this.getProgress());\n          }\n\n          break;\n\n        case 'spinSettings':\n          if (newProp.spinSettings.position) {\n            ele.classList.remove('e-spin-' + oldProp.spinSettings.position.toLowerCase());\n            this.setSpinPosition(this.getSpinner());\n          }\n\n          if (newProp.spinSettings.template || newProp.spinSettings.width) {\n            ele.removeChild(this.getSpinner());\n            this.createSpinner();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * Sets the focus to ProgressButton\n   * its native method\n   * @public\n   */\n\n\n  ProgressButton.prototype.focusIn = function () {\n    this.element.focus();\n  };\n\n  __decorate([Property(false)], ProgressButton.prototype, \"enableProgress\", void 0);\n\n  __decorate([Property(2000)], ProgressButton.prototype, \"duration\", void 0);\n\n  __decorate([Property('Left')], ProgressButton.prototype, \"iconPosition\", void 0);\n\n  __decorate([Property('')], ProgressButton.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], ProgressButton.prototype, \"disabled\", void 0);\n\n  __decorate([Property(false)], ProgressButton.prototype, \"isPrimary\", void 0);\n\n  __decorate([Property('')], ProgressButton.prototype, \"cssClass\", void 0);\n\n  __decorate([Property('')], ProgressButton.prototype, \"content\", void 0);\n\n  __decorate([Property(false)], ProgressButton.prototype, \"isToggle\", void 0);\n\n  __decorate([Property(false)], ProgressButton.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Complex({}, SpinSettings)], ProgressButton.prototype, \"spinSettings\", void 0);\n\n  __decorate([Complex({}, AnimationSettings)], ProgressButton.prototype, \"animationSettings\", void 0);\n\n  __decorate([Event()], ProgressButton.prototype, \"created\", void 0);\n\n  __decorate([Event()], ProgressButton.prototype, \"begin\", void 0);\n\n  __decorate([Event()], ProgressButton.prototype, \"progress\", void 0);\n\n  __decorate([Event()], ProgressButton.prototype, \"end\", void 0);\n\n  __decorate([Event()], ProgressButton.prototype, \"fail\", void 0);\n\n  ProgressButton = __decorate([NotifyPropertyChanges], ProgressButton);\n  return ProgressButton;\n}(Button);\n\nexport { ProgressButton };","map":{"version":3,"sources":["D:/developing/projects/whiteboard/node_modules/@syncfusion/ej2-splitbuttons/src/progress-button/progress-button.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Button","EventHandler","Property","NotifyPropertyChanges","Animation","attributes","Event","remove","removeClass","Complex","ChildProperty","isBlazor","SanitizeHtmlHelper","createSpinner","showSpinner","hideSpinner","HIDESPINNER","PROGRESS","PROGRESSACTIVE","CONTENTCLS","SpinSettings","_super","apply","AnimationSettings","ProgressButton","options","element","_this","call","step","preRender","render","isServerRendered","init","wireEvents","setAria","renderComplete","start","percent","isPaused","startProgress","progressTime","stop","cancelAnimationFrame","timerId","progressComplete","finishProgress","getModuleName","destroy","classList","spinSettings","position","toLowerCase","css","unWireEvents","innerHTML","cssClass","concat","split","getAttribute","forEach","removeAttribute","disabled","add","setContent","enableProgress","createProgress","spinner","createElement","className","setSpinPosition","width","template","getSpinner","getElementsByClassName","getProgress","ele","insertBefore","appendChild","cont","content","enableHtmlSanitizer","sanitize","setContentIcon","contElem","iconCss","span","textContent","trim","iconPosition","node","childNodes","clickHandler","contains","clsList","isVertical","startAnimate","Date","now","duration","startContAnimate","timestamp","prevTime","prevPercent","prevProgressTime","args","timeDiff","stepTime","timeDiffBuffer_1","currentDuration","eIsVertical","trigger","observedArgs","successCallback","e","perc","pPerc","prgTim","pPrgTim","timDif","pTim","timeDiffBuffer","requestAnimationFrame","style","setAttribute","toString","interval","window","setTimeout","hideSpin","animationSettings","effect","animate","name","timingFunction","easing","begin","setSpinnerSize","end","count","clearTimeout","Math","max","offsetWidth","height","offsetHeight","setIconSpan","iconSpan","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","btnElem","querySelector","removeChild","focusIn","focus"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { EventHandler, Property, NotifyPropertyChanges, Animation, attributes } from '@syncfusion/ej2-base';\nimport { Event, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Complex, ChildProperty, isBlazor, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar HIDESPINNER = 'e-hide-spinner';\nvar PROGRESS = 'e-progress';\nvar PROGRESSACTIVE = 'e-progress-active';\nvar CONTENTCLS = 'e-btn-content';\n/**\n * Defines the spin settings.\n */\nvar SpinSettings = /** @class */ (function (_super) {\n    __extends(SpinSettings, _super);\n    function SpinSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SpinSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property(16)\n    ], SpinSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('Left')\n    ], SpinSettings.prototype, \"position\", void 0);\n    return SpinSettings;\n}(ChildProperty));\nexport { SpinSettings };\n/**\n * Defines the animation settings.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('None')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property('ease')\n    ], AnimationSettings.prototype, \"easing\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar ProgressButton = /** @class */ (function (_super) {\n    __extends(ProgressButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ProgressButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function ProgressButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.step = 1;\n        return _this;\n    }\n    ProgressButton.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.render = function () {\n        if (isBlazor()) {\n            this.isServerRendered = false;\n        }\n        _super.prototype.render.call(this);\n        this.init();\n        this.wireEvents();\n        this.setAria();\n        this.renderComplete();\n    };\n    /**\n     * Starts the button progress at the specified percent.\n     * @param percent Starts the button progress at this percent.\n     * @returns void\n     */\n    ProgressButton.prototype.start = function (percent) {\n        this.isPaused = false;\n        this.startProgress(percent ? percent : this.percent, this.progressTime);\n    };\n    /**\n     * Stops the button progress.\n     * @returns void\n     */\n    ProgressButton.prototype.stop = function () {\n        this.isPaused = true;\n        cancelAnimationFrame(this.timerId);\n    };\n    /**\n     * Complete the button progress.\n     * @returns void\n     */\n    ProgressButton.prototype.progressComplete = function () {\n        this.isPaused = false;\n        this.finishProgress();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ProgressButton.prototype.getModuleName = function () {\n        return 'progress-btn';\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ProgressButton.prototype.destroy = function () {\n        var _this = this;\n        var classList = [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + _super.prototype.getModuleName.call(this),\n            'e-spin-' + this.spinSettings.position.toLowerCase()];\n        var css;\n        _super.prototype.destroy.call(this);\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        removeClass([this.element], classList);\n        css = this.element.getAttribute('class') ? ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow']\n            : ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow', 'class'];\n        css.forEach(function (key) {\n            _this.element.removeAttribute(key);\n        });\n        if (this.disabled) {\n            this.element.removeAttribute('disabled');\n        }\n    };\n    ProgressButton.prototype.init = function () {\n        this.element.classList.add('e-' + _super.prototype.getModuleName.call(this));\n        this.setContent();\n        this.createSpinner();\n        if (this.enableProgress) {\n            this.createProgress();\n        }\n    };\n    ProgressButton.prototype.createSpinner = function () {\n        var spinner = this.createElement('span', { className: 'e-spinner' });\n        this.setSpinPosition(spinner);\n        createSpinner({\n            target: spinner, width: this.spinSettings.width || 16, template: this.spinSettings.template\n        }, this.createElement);\n    };\n    ProgressButton.prototype.getSpinner = function () {\n        return this.element.getElementsByClassName('e-spinner')[0];\n    };\n    ProgressButton.prototype.getProgress = function () {\n        return this.element.getElementsByClassName(PROGRESS)[0];\n    };\n    ProgressButton.prototype.setSpinPosition = function (ele) {\n        var position = this.spinSettings.position || 'Left';\n        if (position === 'Left' || position === 'Top') {\n            this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n        }\n        else {\n            this.element.appendChild(ele);\n        }\n        this.element.classList.add('e-spin-' + position.toLowerCase());\n    };\n    ProgressButton.prototype.createProgress = function () {\n        this.element.appendChild(this.createElement('span', { className: PROGRESS }));\n    };\n    ProgressButton.prototype.setContent = function () {\n        var cont;\n        if (isBlazor()) {\n            cont = this.content;\n            if (this.enableHtmlSanitizer) {\n                cont = SanitizeHtmlHelper.sanitize(this.content);\n            }\n            this.setContentIcon(cont);\n        }\n        else {\n            cont = this.element.innerHTML;\n            if (this.enableHtmlSanitizer) {\n                cont = SanitizeHtmlHelper.sanitize(this.element.innerHTML);\n            }\n            this.element.innerHTML = '';\n            this.element.appendChild(this.createElement('span', { className: CONTENTCLS, innerHTML: cont }));\n        }\n    };\n    ProgressButton.prototype.setContentIcon = function (content) {\n        var contElem = this.createElement('span', { className: CONTENTCLS, innerHTML: content });\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add('e-icon-btn');\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = contElem.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                contElem.insertBefore(span, node);\n            }\n            else {\n                contElem.appendChild(span);\n            }\n        }\n        this.element.appendChild(contElem);\n    };\n    ProgressButton.prototype.clickHandler = function () {\n        if (this.element.classList.contains(PROGRESSACTIVE)) {\n            return;\n        }\n        this.startProgress();\n    };\n    ProgressButton.prototype.startProgress = function (percent, progressTime) {\n        var clsList = this.element.classList;\n        var isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        if (!(clsList.contains(HIDESPINNER))) {\n            showSpinner(this.element);\n        }\n        this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - (this.duration * 1 / 100) : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n        this.startContAnimate();\n    };\n    ProgressButton.prototype.startAnimate = function (timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n        var _this = this;\n        try {\n            var args = void 0;\n            var timeDiff = timestamp - prevTime;\n            var stepTime = this.duration * step / 100;\n            var timeDiffBuffer_1 = timeDiff ? (timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime) : 0;\n            this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer_1;\n            prevTime = timestamp - timeDiffBuffer_1;\n            percent = percent + (timeDiff - timeDiffBuffer_1) / this.duration * 100;\n            prevPercent = ((progressTime - prevProgressTime) % stepTime === 0 || percent === 100) ? percent : prevPercent;\n            args = { percent: prevPercent, currentDuration: progressTime, step: step };\n            this.eIsVertical = isVertical;\n            if (percent === 0) {\n                this.trigger('begin', args, function (observedArgs) {\n                    _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n                });\n            }\n            else if (percent === 100 || progressTime === this.duration) {\n                this.trigger('end', args, function (observedArgs) {\n                    _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n                });\n            }\n            else {\n                this.trigger('progress', args, function (observedArgs) {\n                    _this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer_1, prevTime);\n                });\n            }\n        }\n        catch (e) {\n            cancelAnimationFrame(this.timerId);\n            this.trigger('fail', e);\n        }\n    };\n    ProgressButton.prototype.successCallback = function (args, perc, pPerc, prgTim, pPrgTim, timDif, pTim) {\n        var _this = this;\n        var percent = perc;\n        var prevPercent = pPerc;\n        var timeDiffBuffer = timDif;\n        var progressTime = prgTim;\n        var prevProgressTime = pPrgTim;\n        var prevTime = pTim;\n        var isVertical = this.eIsVertical;\n        if (percent !== args.percent && args.percent !== prevPercent) {\n            percent = args.percent;\n        }\n        this.percent = percent;\n        this.step = args.step;\n        if ((progressTime - prevProgressTime) % (this.duration * args.step / 100) === 0 || percent === 100) {\n            this.timerId = requestAnimationFrame(function () {\n                if (_this.enableProgress) {\n                    _this.getProgress().style[isVertical ? 'height' : 'width'] = percent + '%';\n                }\n                _this.element.setAttribute('aria-valuenow', percent.toString());\n            });\n            prevPercent = percent;\n            prevProgressTime = progressTime;\n        }\n        if (!this.isPaused) {\n            if (progressTime < this.duration && percent < 100) {\n                this.interval = window.setTimeout(function () {\n                    _this.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args.step, prevProgressTime, isVertical);\n                    // tslint:disable-next-line\n                }, (this.duration / 100) - timeDiffBuffer);\n            }\n            else {\n                this.interval = window.setTimeout(function () {\n                    _this.progressTime = _this.percent = 0;\n                    if (_this.enableProgress) {\n                        _this.getProgress().style[isVertical ? 'height' : 'width'] = '0%';\n                    }\n                    _this.element.setAttribute('aria-valuenow', '0');\n                    _this.hideSpin();\n                    // tslint:disable-next-line\n                }, 100);\n            }\n        }\n    };\n    ProgressButton.prototype.startContAnimate = function () {\n        var _this = this;\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (this.animationSettings.effect !== 'None') {\n            (new Animation({})).animate(ele, {\n                duration: this.animationSettings.duration,\n                name: 'Progress' + this.animationSettings.effect,\n                timingFunction: this.animationSettings.easing,\n                begin: function () {\n                    if (_this.spinSettings.position === 'Center') {\n                        _this.setSpinnerSize();\n                    }\n                },\n                end: function () {\n                    ele.classList.add('e-animate-end');\n                }\n            });\n        }\n        else if (this.spinSettings.position === 'Center') {\n            this.setSpinnerSize();\n        }\n    };\n    ProgressButton.prototype.finishProgress = function () {\n        var clsList = this.element.classList;\n        var isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        var args;\n        var count = 100;\n        for (var i = this.percent; i < count; i++) {\n            i += 10;\n            if (i > 100) {\n                i = 100;\n            }\n            if (this.enableProgress) {\n                this.getProgress().style[isVertical ? 'height' : 'width'] = (this.percent < 100) ? (i + '%') : '100%';\n            }\n        }\n        this.element.setAttribute('aria-valuenow', '0');\n        this.hideSpin();\n        args = { step: this.step, currentDuration: this.progressTime, percent: 100 };\n        clearTimeout(this.interval);\n        this.trigger('end', args);\n        this.progressTime = this.percent = 0;\n    };\n    ProgressButton.prototype.setSpinnerSize = function () {\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var spinner = this.getSpinner();\n        spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n        spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n        ele.classList.add('e-cont-animate');\n    };\n    ProgressButton.prototype.hideSpin = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (!(this.element.classList.contains(HIDESPINNER))) {\n            hideSpinner(this.element);\n        }\n        this.element.classList.remove(PROGRESSACTIVE);\n        if (this.animationSettings.effect !== 'None') {\n            cont.classList.remove('e-animate-end');\n        }\n        if (this.spinSettings.position === 'Center') {\n            var ele = this.getSpinner();\n            cont.classList.remove('e-cont-animate');\n            ele.style.width = 'auto';\n            ele.style.height = 'auto';\n        }\n    };\n    ProgressButton.prototype.setIconSpan = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n        if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n            cont.insertBefore(iconSpan, cont.childNodes[0]);\n        }\n        else {\n            cont.appendChild(iconSpan);\n        }\n    };\n    ProgressButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-label': this.element.textContent + ' progress', 'aria-valuemin': '0', 'aria-valuemax': '100', 'aria-valuenow': '0'\n        });\n    };\n    ProgressButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n    };\n    ProgressButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ProgressButtonModel} newProp\n     * @param  {ProgressButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var ele = this.element;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (isBlazor()) {\n                        var btnElem = this.element.querySelector('.e-btn-content');\n                        if (this.iconCss) {\n                            if (this.iconPosition === 'Left' || this.iconPosition === 'Top') {\n                                btnElem.childNodes[1].textContent = this.content;\n                            }\n                            else {\n                                btnElem.childNodes[0].textContent = this.content;\n                            }\n                        }\n                        else {\n                            btnElem.textContent = this.content;\n                        }\n                    }\n                    else {\n                        this.setContent();\n                        this.createSpinner();\n                        if (this.enableProgress) {\n                            this.createProgress();\n                        }\n                    }\n                    ele.setAttribute('aria-label', ele.textContent + ' progress');\n                    break;\n                case 'iconCss':\n                    if (!oldProp.iconCss) {\n                        this.setIconSpan();\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconSpan();\n                    break;\n                case 'enableProgress':\n                    if (newProp.enableProgress) {\n                        this.createProgress();\n                    }\n                    else {\n                        remove(this.getProgress());\n                    }\n                    break;\n                case 'spinSettings':\n                    if (newProp.spinSettings.position) {\n                        ele.classList.remove('e-spin-' + oldProp.spinSettings.position.toLowerCase());\n                        this.setSpinPosition(this.getSpinner());\n                    }\n                    if (newProp.spinSettings.template || newProp.spinSettings.width) {\n                        ele.removeChild(this.getSpinner());\n                        this.createSpinner();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Sets the focus to ProgressButton\n     * its native method\n     * @public\n     */\n    ProgressButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"enableProgress\", void 0);\n    __decorate([\n        Property(2000)\n    ], ProgressButton.prototype, \"duration\", void 0);\n    __decorate([\n        Property('Left')\n    ], ProgressButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Complex({}, SpinSettings)\n    ], ProgressButton.prototype, \"spinSettings\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], ProgressButton.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"fail\", void 0);\n    ProgressButton = __decorate([\n        NotifyPropertyChanges\n    ], ProgressButton);\n    return ProgressButton;\n}(Button));\nexport { ProgressButton };\n"]},"metadata":{},"sourceType":"module"}