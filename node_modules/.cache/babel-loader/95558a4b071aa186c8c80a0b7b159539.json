{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar VScroll =\n/** @class */\nfunction (_super) {\n  __extends(VScroll, _super);\n  /**\n   * Initializes a new instance of the VScroll class.\n   * @param options  - Specifies VScroll model properties as options.\n   * @param element  - Specifies the element for which vertical scrolling applies.\n   */\n\n\n  function VScroll(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   * @private\n   */\n\n\n  VScroll.prototype.preRender = function () {\n    this.browser = Browser.info.name;\n    this.browserCheck = this.browser === 'mozilla';\n    this.isDevice = Browser.isDevice;\n    this.customStep = true;\n    var ele = this.element;\n    this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n    this.initialize();\n\n    if (ele.id === '') {\n      ele.id = getUniqueID('vscroll');\n      this.uniqueId = true;\n    }\n\n    ele.style.display = 'block';\n\n    if (this.enableRtl) {\n      ele.classList.add(CLS_RTL);\n    }\n  };\n  /**\n   * To Initialize the vertical scroll rendering\n   * @private\n   */\n\n\n  VScroll.prototype.render = function () {\n    this.touchModule = new Touch(this.element, {\n      scroll: this.touchHandler.bind(this),\n      swipe: this.swipeHandler.bind(this)\n    });\n    EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n\n    if (!this.isDevice) {\n      this.createNavIcon(this.element);\n    } else {\n      this.element.classList.add(CLS_DEVICE);\n      this.createOverlayElement(this.element);\n    }\n\n    this.setScrollState();\n    EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n  };\n\n  VScroll.prototype.setScrollState = function () {\n    if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n      this.scrollStep = this.scrollEle.offsetHeight;\n      this.customStep = false;\n    } else {\n      this.customStep = true;\n    }\n  };\n\n  VScroll.prototype.initialize = function () {\n    var scrollCnt = buildTag('div', {\n      className: CLS_VSCROLLCON\n    });\n    var scrollBar = buildTag('div', {\n      className: CLS_VSCROLLBAR\n    });\n    scrollBar.setAttribute('tabindex', '-1');\n    var ele = this.element;\n    var innerEle = [].slice.call(ele.children);\n\n    for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n      var ele_1 = innerEle_1[_i];\n      scrollCnt.appendChild(ele_1);\n    }\n\n    scrollBar.appendChild(scrollCnt);\n    ele.appendChild(scrollBar);\n    scrollBar.style.overflowY = 'hidden';\n    this.scrollEle = scrollBar;\n    this.scrollItems = scrollCnt;\n  };\n\n  VScroll.prototype.getPersistData = function () {\n    var keyEntity = ['scrollStep'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Returns the current module name.\n   * @returns string\n   * @private\n   */\n\n\n  VScroll.prototype.getModuleName = function () {\n    return 'vScroll';\n  };\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   * @returns void\n   */\n\n\n  VScroll.prototype.destroy = function () {\n    var el = this.element;\n    el.style.display = '';\n    removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n    var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n    var overlays = selectAll('.' + CLS_OVERLAY, el);\n    [].slice.call(overlays).forEach(function (ele) {\n      detach(ele);\n    });\n\n    for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n      var elem = _a[_i];\n      el.appendChild(elem);\n    }\n\n    if (this.uniqueId) {\n      this.element.removeAttribute('id');\n    }\n\n    detach(this.scrollEle);\n\n    if (navs.length > 0) {\n      detach(navs[0]);\n\n      if (!isNullOrUndefined(navs[1])) {\n        detach(navs[1]);\n      }\n    }\n\n    EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n    this.touchModule.destroy();\n    this.touchModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Specifies the value to disable/enable the VScroll component.\n   * When set to `true` , the component will be disabled.\n   * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n   * @returns void.\n   */\n\n\n  VScroll.prototype.disable = function (value) {\n    var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n    value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n    [].slice.call(navEle).forEach(function (el) {\n      el.setAttribute('tabindex', !value ? '0' : '-1');\n    });\n  };\n\n  VScroll.prototype.createOverlayElement = function (element) {\n    var id = element.id.concat('_nav');\n    var downOverlayEle = buildTag('div', {\n      className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY\n    });\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var downEle = buildTag('div', {\n      id: id.concat('down'),\n      className: clsDown\n    });\n    var navItem = buildTag('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    downEle.appendChild(navItem);\n    var upEle = buildTag('div', {\n      className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY\n    });\n\n    if (this.ieCheck) {\n      downEle.classList.add('e-ie-align');\n    }\n\n    element.appendChild(downOverlayEle);\n    element.appendChild(downEle);\n    element.insertBefore(upEle, element.firstChild);\n    this.eventBinding([downEle]);\n  };\n\n  VScroll.prototype.createNavIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var nav = buildTag('div', {\n      id: id.concat('_down'),\n      className: clsDown\n    });\n    nav.setAttribute('aria-disabled', 'false');\n    var navItem = buildTag('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n    var navElement = buildTag('div', {\n      id: id.concat('_up'),\n      className: clsUp + ' ' + CLS_DISABLE\n    });\n    navElement.setAttribute('aria-disabled', 'true');\n    var navUpItem = buildTag('div', {\n      className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    navElement.appendChild(navUpItem);\n    nav.appendChild(navItem);\n    nav.setAttribute('tabindex', '0');\n    element.appendChild(nav);\n    element.insertBefore(navElement, element.firstChild);\n\n    if (this.ieCheck) {\n      nav.classList.add('e-ie-align');\n      navElement.classList.add('e-ie-align');\n    }\n\n    this.eventBinding([nav, navElement]);\n  };\n\n  VScroll.prototype.onKeyPress = function (ev) {\n    var _this = this;\n\n    if (ev.key === 'Enter') {\n      var timeoutFun_1 = function () {\n        _this.keyTimeout = true;\n\n        _this.eleScrolling(10, ev.target, true);\n      };\n\n      this.keyTimer = window.setTimeout(function () {\n        timeoutFun_1();\n      }, 100);\n    }\n  };\n\n  VScroll.prototype.onKeyUp = function (ev) {\n    if (ev.key !== 'Enter') {\n      return;\n    }\n\n    if (this.keyTimeout) {\n      this.keyTimeout = false;\n    } else {\n      ev.target.click();\n    }\n\n    clearTimeout(this.keyTimer);\n  };\n\n  VScroll.prototype.eventBinding = function (element) {\n    var _this = this;\n\n    [].slice.call(element).forEach(function (ele) {\n      new Touch(ele, {\n        tapHold: _this.tabHoldHandler.bind(_this),\n        tapHoldThreshold: 500\n      });\n      ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n      ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n      ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n      ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n      ele.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n      });\n      EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n    });\n  };\n\n  VScroll.prototype.repeatScroll = function () {\n    clearInterval(this.timeout);\n  };\n\n  VScroll.prototype.tabHoldHandler = function (ev) {\n    var _this = this;\n\n    var trgt = ev.originalEvent.target;\n    trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n    var scrollDistance = 10;\n\n    var timeoutFun = function () {\n      _this.eleScrolling(scrollDistance, trgt, true);\n    };\n\n    this.timeout = window.setInterval(function () {\n      timeoutFun();\n    }, 50);\n  };\n\n  VScroll.prototype.contains = function (element, className) {\n    return element.classList.contains(className);\n  };\n\n  VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n    var rootElement = this.element;\n    var classList = trgt.classList;\n\n    if (classList.contains(CLS_VSCROLLNAV)) {\n      classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n    }\n\n    if (classList.contains(CLS_NAVDOWNARROW)) {\n      this.frameScrollRequest(scrollDis, 'add', isContinuous);\n    } else if (classList.contains(CLS_NAVUPARROW)) {\n      this.frameScrollRequest(scrollDis, '', isContinuous);\n    }\n  };\n\n  VScroll.prototype.clickEventHandler = function (event) {\n    this.eleScrolling(this.scrollStep, event.target, false);\n  };\n\n  VScroll.prototype.wheelEventHandler = function (e) {\n    e.preventDefault();\n    this.frameScrollRequest(this.scrollStep, e.deltaY > 0 ? 'add' : '', false);\n  };\n\n  VScroll.prototype.swipeHandler = function (e) {\n    var swipeElement = this.scrollEle;\n    var distance;\n\n    if (e.velocity <= 1) {\n      distance = e.distanceY / (e.velocity * 10);\n    } else {\n      distance = e.distanceY / e.velocity;\n    }\n\n    var start = 0.5;\n\n    var animate = function () {\n      var step = Math.sin(start);\n\n      if (step <= 0) {\n        window.cancelAnimationFrame(step);\n      } else {\n        if (e.swipeDirection === 'Up') {\n          swipeElement.scrollTop += distance * step;\n        } else if (e.swipeDirection === 'Down') {\n          swipeElement.scrollTop -= distance * step;\n        }\n\n        start -= 0.02;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n    if (action === 'add') {\n      this.scrollEle.scrollTop += scrollVal;\n    } else {\n      this.scrollEle.scrollTop -= scrollVal;\n    }\n  };\n\n  VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n    var _this = this;\n\n    var step = 10;\n\n    if (isContinuous) {\n      this.scrollUpdating(scrollValue, action);\n      return;\n    }\n\n    if (!this.customStep) {\n      [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n        scrollValue -= el.offsetHeight;\n      });\n    }\n\n    var animate = function () {\n      if (scrollValue < step) {\n        window.cancelAnimationFrame(step);\n      } else {\n        _this.scrollUpdating(step, action);\n\n        scrollValue -= step;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.touchHandler = function (e) {\n    var el = this.scrollEle;\n    var distance;\n    distance = e.distanceY;\n\n    if (e.scrollDirection === 'Up') {\n      el.scrollTop = el.scrollTop + distance;\n    } else if (e.scrollDirection === 'Down') {\n      el.scrollTop = el.scrollTop - distance;\n    }\n  };\n\n  VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n    if (this.isDevice) {\n      var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n      var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n\n      if (isNullOrUndefined(addDisableCls)) {\n        classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n      } else {\n        classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n      }\n    } else {\n      addDisableCls.classList.add(CLS_DISABLE);\n      addDisableCls.setAttribute('aria-disabled', 'true');\n      addDisableCls.removeAttribute('tabindex');\n      removeDisableCls.classList.remove(CLS_DISABLE);\n      removeDisableCls.setAttribute('aria-disabled', 'false');\n      removeDisableCls.setAttribute('tabindex', '0');\n    }\n\n    this.repeatScroll();\n  };\n\n  VScroll.prototype.scrollEventHandler = function (e) {\n    var target = e.target;\n    var height = target.offsetHeight;\n    var rootEle = this.element;\n    var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n    var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n    var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n    var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n    var scrollTop = target.scrollTop;\n\n    if (scrollTop <= 0) {\n      scrollTop = -scrollTop;\n    }\n\n    if (this.isDevice) {\n      if (scrollTop < OVERLAY_MAXWID) {\n        upOverlay.style.height = scrollTop + 'px';\n      } else {\n        upOverlay.style.height = '40px';\n      }\n\n      if (target.scrollHeight - Math.ceil(height + scrollTop) < OVERLAY_MAXWID) {\n        downOverlay.style.height = target.scrollHeight - Math.ceil(height + scrollTop) + 'px';\n      } else {\n        downOverlay.style.height = '40px';\n      }\n    }\n\n    if (scrollTop === 0) {\n      this.arrowDisabling(navUpEle, navDownEle);\n    } else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n      this.arrowDisabling(navDownEle, navUpEle);\n    } else {\n      var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n\n      if (disEle) {\n        disEle.classList.remove(CLS_DISABLE);\n        disEle.setAttribute('aria-disabled', 'false');\n        disEle.setAttribute('tabindex', '0');\n      }\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n   * @param  {VScrollModel} newProp\n   * @param  {VScrollModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'scrollStep':\n          this.setScrollState();\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n          break;\n      }\n    }\n  };\n\n  __decorate([Property(null)], VScroll.prototype, \"scrollStep\", void 0);\n\n  VScroll = __decorate([NotifyPropertyChanges], VScroll);\n  return VScroll;\n}(Component);\n\nexport { VScroll };","map":{"version":3,"sources":["/Users/ewong/Development/Whiteboard/node_modules/@syncfusion/ej2-navigations/src/common/v-scroll.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Touch","Component","EventHandler","selectAll","getUniqueID","removeClass","NotifyPropertyChanges","Property","Browser","detach","createElement","buildTag","classList","isNullOrUndefined","CLS_ROOT","CLS_RTL","CLS_DISABLE","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVARROW","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_DEVICE","CLS_OVERLAY","CLS_UPOVERLAY","CLS_DOWNOVERLAY","OVERLAY_MAXWID","VScroll","_super","options","element","call","preRender","browser","info","name","browserCheck","isDevice","customStep","ele","ieCheck","initialize","id","uniqueId","style","display","enableRtl","add","render","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollEventHandler","createNavIcon","createOverlayElement","setScrollState","wheelEventHandler","scrollStep","offsetHeight","scrollCnt","className","scrollBar","setAttribute","innerEle","slice","children","_i","innerEle_1","ele_1","appendChild","overflowY","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","el","navs","overlays","forEach","_a","elem","removeAttribute","remove","disable","value","navEle","concat","downOverlayEle","clsDown","downEle","navItem","upEle","insertBefore","firstChild","eventBinding","nav","clsUp","navElement","navUpItem","onKeyPress","ev","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","e","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDistance","timeoutFun","setInterval","scrollDis","isContinuous","rootElement","querySelector","frameScrollRequest","event","deltaY","swipeElement","distance","velocity","distanceY","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","scrollTop","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollValue","scrollDirection","arrowDisabling","addDisableCls","removeDisableCls","arrowEle","arrowIcon","height","rootEle","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","prop"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @class */ (function (_super) {\n    __extends(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     * @param options  - Specifies VScroll model properties as options.\n     * @param element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     * @private\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = buildTag('div', { className: CLS_VSCROLLCON });\n        var scrollBar = buildTag('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflowY = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = buildTag('div', { id: id.concat('down'), className: clsDown });\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = buildTag('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = buildTag('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = buildTag('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () { timeoutFun_1(); }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () { timeoutFun(); }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootElement = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_VSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (classList.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance;\n        distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var rootEle = this.element;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {VScrollModel} newProp\n     * @param  {VScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\nexport { VScroll };\n"]},"metadata":{},"sourceType":"module"}