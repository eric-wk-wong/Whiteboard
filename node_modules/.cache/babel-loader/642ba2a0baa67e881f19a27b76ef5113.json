{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isVisible, closest, attributes, detach, select, blazorTemplates, isBlazor, addClass, append } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex, updateBlazorTemplate, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n\nvar AccordionActionSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionActionSettings, _super);\n\n  function AccordionActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n\n  return AccordionActionSettings;\n}(ChildProperty);\n\nexport { AccordionActionSettings };\n\nvar AccordionAnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionAnimationSettings, _super);\n\n  function AccordionAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\n\nvar AccordionItem =\n/** @class */\nfunction (_super) {\n  __extends(AccordionItem, _super);\n\n  function AccordionItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(null)], AccordionItem.prototype, \"content\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"header\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n  return AccordionItem;\n}(ChildProperty);\n\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\nvar Accordion =\n/** @class */\nfunction (_super) {\n  __extends(Accordion, _super);\n  /**\n   * Initializes a new instance of the Accordion class.\n   * @param options  - Specifies Accordion model properties as options.\n   * @param element  - Specifies the element that is rendered as an Accordion.\n   */\n\n\n  function Accordion(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n\n    _this.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   * @returns void\n   */\n\n\n  Accordion.prototype.destroy = function () {\n    var _this = this;\n\n    var ele = this.element;\n    this.resetBlazorTemplates();\n\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    this.isDestroy = true;\n    this.restoreContent(null);\n    [].slice.call(ele.children).forEach(function (el) {\n      if (!el.classList.contains('blazor-template')) {\n        ele.removeChild(el);\n      }\n    });\n\n    if (this.trgtEle) {\n      while (this.ctrlTem.firstElementChild) {\n        ele.appendChild(this.ctrlTem.firstElementChild);\n      }\n    }\n\n    ele.classList.remove(CLS_ACRDN_ROOT);\n    ele.removeAttribute('style');\n    ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n      _this.element.removeAttribute(attrb);\n    });\n  };\n\n  Accordion.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.isNested = false;\n    this.templateEle = [];\n\n    if (!this.isDestroy) {\n      this.isDestroy = false;\n    }\n\n    if (!isNOU(nested)) {\n      nested.classList.add(CLS_NEST);\n      this.isNested = true;\n    } else {\n      this.element.classList.add(CLS_ACRDN_ROOT);\n    }\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL);\n    }\n\n    if (!this.enablePersistence || isNOU(this.expandedItems)) {\n      this.expandedItems = [];\n    }\n  };\n\n  Accordion.prototype.resetBlazorTemplates = function () {\n    var _this = this;\n\n    if (isBlazor() && !this.isStringTemplate) {\n      if (this.itemTemplate) {\n        // tslint:disable-next-line:no-any\n        blazorTemplates[this.element.id + '_itemTemplate'] = [];\n        resetBlazorTemplate(this.element.id + '_itemTemplate', 'ItemTemplate');\n      }\n\n      if (this.headerTemplate) {\n        // tslint:disable-next-line:no-any\n        blazorTemplates[this.element.id + '_headerTemplate'] = [];\n        resetBlazorTemplate(this.element.id + '_headerTemplate', 'HeaderTemplate');\n      }\n\n      if (!isNOU(this.items)) {\n        this.items.forEach(function (item, index) {\n          if (item && item.header && item.header.indexOf('<div>Blazor') === 0) {\n            // tslint:disable-next-line:no-any\n            blazorTemplates[_this.element.id + index + '_header'] = [];\n            resetBlazorTemplate(_this.element.id + index + '_header', 'HeaderTemplate');\n          }\n\n          if (item && item.content && item.content.indexOf('<div>Blazor') === 0) {\n            // tslint:disable-next-line:no-any\n            blazorTemplates[_this.element.id + index + '_content'] = [];\n            resetBlazorTemplate(_this.element.id + index + '_content', 'ContentTemplate');\n          }\n        });\n      }\n    }\n  };\n\n  Accordion.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Accordion.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n  /**\n   * To initialize the control rendering\n   * @private\n   */\n\n\n  Accordion.prototype.render = function () {\n    this.initializeheaderTemplate();\n    this.initializeItemTemplate();\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Accordion.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n    setStyle(this.element, {\n      'width': width,\n      'height': height\n    });\n    var ariaAttr = {\n      'aria-disabled': 'false',\n      'role': 'presentation',\n      'aria-multiselectable': 'true'\n    };\n\n    if (this.expandedItems.length > 0) {\n      this.initExpand = this.expandedItems;\n    }\n\n    attributes(this.element, ariaAttr);\n\n    if (this.expandMode === 'Single') {\n      this.element.setAttribute('aria-multiselectable', 'false');\n    }\n  };\n\n  Accordion.prototype.renderControl = function () {\n    this.trgtEle = this.element.children.length > 0 && !(isBlazor() && !this.isStringTemplate) ? select('div', this.element) : null;\n    this.renderItems();\n    this.initItemExpand();\n  };\n\n  Accordion.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n\n    if (!isNOU(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n  };\n\n  Accordion.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n    if (!this.isNested && !this.isDestroy) {\n      rippleEffect(this.element, {\n        selector: '.' + CLS_HEADER\n      });\n    }\n\n    if (!this.isNested) {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  };\n\n  Accordion.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return templateCompiler(document.querySelector(template).innerHTML.trim());\n        }\n      } catch (error) {\n        return templateCompiler(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Accordion.prototype.initializeheaderTemplate = function () {\n    if (this.headerTemplate) {\n      this.headerTemplateFn = this.templateParser(this.headerTemplate);\n    }\n  };\n\n  Accordion.prototype.initializeItemTemplate = function () {\n    if (this.itemTemplate) {\n      this.itemTemplateFn = this.templateParser(this.itemTemplate);\n    }\n  };\n\n  Accordion.prototype.getheaderTemplate = function () {\n    return this.headerTemplateFn;\n  };\n\n  Accordion.prototype.getItemTemplate = function () {\n    return this.itemTemplateFn;\n  };\n\n  Accordion.prototype.updateContentBlazorTemplate = function (item, index) {\n    if (this.itemTemplate && isBlazor() && !this.isStringTemplate) {\n      updateBlazorTemplate(this.element.id + '_itemTemplate', 'ItemTemplate', this, false);\n    }\n\n    if (item && item.content && isBlazor() && !this.isStringTemplate && item.content.indexOf('<div>Blazor') === 0) {\n      updateBlazorTemplate(this.element.id + index + '_content', 'ContentTemplate', item);\n    }\n  };\n\n  Accordion.prototype.updateHeaderBlazorTemplate = function (item, index) {\n    if (this.headerTemplate && isBlazor() && !this.isStringTemplate) {\n      updateBlazorTemplate(this.element.id + '_headerTemplate', 'HeaderTemplate', this, false);\n    }\n\n    if (item && item.header && isBlazor() && !this.isStringTemplate && item.header.indexOf('<div>Blazor') === 0) {\n      updateBlazorTemplate(this.element.id + index + '_header', 'HeaderTemplate', item);\n    }\n  };\n\n  Accordion.prototype.focusIn = function (e) {\n    e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.focusOut = function (e) {\n    e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.ctrlTemplate = function () {\n    this.ctrlTem = this.element.cloneNode(true);\n    var innerEles;\n    var rootEle = select('.' + CLS_CONTAINER, this.element);\n\n    if (rootEle) {\n      innerEles = rootEle.children;\n    } else {\n      innerEles = this.element.children;\n    }\n\n    var items = [];\n    /* tslint:disable */\n\n    [].slice.call(innerEles).forEach(function (el) {\n      items.push({\n        header: el.childElementCount > 0 && el.children[0] ? el.children[0] : '',\n        content: el.childElementCount > 1 && el.children[1] ? el.children[1] : ''\n      });\n      el.parentNode.removeChild(el);\n    });\n    /* tslint:enable */\n\n    if (rootEle) {\n      this.element.removeChild(rootEle);\n    }\n\n    this.setProperties({\n      items: items\n    }, true);\n  };\n\n  Accordion.prototype.toggleIconGenerate = function () {\n    var tglIcon = this.createElement('div', {\n      className: CLS_TOOGLEICN\n    });\n    var hdrColIcon = this.createElement('span', {\n      className: CLS_COLLAPSEICN\n    });\n    tglIcon.appendChild(hdrColIcon);\n    return tglIcon;\n  };\n\n  Accordion.prototype.initItemExpand = function () {\n    var len = this.initExpand.length;\n\n    if (len === 0) {\n      return;\n    }\n\n    if (this.expandMode === 'Single') {\n      this.expandItem(true, this.initExpand[len - 1]);\n    } else {\n      for (var i = 0; i < len; i++) {\n        this.expandItem(true, this.initExpand[i]);\n      }\n    }\n  };\n\n  Accordion.prototype.renderItems = function () {\n    var _this = this;\n\n    var ele = this.element;\n    var innerItem;\n    var innerDataSourceItem;\n\n    if (isNOU(this.initExpand)) {\n      this.initExpand = [];\n    }\n\n    if (!isNOU(this.trgtEle)) {\n      this.ctrlTemplate();\n    }\n\n    if (this.dataSource.length > 0) {\n      this.dataSource.forEach(function (item, index) {\n        innerDataSourceItem = _this.renderInnerItem(item, index);\n        ele.appendChild(innerDataSourceItem);\n\n        if (innerDataSourceItem.childElementCount > 0) {\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        }\n      });\n      this.updateHeaderBlazorTemplate();\n    } else {\n      var items = this.items;\n\n      if (ele && items.length > 0) {\n        items.forEach(function (item, index) {\n          innerItem = _this.renderInnerItem(item, index);\n          ele.appendChild(innerItem);\n\n          _this.updateHeaderBlazorTemplate(item, index);\n\n          if (innerItem.childElementCount > 0) {\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n          }\n        });\n      }\n    }\n  };\n\n  Accordion.prototype.clickHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.target;\n    var items = this.getItems();\n    var eventArgs = {};\n    var index;\n    var tglIcon;\n    var acrdEle = closest(trgt, '.' + CLS_ROOT);\n\n    if (acrdEle !== this.element) {\n      return;\n    }\n\n    trgt.classList.add('e-target');\n    var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n    var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n    var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n    if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n      acrdnHdr = acrdnItem.children[0];\n      acrdnCtn = acrdnItem.children[1];\n    }\n\n    if (acrdnHdr) {\n      tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n    }\n\n    var acrdnCtnItem;\n\n    if (acrdnHdr) {\n      acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM);\n    } else if (acrdnCtn) {\n      acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n    }\n\n    var acrdActive = [];\n    index = this.getIndexByItem(acrdnItem);\n\n    if (acrdnCtnItem) {\n      eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n    }\n\n    eventArgs.originalEvent = e;\n    var ctnCheck = !isNOU(tglIcon) && acrdnItem.childElementCount <= 1;\n\n    if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n      acrdnItem.appendChild(this.contentRendering(index));\n      this.updateContentBlazorTemplate(eventArgs.item, index);\n      this.ariaAttrUpdate(acrdnItem);\n    }\n\n    this.trigger('clicked', eventArgs);\n    var cntclkCheck = acrdnCtn && !isNOU(select('.e-target', acrdnCtn));\n    var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT;\n    var inlineEleAcrdn = acrdnCtn && !isNOU(select('.' + CLS_ROOT, acrdnCtn)) && isNOU(closest(trgt, inlineAcrdnSel));\n    var nestContCheck = acrdnCtn && isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element);\n    cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n    trgt.classList.remove('e-target');\n\n    if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n      return;\n    }\n\n    var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n    var acrdnchild = acrdcontainer ? acrdcontainer.children : this.element.children;\n    [].slice.call(acrdnchild).forEach(function (el) {\n      if (el.classList.contains(CLS_ACTIVE)) {\n        acrdActive.push(el);\n      }\n    });\n    var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n\n    if (acrdAniEle.length > 0) {\n      for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n        var el = acrdAniEle_1[_i];\n        acrdActive.push(el.parentElement);\n      }\n    }\n\n    var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n    var sameHeader = false;\n\n    if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n      var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n      var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n      if (isNOU(acrdnCtn_1)) {\n        return;\n      }\n\n      sameHeader = expandState === acrdnItem;\n\n      if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n        this.collapse(acrdnCtn_1);\n      } else {\n        if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n          acrdActive.forEach(function (el) {\n            _this.collapse(select('.' + CLS_CONTENT, el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n        }\n\n        this.expand(acrdnCtn_1);\n      }\n\n      if (!isNOU(expandState) && !sameHeader) {\n        expandState.classList.remove(CLS_EXPANDSTATE);\n      }\n    }\n  };\n\n  Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n    var clst;\n    var clstItem = closest(trgt, '.' + CLS_ITEM);\n\n    if (trgt === root) {\n      clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n    } else if (trgt.classList.contains(CLS_HEADER)) {\n      clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n      if (clstItem) {\n        clst = select('.' + CLS_HEADER, clstItem);\n      }\n    }\n\n    if (clst) {\n      clst.focus();\n    }\n  };\n\n  Accordion.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n    var header = closest(e.target, CLS_HEADER);\n\n    if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n      return;\n    }\n\n    var clst;\n    var root = this.element;\n    var content;\n\n    switch (e.action) {\n      case 'moveUp':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'moveDown':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'space':\n      case 'enter':\n        content = trgt.nextElementSibling;\n\n        if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n          if (content.getAttribute('e-animate') !== 'true') {\n            trgt.click();\n          }\n        } else {\n          trgt.click();\n        }\n\n        break;\n\n      case 'home':\n      case 'end':\n        clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n        clst.focus();\n        break;\n    }\n  };\n\n  Accordion.prototype.headerEleGenerate = function () {\n    var header = this.createElement('div', {\n      className: CLS_HEADER,\n      id: getUniqueID('acrdn_header')\n    });\n    var items = this.getItems();\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'heading',\n      'aria-selected': 'false',\n      'aria-disabled': 'false',\n      'aria-level': items.length.toString()\n    };\n    attributes(header, ariaAttr);\n    return header;\n  };\n\n  Accordion.prototype.renderInnerItem = function (item, index) {\n    var innerEle;\n    innerEle = this.createElement('div', {\n      className: CLS_ITEM\n    });\n    innerEle.id = getUniqueID('acrdn_item');\n    attributes(innerEle, {\n      'aria-expanded': 'false'\n    });\n\n    if (this.headerTemplate) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      append(this.getheaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n      innerEle.appendChild(ctnEle);\n      ctnEle.appendChild(this.toggleIconGenerate());\n      this.add(innerEle, CLS_SLCT);\n      return innerEle;\n    }\n\n    if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n      innerEle.appendChild(ctnEle);\n    }\n\n    var hdr = select('.' + CLS_HEADER, innerEle);\n\n    if (item.expanded && !isNOU(index) && !this.enablePersistence) {\n      if (this.initExpand.indexOf(index) === -1) {\n        this.initExpand.push(index);\n      }\n    }\n\n    if (item.cssClass) {\n      var acrdnClass = item.cssClass;\n      var arcdnClassList = [];\n      arcdnClassList = acrdnClass.split(' ');\n      arcdnClassList.forEach(function (el) {\n        addClass([innerEle], el);\n      });\n    }\n\n    if (item.iconCss) {\n      var hdrIcnEle = this.createElement('div', {\n        className: CLS_HEADERICN\n      });\n      var icon = this.createElement('span', {\n        className: item.iconCss + ' e-icons'\n      });\n      hdrIcnEle.appendChild(icon);\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        hdr.appendChild(hdrIcnEle);\n        innerEle.appendChild(hdr);\n      } else {\n        hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n      }\n    }\n\n    if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n      var hdrIcon = this.toggleIconGenerate();\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        innerEle.appendChild(hdr);\n      }\n\n      hdr.appendChild(hdrIcon);\n      this.add(innerEle, CLS_SLCT);\n    }\n\n    return innerEle;\n  };\n\n  Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n    var property = prop === 'content' ? item.content : item.header;\n    var content = property;\n\n    if (this.isAngular && !isNOU(content.elementRef)) {\n      var data = content.elementRef.nativeElement.data;\n\n      if (isNOU(data) || data === '' || data.indexOf('bindings=') === -1) {\n        return true;\n      }\n\n      var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n\n      if (!isNOU(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  };\n\n  Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n    var templateFn;\n    var temString;\n\n    try {\n      if (document.querySelectorAll(value).length) {\n        var eleVal = document.querySelector(value);\n        temString = eleVal.outerHTML.trim();\n        ele.appendChild(eleVal);\n        eleVal.style.display = '';\n      }\n    } catch (e) {\n      if (typeof value === 'string' && isBlazor() && value.indexOf('<div>Blazor') !== 0) {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        /* tslint:disable */\n      } else if (!isNOU(this.trgtEle) && value instanceof HTMLElement) {\n        ele.appendChild(value);\n        ele.firstElementChild.style.display = '';\n        /* tslint:enable */\n      } else {\n        templateFn = templateCompiler(value);\n      }\n    }\n\n    var tempArray;\n\n    if (!isNOU(templateFn)) {\n      var templateProps = void 0;\n\n      if (ele.classList.contains(CLS_HEADERCTN)) {\n        templateProps = this.element.id + index + '_header';\n      } else if (ele.classList.contains(CLS_CTENT)) {\n        templateProps = this.element.id + index + '_content';\n      }\n\n      tempArray = templateFn({}, null, null, templateProps, this.isStringTemplate);\n    }\n\n    if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n      [].slice.call(tempArray).forEach(function (el) {\n        if (!isNOU(el.tagName)) {\n          el.style.display = '';\n        }\n\n        ele.appendChild(el);\n      });\n    } else if (ele.childElementCount === 0) {\n      ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n    }\n\n    if (!isNOU(temString)) {\n      if (this.templateEle.indexOf(value) === -1) {\n        this.templateEle.push(value);\n      }\n    }\n\n    return ele;\n  };\n\n  Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n    var header = select('.' + CLS_HEADER, itemEle);\n    var content = select('.' + CLS_CONTENT, itemEle);\n    header.setAttribute('aria-controls', content.id);\n    content.setAttribute('aria-labelledby', header.id);\n    content.setAttribute('role', 'definition');\n  };\n\n  Accordion.prototype.contentRendering = function (index) {\n    var itemcnt = this.createElement('div', {\n      className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n      id: getUniqueID('acrdn_panel')\n    });\n    attributes(itemcnt, {\n      'aria-hidden': 'true'\n    });\n    var ctn = this.createElement('div', {\n      className: CLS_CTENT\n    });\n\n    if (this.dataSource.length > 0) {\n      append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n      itemcnt.appendChild(ctn);\n    } else {\n      itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n    }\n\n    return itemcnt;\n  };\n\n  Accordion.prototype.expand = function (trgt) {\n    var _this = this;\n\n    var eventArgs;\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n    var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n    var animation = {\n      name: this.animation.expand.effect,\n      duration: this.animation.expand.duration,\n      timingFunction: this.animation.expand.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: true\n    };\n    var eff = animation.name;\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        icon.classList.add(CLS_TOGANIMATE);\n\n        _this.expandedItemsPush(trgtItemEle);\n\n        if (!isNOU(expandState)) {\n          expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n        if (animation.name === 'None') {\n          _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n    var _this = this;\n\n    var height;\n    this.lastActiveItemId = trgtItemEle.id;\n\n    if (ef === 'SlideDown') {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n        trgt.style.position = 'absolute';\n        height = trgtItemEle.offsetHeight;\n        trgt.style.maxHeight = trgt.offsetHeight + 'px';\n        trgtItemEle.style.maxHeight = '';\n      };\n\n      animate.progress = function () {\n        trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n      };\n\n      animate.end = function () {\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': ''\n        });\n        trgtItemEle.style.minHeight = '';\n\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    } else {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n      };\n\n      animate.end = function () {\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(trgt, CLS_CTNHIDE);\n    this.add(trgtItemEle, CLS_SLCTED);\n    this.add(icon, CLS_EXPANDICN);\n\n    if (progress === 'end') {\n      this.add(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'false');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'true'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'true'\n      });\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.trigger('expanded', eventArgs);\n    }\n  };\n\n  Accordion.prototype.expandedItemsPush = function (item) {\n    var index = this.getIndexByItem(item);\n\n    if (this.expandedItems.indexOf(index) === -1) {\n      this.expandedItems.push(index);\n    }\n  };\n\n  Accordion.prototype.getIndexByItem = function (item) {\n    var itemEle = this.getItemElements();\n    return [].slice.call(itemEle).indexOf(item);\n  };\n\n  Accordion.prototype.getItemElements = function () {\n    var itemEle = [];\n    var itemCollection = this.element.children;\n    [].slice.call(itemCollection).forEach(function (el) {\n      if (el.classList.contains(CLS_ITEM)) {\n        itemEle.push(el);\n      }\n    });\n    return itemEle;\n  };\n\n  Accordion.prototype.expandedItemsPop = function (item) {\n    var index = this.getIndexByItem(item);\n    this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n  };\n\n  Accordion.prototype.collapse = function (trgt) {\n    var _this = this;\n\n    var eventArgs;\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var animation = {\n      name: this.animation.collapse.effect,\n      duration: this.animation.collapse.duration,\n      timingFunction: this.animation.collapse.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: false\n    };\n    var eff = animation.name;\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        _this.expandedItemsPop(trgtItemEle);\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n\n        if (animation.name === 'None') {\n          _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHeight;\n    var itemHeight;\n    var remain;\n    this.lastActiveItemId = trgtItEl.id;\n\n    if (ef === 'SlideUp') {\n      animate.begin = function () {\n        itemHeight = trgtItEl.offsetHeight;\n        trgtItEl.style.minHeight = itemHeight + 'px';\n        trgt.style.position = 'absolute';\n        height = trgtItEl.offsetHeight;\n        trgtHeight = trgt.offsetHeight;\n        trgt.style.maxHeight = trgtHeight + 'px';\n\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.progress = function () {\n        remain = height - (trgtHeight - trgt.offsetHeight);\n\n        if (remain < itemHeight) {\n          trgtItEl.style.minHeight = remain + 'px';\n        }\n      };\n\n      animate.end = function () {\n        trgt.style.display = 'none';\n\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n        trgtItEl.style.minHeight = '';\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': '',\n          'display': ''\n        });\n      };\n    } else {\n      animate.begin = function () {\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.end = function () {\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(icon, CLS_EXPANDICN);\n    this.remove(trgtItemEle, CLS_SLCTED);\n\n    if (progress === 'end') {\n      this.add(trgt, CLS_CTNHIDE);\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.remove(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'true');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'false'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'false'\n      });\n      this.trigger('expanded', eventArgs);\n    }\n  };\n  /**\n   * Returns the current module name.\n   * @returns string\n   * @private\n   */\n\n\n  Accordion.prototype.getModuleName = function () {\n    return 'accordion';\n  };\n\n  Accordion.prototype.itemAttribUpdate = function () {\n    var items = this.getItems();\n    var itemEle = this.getItemElements();\n    var itemLen = items.length;\n    itemEle.forEach(function (ele) {\n      select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n    });\n  };\n\n  Accordion.prototype.getItems = function () {\n    var items;\n\n    if (this.itemTemplate && this.headerTemplate) {\n      items = this.dataSource;\n    } else {\n      items = this.items;\n    }\n\n    return items;\n  };\n  /**\n   * Adds new item to the Accordion with the specified index of the Accordion.\n   * @param  {AccordionItemModel | Object} item - Item array that is to be added to the Accordion.\n   * @param  {number} index - Number value that determines where the item should be added.\n   * By default, item is added at the last index if the index is not specified.\n   * @returns void\n   */\n\n\n  Accordion.prototype.addItem = function (item, index) {\n    var ele = this.element;\n    var itemEle = this.getItemElements();\n    var items = this.getItems();\n\n    if (isNOU(index)) {\n      index = items.length;\n    }\n\n    if (ele.childElementCount >= index) {\n      items.splice(index, 0, item);\n      var innerItemEle = this.renderInnerItem(item, index);\n\n      if (ele.childElementCount === index) {\n        ele.appendChild(innerItemEle);\n      } else {\n        ele.insertBefore(innerItemEle, itemEle[index]);\n      }\n\n      this.updateHeaderBlazorTemplate();\n      EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n      EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n      this.itemAttribUpdate();\n    }\n\n    this.expandedItems = [];\n    this.expandedItemRefresh(ele);\n\n    if (item && item.expanded) {\n      this.expandItem(true, index);\n    }\n  };\n\n  Accordion.prototype.expandedItemRefresh = function (ele) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n    [].slice.call(itemEle).forEach(function (el) {\n      if (el.classList.contains(CLS_SLCTED)) {\n        _this.expandedItemsPush(el);\n      }\n    });\n  };\n  /**\n   * Dynamically removes item from Accordion.\n   * @param  {number} index - Number value that determines which item should be removed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.removeItem = function (index) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n    var items = this.getItems();\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    this.restoreContent(index);\n    detach(ele);\n    items.splice(index, 1);\n    this.itemAttribUpdate();\n    this.expandedItems = [];\n    this.expandedItemRefresh(this.element);\n  };\n  /**\n   * Sets focus to the specified index item header in Accordion.\n   * @param  {number} index - Number value that determines which item should be focused.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.select = function (index) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n      return;\n    }\n\n    ele.children[0].focus();\n  };\n  /**\n   * Shows or hides the specified item from Accordion.\n   * @param  {number} index - Number value that determines which item should be hidden/shown.\n   * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n   *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.hideItem = function (index, isHidden) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    if (isNOU(isHidden)) {\n      isHidden = true;\n    }\n\n    isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n  };\n  /**\n   * Enables/Disables the specified Accordion item.\n   * @param  {number} index - Number value that determines which item should be enabled/disabled.\n   * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n   * If the `isEnable` value is true, the item is enabled or else it is disabled.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.enableItem = function (index, isEnable) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    var eleHeader = ele.firstElementChild;\n\n    if (isEnable) {\n      this.remove(ele, CLS_DISABLE);\n      attributes(eleHeader, {\n        'tabindex': '0',\n        'aria-disabled': 'false'\n      });\n      eleHeader.focus();\n    } else {\n      if (ele.classList.contains(CLS_ACTIVE)) {\n        this.expandItem(false, index);\n        this.eleMoveFocus('movedown', this.element, eleHeader);\n      }\n\n      this.add(ele, CLS_DISABLE);\n      eleHeader.setAttribute('aria-disabled', 'true');\n      eleHeader.removeAttribute('tabindex');\n    }\n  };\n  /**\n   * Expands/Collapses the specified Accordion item.\n   * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n   * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n   *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.expandItem = function (isExpand, index) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n\n    if (isNOU(index)) {\n      if (this.expandMode === 'Single' && isExpand) {\n        var ele = itemEle[itemEle.length - 1];\n        this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n      } else {\n        var item = select('#' + this.lastActiveItemId, this.element);\n        [].slice.call(itemEle).forEach(function (el) {\n          _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n\n          el.classList.remove(CLS_EXPANDSTATE);\n        });\n        var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n\n        if (expandedItem) {\n          expandedItem.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        if (item) {\n          item.classList.add(CLS_EXPANDSTATE);\n        }\n      }\n    } else {\n      var ele = itemEle[index];\n\n      if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || ele.classList.contains(CLS_ACTIVE) && isExpand) {\n        return;\n      } else {\n        if (this.expandMode === 'Single') {\n          this.expandItem(false);\n        }\n\n        this.itemExpand(isExpand, ele, index);\n      }\n    }\n  };\n\n  Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n    var ctn = ele.children[1];\n    var items = this.getItems();\n\n    if (ele.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    if (isNOU(ctn) && isExpand) {\n      ctn = this.contentRendering(index);\n      ele.appendChild(ctn);\n      this.updateContentBlazorTemplate(items[index], index);\n      this.ariaAttrUpdate(ele);\n    } else if (isNOU(ctn)) {\n      return;\n    }\n\n    isExpand ? this.expand(ctn) : this.collapse(ctn);\n  };\n\n  Accordion.prototype.destroyItems = function () {\n    this.restoreContent(null);\n    [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n      detach(el);\n    });\n  };\n\n  Accordion.prototype.restoreContent = function (index) {\n    var ctnElePos;\n\n    if (isNOU(index)) {\n      ctnElePos = this.element;\n    } else {\n      ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM)[index];\n    }\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNOU(ctnElePos.querySelector(eleStr))) {\n        document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Accordion.prototype.updateItem = function (item, index) {\n    if (!isNOU(item)) {\n      var items = this.getItems();\n      var itemObj = items[index];\n      items.splice(index, 1);\n      this.restoreContent(index);\n      detach(item);\n      this.addItem(itemObj, index);\n    }\n  };\n\n  Accordion.prototype.getPersistData = function () {\n    var keyEntity = ['expandedItems'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   * @param  {AccordionModel} newProp\n   * @param  {AccordionModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var acrdn = this.element;\n    var isRefresh = false;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n\n            for (var j = 0; j < changedProp.length; j++) {\n              var index = parseInt(Object.keys(newProp.items)[j], 10);\n              var property = Object.keys(newProp.items[index])[0];\n              var item = selectAll('.' + CLS_ITEM, this.element)[index];\n              var oldVal = Object(oldProp.items[index])[property];\n              var newVal = Object(newProp.items[index])[property];\n              var temp = property;\n\n              if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || temp === 'content' && oldVal === '') {\n                this.updateItem(item, index);\n              }\n\n              if (property === 'cssClass' && !isNOU(item)) {\n                item.classList.remove(oldVal);\n                item.classList.add(newVal);\n              }\n\n              if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                if (item.classList.contains(CLS_SLCTED)) {\n                  this.expandItem(false, index);\n                }\n\n                detach(item.querySelector('.' + CLS_CONTENT));\n              }\n            }\n          } else {\n            isRefresh = true;\n          }\n\n          break;\n\n        case 'dataSource':\n          isRefresh = true;\n          break;\n\n        case 'headerTemplate':\n          this.initializeheaderTemplate();\n          isRefresh = true;\n          break;\n\n        case 'itemTemplate':\n          this.initializeItemTemplate();\n          isRefresh = true;\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n          break;\n\n        case 'height':\n          setStyle(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyle(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'expandMode':\n          if (newProp.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n\n            if (this.expandedItems.length > 1) {\n              this.expandItem(false);\n            }\n          } else {\n            this.element.setAttribute('aria-multiselectable', 'true');\n          }\n\n          break;\n      }\n    }\n\n    if (isRefresh) {\n      this.resetBlazorTemplates();\n      this.destroyItems();\n      this.renderItems();\n      this.initItemExpand();\n    }\n  };\n\n  __decorate([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n  __decorate([Property([])], Accordion.prototype, \"dataSource\", void 0);\n\n  __decorate([Property()], Accordion.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property()], Accordion.prototype, \"headerTemplate\", void 0);\n\n  __decorate([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n  __decorate([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n  __decorate([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"clicked\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanding\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanded\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"created\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"destroyed\", void 0);\n\n  Accordion = __decorate([NotifyPropertyChanges], Accordion);\n  return Accordion;\n}(Component);\n\nexport { Accordion };","map":{"version":3,"sources":["/Users/jay/node_modules/@syncfusion/ej2-navigations/src/accordion/accordion.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Property","Event","KeyboardEvents","rippleEffect","getUniqueID","compile","templateCompiler","isVisible","closest","attributes","detach","select","blazorTemplates","isBlazor","addClass","append","NotifyPropertyChanges","ChildProperty","Collection","Animation","setStyleAttribute","setStyle","Complex","updateBlazorTemplate","resetBlazorTemplate","isNullOrUndefined","isNOU","formatUnit","selectAll","SanitizeHtmlHelper","CLS_ACRDN_ROOT","CLS_ROOT","CLS_ITEM","CLS_ITEMFOCUS","CLS_ITEMHIDE","CLS_HEADER","CLS_HEADERICN","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_COLLAPSEICN","CLS_EXPANDICN","CLS_RTL","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_ANIMATE","CLS_DISABLE","CLS_TOGANIMATE","CLS_NEST","CLS_EXPANDSTATE","CLS_CONTAINER","AccordionActionSettings","_super","apply","AccordionAnimationSettings","effect","duration","easing","AccordionItem","Accordion","options","element","_this","call","keyConfigs","moveUp","moveDown","enter","space","home","end","destroy","ele","resetBlazorTemplates","unwireEvents","isDestroy","restoreContent","slice","children","forEach","el","classList","contains","removeChild","trgtEle","ctrlTem","firstElementChild","appendChild","remove","removeAttribute","attrb","preRender","nested","isNested","templateEle","add","enableRtl","enablePersistence","expandedItems","isStringTemplate","itemTemplate","id","headerTemplate","items","item","index","header","indexOf","content","val","render","initializeheaderTemplate","initializeItemTemplate","initialize","renderControl","wireEvents","renderComplete","width","height","ariaAttr","initExpand","expandMode","setAttribute","renderItems","initItemExpand","clickHandler","keyModule","selector","keyAction","keyActionHandler","bind","eventName","templateParser","template","document","querySelectorAll","querySelector","innerHTML","trim","error","undefined","headerTemplateFn","itemTemplateFn","getheaderTemplate","getItemTemplate","updateContentBlazorTemplate","updateHeaderBlazorTemplate","focusIn","e","parentElement","focusOut","ctrlTemplate","cloneNode","innerEles","rootEle","push","childElementCount","parentNode","setProperties","toggleIconGenerate","tglIcon","createElement","className","hdrColIcon","len","expandItem","innerItem","innerDataSourceItem","dataSource","renderInnerItem","trgt","getItems","eventArgs","acrdEle","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","originalEvent","ctnCheck","contentRendering","ariaAttrUpdate","trigger","cntclkCheck","inlineAcrdnSel","inlineEleAcrdn","nestContCheck","acrdcontainer","acrdnchild","acrdAniEle","_i","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","acrdnRoot","expandState","collapse","expand","eleMoveFocus","action","root","clst","clstItem","lastElementChild","previousElementSibling","nextElementSibling","focus","click","headerEleGenerate","toString","innerEle","ctnEle","hdrEle","angularnativeCondiCheck","fetchElement","hdr","expanded","cssClass","acrdnClass","arcdnClassList","split","iconCss","hdrIcnEle","icon","insertBefore","childNodes","hdrIcon","prop","property","isAngular","elementRef","data","nativeElement","parseddata","JSON","parse","replace","value","isHeader","templateFn","temString","eleVal","outerHTML","style","display","sanitize","HTMLElement","tempArray","templateProps","tagName","itemEle","itemcnt","ctn","trgtItemEle","animation","name","timingFunction","isExpanded","eff","expandArgs","cancel","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","args","lastActiveItemId","begin","position","offsetHeight","maxHeight","progress","minHeight","getItemElements","itemCollection","expandedItemsPop","splice","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","getModuleName","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","hideItem","isHidden","enableItem","isEnable","eleHeader","isExpand","itemExpand","expandedItem","destroyItems","ctnElePos","eleStr","body","updateItem","itemObj","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","acrdn","isRefresh","_a","keys","changedProp","j","parseInt","oldVal","newVal","temp"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isVisible, closest, attributes, detach, select, blazorTemplates, isBlazor, addClass, append } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex, updateBlazorTemplate, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        this.resetBlazorTemplates();\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.restoreContent(null);\n        [].slice.call(ele.children).forEach(function (el) {\n            if (!el.classList.contains('blazor-template')) {\n                ele.removeChild(el);\n            }\n        });\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstElementChild) {\n                ele.appendChild(this.ctrlTem.firstElementChild);\n            }\n        }\n        ele.classList.remove(CLS_ACRDN_ROOT);\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.resetBlazorTemplates = function () {\n        var _this = this;\n        if (isBlazor() && !this.isStringTemplate) {\n            if (this.itemTemplate) {\n                // tslint:disable-next-line:no-any\n                blazorTemplates[this.element.id + '_itemTemplate'] = [];\n                resetBlazorTemplate(this.element.id + '_itemTemplate', 'ItemTemplate');\n            }\n            if (this.headerTemplate) {\n                // tslint:disable-next-line:no-any\n                blazorTemplates[this.element.id + '_headerTemplate'] = [];\n                resetBlazorTemplate(this.element.id + '_headerTemplate', 'HeaderTemplate');\n            }\n            if (!isNOU(this.items)) {\n                this.items.forEach(function (item, index) {\n                    if (item && item.header && item.header.indexOf('<div>Blazor') === 0) {\n                        // tslint:disable-next-line:no-any\n                        blazorTemplates[_this.element.id + index + '_header'] = [];\n                        resetBlazorTemplate(_this.element.id + index + '_header', 'HeaderTemplate');\n                    }\n                    if (item && item.content && item.content.indexOf('<div>Blazor') === 0) {\n                        // tslint:disable-next-line:no-any\n                        blazorTemplates[_this.element.id + index + '_content'] = [];\n                        resetBlazorTemplate(_this.element.id + index + '_content', 'ContentTemplate');\n                    }\n                });\n            }\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initializeheaderTemplate();\n        this.initializeItemTemplate();\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0 &&\n            !(isBlazor() && !this.isStringTemplate)) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return templateCompiler(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return templateCompiler(template);\n            }\n        }\n        return undefined;\n    };\n    Accordion.prototype.initializeheaderTemplate = function () {\n        if (this.headerTemplate) {\n            this.headerTemplateFn = this.templateParser(this.headerTemplate);\n        }\n    };\n    Accordion.prototype.initializeItemTemplate = function () {\n        if (this.itemTemplate) {\n            this.itemTemplateFn = this.templateParser(this.itemTemplate);\n        }\n    };\n    Accordion.prototype.getheaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    Accordion.prototype.getItemTemplate = function () {\n        return this.itemTemplateFn;\n    };\n    Accordion.prototype.updateContentBlazorTemplate = function (item, index) {\n        if (this.itemTemplate && isBlazor() && !this.isStringTemplate) {\n            updateBlazorTemplate(this.element.id + '_itemTemplate', 'ItemTemplate', this, false);\n        }\n        if (item && item.content && isBlazor() && !this.isStringTemplate && item.content.indexOf('<div>Blazor') === 0) {\n            updateBlazorTemplate(this.element.id + index + '_content', 'ContentTemplate', item);\n        }\n    };\n    Accordion.prototype.updateHeaderBlazorTemplate = function (item, index) {\n        if (this.headerTemplate && isBlazor() && !this.isStringTemplate) {\n            updateBlazorTemplate(this.element.id + '_headerTemplate', 'HeaderTemplate', this, false);\n        }\n        if (item && item.header && isBlazor() && !this.isStringTemplate && item.header.indexOf('<div>Blazor') === 0) {\n            updateBlazorTemplate(this.element.id + index + '_header', 'HeaderTemplate', item);\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles;\n        var rootEle = select('.' + CLS_CONTAINER, this.element);\n        if (rootEle) {\n            innerEles = rootEle.children;\n        }\n        else {\n            innerEles = this.element.children;\n        }\n        var items = [];\n        /* tslint:disable */\n        [].slice.call(innerEles).forEach(function (el) {\n            items.push({\n                header: (el.childElementCount > 0 && el.children[0]) ? (el.children[0]) : '',\n                content: (el.childElementCount > 1 && el.children[1]) ? (el.children[1]) : ''\n            });\n            el.parentNode.removeChild(el);\n        });\n        /* tslint:enable */\n        if (rootEle) {\n            this.element.removeChild(rootEle);\n        }\n        this.setProperties({ items: items }, true);\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        var innerDataSourceItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        if (this.dataSource.length > 0) {\n            this.dataSource.forEach(function (item, index) {\n                innerDataSourceItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerDataSourceItem);\n                if (innerDataSourceItem.childElementCount > 0) {\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n            this.updateHeaderBlazorTemplate();\n        }\n        else {\n            var items = this.items;\n            if (ele && items.length > 0) {\n                items.forEach(function (item, index) {\n                    innerItem = _this.renderInnerItem(item, index);\n                    ele.appendChild(innerItem);\n                    _this.updateHeaderBlazorTemplate(item, index);\n                    if (innerItem.childElementCount > 0) {\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                    }\n                });\n            }\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var items = this.getItems();\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnHdr) {\n            acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM);\n        }\n        else if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.updateContentBlazorTemplate(eventArgs.item, index);\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT;\n        var inlineEleAcrdn = acrdnCtn && !isNOU(select('.' + CLS_ROOT, acrdnCtn)) && isNOU(closest(trgt, inlineAcrdnSel));\n        var nestContCheck = acrdnCtn && isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element);\n        cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n        var acrdnchild = (acrdcontainer) ? acrdcontainer.children : this.element.children;\n        [].slice.call(acrdnchild).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var items = this.getItems();\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        attributes(innerEle, { 'aria-expanded': 'false' });\n        if (this.headerTemplate) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            append(this.getheaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n            innerEle.appendChild(ctnEle);\n            ctnEle.appendChild(this.toggleIconGenerate());\n            this.add(innerEle, CLS_SLCT);\n            return innerEle;\n        }\n        if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            var acrdnClass = item.cssClass;\n            var arcdnClassList = [];\n            arcdnClassList = acrdnClass.split(' ');\n            arcdnClassList.forEach(function (el) {\n                addClass([innerEle], el);\n            });\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n        var property = prop === 'content' ? item.content : item.header;\n        var content = property;\n        if (this.isAngular && !isNOU(content.elementRef)) {\n            var data = content.elementRef.nativeElement.data;\n            if (isNOU(data) || data === '' || (data.indexOf('bindings=') === -1)) {\n                return true;\n            }\n            var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n            if (!isNOU(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            if (typeof (value) === 'string' && isBlazor() && value.indexOf('<div>Blazor') !== 0) {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n                /* tslint:disable */\n            }\n            else if (!isNOU(this.trgtEle) && (value instanceof (HTMLElement))) {\n                ele.appendChild(value);\n                ele.firstElementChild.style.display = '';\n                /* tslint:enable */\n            }\n            else {\n                templateFn = templateCompiler(value);\n            }\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            var templateProps = void 0;\n            if (ele.classList.contains(CLS_HEADERCTN)) {\n                templateProps = this.element.id + index + '_header';\n            }\n            else if (ele.classList.contains(CLS_CTENT)) {\n                templateProps = this.element.id + index + '_content';\n            }\n            tempArray = templateFn({}, null, null, templateProps, this.isStringTemplate);\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        }\n        if (!isNOU(temString)) {\n            if (this.templateEle.indexOf(value) === -1) {\n                this.templateEle.push(value);\n            }\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n        content.setAttribute('role', 'definition');\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        if (this.dataSource.length > 0) {\n            append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n            itemcnt.appendChild(ctn);\n        }\n        else {\n            itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n        }\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var _this = this;\n        var eventArgs;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: true\n        };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                icon.classList.add(CLS_TOGANIMATE);\n                _this.expandedItemsPush(trgtItemEle);\n                if (!isNOU(expandState)) {\n                    expandState.classList.remove(CLS_EXPANDSTATE);\n                }\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                if ((animation.name === 'None')) {\n                    _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgtItemEle, { 'aria-expanded': 'true' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        var itemEle = this.getItemElements();\n        return [].slice.call(itemEle).indexOf(item);\n    };\n    Accordion.prototype.getItemElements = function () {\n        var itemEle = [];\n        var itemCollection = this.element.children;\n        [].slice.call(itemCollection).forEach(function (el) {\n            if (el.classList.contains(CLS_ITEM)) {\n                itemEle.push(el);\n            }\n        });\n        return itemEle;\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var _this = this;\n        var eventArgs;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: false\n        };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                _this.expandedItemsPop(trgtItemEle);\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                icon.classList.add(CLS_TOGANIMATE);\n                if ((animation.name === 'None')) {\n                    _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgtItemEle, { 'aria-expanded': 'false' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var items = this.getItems();\n        var itemEle = this.getItemElements();\n        var itemLen = items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    Accordion.prototype.getItems = function () {\n        var items;\n        if (this.itemTemplate && this.headerTemplate) {\n            items = this.dataSource;\n        }\n        else {\n            items = this.items;\n        }\n        return items;\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel | Object} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        var itemEle = this.getItemElements();\n        var items = this.getItems();\n        if (isNOU(index)) {\n            index = items.length;\n        }\n        if (ele.childElementCount >= index) {\n            items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, itemEle[index]);\n            }\n            this.updateHeaderBlazorTemplate();\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item && item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        [].slice.call(itemEle).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        var items = this.getItems();\n        if (isNOU(ele)) {\n            return;\n        }\n        this.restoreContent(index);\n        detach(ele);\n        items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = itemEle[itemEle.length - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(itemEle).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = itemEle[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        var items = this.getItems();\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.updateContentBlazorTemplate(items[index], index);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        this.restoreContent(null);\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n    };\n    Accordion.prototype.restoreContent = function (index) {\n        var ctnElePos;\n        if (isNOU(index)) {\n            ctnElePos = this.element;\n        }\n        else {\n            ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM)[index];\n        }\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(ctnElePos.querySelector(eleStr))) {\n                document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var items = this.getItems();\n            var itemObj = items[index];\n            items.splice(index, 1);\n            this.restoreContent(index);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        var isRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var temp = property;\n                            if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || ((temp === 'content') && (oldVal === ''))) {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'dataSource':\n                    isRefresh = true;\n                    break;\n                case 'headerTemplate':\n                    this.initializeheaderTemplate();\n                    isRefresh = true;\n                    break;\n                case 'itemTemplate':\n                    this.initializeItemTemplate();\n                    isRefresh = true;\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.resetBlazorTemplates();\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property([])\n    ], Accordion.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Accordion.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Accordion.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n"]},"metadata":{},"sourceType":"module"}