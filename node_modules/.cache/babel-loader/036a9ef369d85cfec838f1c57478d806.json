{"ast":null,"code":"import { isObject, getValue, extend, isNullOrUndefined } from './util';\nimport { getRandomId } from './template-engine';\nvar simpleRegex = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\nvar multipleSplitRegex = /(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))/g;\nvar idClassSelector = /^(\\.|#)/;\nvar selectMapper = {\n  '.': 'className',\n  '#': 'id'\n};\nvar classRegexString = '(?=.*?\\\\b{value}\\\\b)';\nvar assigner = {\n  className: 'attributes.className',\n  id: 'attributes.id',\n  tagName: 'tagName'\n};\nvar emptyElements = ['area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input', 'link', 'meta', 'param', 'embed', 'command', 'keygen', 'source', 'track', 'wbr'];\nvar blockElements = ['a', 'address', 'article', 'applet', 'aside', 'audio', 'blockquote', 'button', 'canvas', 'center', 'dd', 'del', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'iframe', 'ins', 'isindex', 'li', 'map', 'menu', 'noframes', 'noscript', 'object', 'ol', 'output', 'p', 'pre', 'section', 'script', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul', 'video'];\nvar inlineElement = ['abbr', 'acronym', 'applet', 'b', 'basefont', 'bdo', 'big', 'br', 'button', 'cite', 'code', 'del', 'dfn', 'em', 'font', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'label', 'map', 'object', 'q', 's', 'samp', 'script', 'select', 'small', 'span', 'strike', 'strong', 'sub', 'sup', 'textarea', 'tt', 'u', 'var'];\nvar selfClosingElements = ['colgroup', 'dd', 'dt', 'li', 'options', 'p', 'td', 'tfoot', 'th', 'thead', 'tr'];\nvar fillAttrs = ['checked', 'compact', 'declare', 'defer', 'disabled', 'ismap', 'multiple', 'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'];\nvar cspElement = ['Script', 'style'];\nvar nameMapper = {\n  'tabindex': 'tabIndex'\n};\nvar startRegex = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/;\nvar endRegex = /^<\\/([-A-Za-z0-9_]+)[^>]*>/;\nvar attributeRegex = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n/**\n * Namespace for VirtualDOM\n * @private\n */\n\nexport var VirtualDOM;\n\n(function (VirtualDOM) {\n  //tslint:disable:no-any\n  function createElement(tagName, properties) {\n    var children = [];\n    var extended = extend({}, {}, properties, true);\n\n    if (!isNullOrUndefined(properties)) {\n      var keys = Object.keys(properties);\n\n      if (keys.length) {\n        if (extended.innerHTML) {\n          children = ConvertHTMLToJSon(extended.innerHTML);\n          delete extended.innerHTML;\n        }\n\n        if (extended.attrs) {\n          extend(extended, extended.attrs);\n          delete extended.attrs;\n        }\n\n        if (extended.styles) {\n          var valArr = extended.styles.split(';');\n          var vObj = {};\n\n          for (var i = 0, length_1 = valArr.length; i < length_1; i++) {\n            var cVal = valArr[i];\n            var styleSplit = cVal.split(':');\n            vObj[styleSplit[0]] = styleSplit[1];\n          }\n\n          delete extended.styles;\n          extended.style = vObj;\n        }\n      }\n    }\n\n    return {\n      tagName: tagName,\n      attributes: extended || {},\n      children: children\n    };\n  }\n\n  VirtualDOM.createElement = createElement;\n\n  function assignParent(childrens, parent) {\n    if (parent && childrens) {\n      childrens.forEach(function (child) {\n        if (isObject(child)) {\n          if (child.parent) {\n            detach(child);\n          }\n\n          child.parent = parent;\n        }\n\n        return child;\n      });\n    }\n  }\n\n  VirtualDOM.assignParent = assignParent;\n\n  function append(fromElements, toElement) {\n    assignParent(fromElements, toElement);\n\n    if (toElement.children) {\n      toElement.children = toElement.children.concat(fromElements);\n    } else {\n      toElement.children = [].concat(fromElements);\n    }\n  }\n\n  VirtualDOM.append = append;\n\n  function prepend(child, toElement) {\n    assignParent(child, toElement);\n\n    if (!toElement.children || !toElement.children.length) {\n      toElement.children = [];\n      toElement.children.concat(child);\n    } else {\n      for (var i = child.length - 1; i >= 0; i--) {\n        toElement.children.unshift(child[i]);\n      }\n    }\n  }\n\n  VirtualDOM.prepend = prepend;\n\n  function detach(element) {\n    var parent = element.parent;\n\n    if (parent) {\n      var index = parent.children.indexOf(element);\n\n      if (index !== -1) {\n        parent.children.splice(index);\n      }\n    }\n\n    return parent;\n  }\n\n  VirtualDOM.detach = detach; //tslint:disable-next-line\n\n  function vDomSelector(_a) {\n    var ele = _a.ele,\n        selector = _a.selector,\n        selectAll = _a.selectAll,\n        immediateParent = _a.immediateParent;\n    var iSelector = selector.split(' ');\n    var curColl = ele;\n\n    for (var i = 0, length_2 = iSelector.length; i < length_2; i++) {\n      var isDescendant = false;\n      var parent_2 = curColl;\n      var curSelector = iSelector[i];\n      var simpleSelector = false;\n      var mapper = [];\n\n      if (simpleRegex.test(curSelector)) {\n        simpleSelector = true;\n        processSelector(curSelector, mapper);\n      } else if (curSelector.indexOf('>') === -1) {\n        var splitSelector = curSelector.match(multipleSplitRegex);\n\n        for (var _i = 0, splitSelector_1 = splitSelector; _i < splitSelector_1.length; _i++) {\n          var curMap = splitSelector_1[_i];\n          processSelector(curMap, mapper);\n        }\n      } else if (curSelector.indexOf('>') !== -1) {\n        isDescendant = true;\n        var dSelector = curSelector.split('>'); //tslint:disable-next-line\n\n        var dParent = ele;\n        var descendent = void 0;\n        var flag = 0;\n\n        for (var _b = 0, dSelector_1 = dSelector; _b < dSelector_1.length; _b++) {\n          var sel = dSelector_1[_b];\n\n          if (!dParent) {\n            break;\n          }\n\n          if (dParent.length) {\n            var descendentChild = [];\n\n            for (var _c = 0, dParent_1 = dParent; _c < dParent_1.length; _c++) {\n              var child = dParent_1[_c];\n              descendentChild = descendentChild.concat(vDomSelector({\n                ele: child,\n                selector: sel,\n                selectAll: selectAll,\n                immediateParent: !!flag\n              }));\n            }\n\n            descendent = descendentChild;\n          } else {\n            descendent = vDomSelector({\n              ele: dParent,\n              selector: sel,\n              selectAll: selectAll,\n              immediateParent: !!flag\n            });\n          }\n\n          flag++;\n          dParent = descendent;\n        }\n\n        if (descendent) {\n          curColl = descendent;\n        }\n      }\n\n      if (!isDescendant) {\n        if (parent_2.length) {\n          var iCurSelector = [];\n\n          for (var _d = 0, parent_1 = parent_2; _d < parent_1.length; _d++) {\n            var curParent = parent_1[_d];\n            iCurSelector = iCurSelector.concat(accessElement(curParent, mapper, selectAll, immediateParent));\n          }\n\n          curColl = iCurSelector;\n        } else {\n          curColl = accessElement(parent_2, mapper, selectAll, immediateParent);\n        }\n      }\n    }\n\n    if (selectAll) {\n      return curColl;\n    } else {\n      return curColl[0] || null;\n    }\n  }\n\n  VirtualDOM.vDomSelector = vDomSelector;\n\n  function processSelector(selector, mapper) {\n    var match = selector.match(idClassSelector);\n    var obj = {};\n\n    if (match) {\n      var curMapper = selectMapper[match[0]];\n\n      if (curMapper === 'className') {\n        var curObj = mapper.filter(function (obj) {\n          return obj.hasOwnProperty('className');\n        })[0];\n        var canPush = false;\n\n        if (!curObj) {\n          canPush = true;\n          curObj = {};\n        }\n\n        var existValue = curObj[curMapper] || '';\n        curObj[curMapper] = existValue + classRegexString.replace('{value}', selector.replace('.', ''));\n\n        if (canPush) {\n          mapper.push(curObj);\n        }\n      } else {\n        obj[curMapper] = selector.replace(match[0], '');\n        mapper.push(obj);\n      }\n    } else {\n      mapper.push({\n        tagName: selector\n      });\n    }\n  } //tslint:disable-next-line\n\n\n  function accessElement(ele, mapper, selectAll, immediateParent) {\n    if (ele.children) {\n      //tslint:disable-next-line\n      var temp_1 = ele.children.filter(function (child) {\n        if (typeof child !== 'string') {\n          var matched = true;\n\n          for (var _i = 0, mapper_1 = mapper; _i < mapper_1.length; _i++) {\n            var map = mapper_1[_i];\n            var key = Object.keys(map)[0];\n            var expected = map[key];\n            var actualValue = getValue(assigner[key], child);\n\n            if (key === 'className') {\n              if (!new RegExp('^' + expected + '.*$').test(actualValue)) {\n                matched = false;\n                break;\n              }\n            } else if (actualValue !== expected) {\n              matched = false;\n              break;\n            }\n          }\n\n          return matched;\n        } else {\n          return false;\n        }\n      });\n\n      if (!immediateParent && (!temp_1.length || selectAll)) {\n        ele.children.forEach(function (child) {\n          if (isObject(child)) {\n            temp_1 = temp_1.concat(accessElement(child, mapper, selectAll));\n          }\n        });\n      }\n\n      return temp_1;\n    } else {\n      return [];\n    }\n  }\n\n  VirtualDOM.accessElement = accessElement;\n\n  function ConvertHTMLToJSon(htmlString) {\n    var results = [];\n    var isText;\n    var tagArray = [];\n    var backup = htmlString;\n    var nodeArray = [];\n\n    while (htmlString) {\n      isText = true;\n      var lastVal = getLastValue(tagArray);\n\n      if (!lastVal || !contains(cspElement, lastVal)) {\n        if (htmlString.indexOf('</') === 0) {\n          var match = htmlString.match(endRegex);\n\n          if (match) {\n            htmlString = htmlString.substring(match[0].length); //tslint:disable-next-line\n\n            match[0].replace(endRegex, iterateEndTag);\n          }\n\n          isText = false;\n        } else if (htmlString.indexOf('<') === 0) {\n          var match = htmlString.match(startRegex);\n\n          if (match) {\n            htmlString = htmlString.substring(match[0].length); //tslint:disable-next-line\n\n            match[0].replace(startRegex, iterateStartTag);\n          }\n\n          isText = false;\n        }\n\n        if (isText) {\n          var tagIndex = htmlString.indexOf('<');\n          var text = tagIndex < 0 ? htmlString : htmlString.substring(0, tagIndex);\n          htmlString = tagIndex < 0 ? '' : htmlString.substring(tagIndex);\n          iterateText(text);\n        }\n      } else {\n        //tslint:disable-next-line\n        htmlString = htmlString.replace(new RegExp('([\\\\s\\\\S]*?)<\\/' + getLastValue(nodeArray) + '[^>]*>'), function (all, text) {\n          text = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, '$1$2');\n          iterateText(text);\n          return '';\n        });\n        iterateEndTag('', getLastValue(tagArray));\n      }\n\n      backup = htmlString;\n    }\n\n    function iterateStartTag(start, tagName, rest) {\n      tagName = tagName.toLowerCase();\n\n      if (contains(blockElements, tagName)) {\n        while (getLastValue(tagArray) && contains(inlineElement, getLastValue(tagArray))) {\n          iterateEndTag('', getLastValue(tagArray));\n        }\n      }\n\n      if (contains(selfClosingElements, tagName) && getLastValue(tagArray)) {\n        iterateEndTag('', tagName);\n      }\n\n      var isSelfTag = contains(emptyElements, tagName);\n\n      if (!isSelfTag) {\n        tagArray.push(tagName);\n      }\n\n      var attrs = {}; //tslint:disable-next-line\n\n      rest.replace(attributeRegex, function (match, name) {\n        var names = [];\n\n        for (var _i = 2; _i < arguments.length; _i++) {\n          names[_i - 2] = arguments[_i];\n        } //tslint:disable-next-line\n\n\n        var val = names[2] ? names[2] : names[3] ? names[3] : names[4] ? names[4] : contains(fillAttrs, name) ? name : '';\n\n        if (name === 'style') {\n          var valArr = val.split(';');\n          var vObj = {};\n\n          for (var i = 0, length_3 = valArr.length; i < length_3; i++) {\n            var cVal = valArr[i];\n            var styleSplit = cVal.split(':');\n            vObj[styleSplit[0]] = styleSplit[1];\n          }\n\n          val = vObj;\n        }\n\n        name = nameMapper[name] || name;\n        attrs[name] = val; //tslint:disable-next-line\n      });\n      attrs['data-id'] = getRandomId();\n      var tagObject = {\n        tagName: tagName,\n        attributes: attrs\n      };\n\n      if (isSelfTag) {\n        var parent_3 = nodeArray[0] || results;\n\n        if (parent_3.children === undefined) {\n          parent_3.children = [];\n        }\n\n        tagObject.parent = parent_3;\n        parent_3.children.push(tagObject);\n      } else {\n        nodeArray.unshift(tagObject);\n      }\n    }\n\n    function iterateEndTag(start, tagName) {\n      var pos;\n\n      if (!tagName) {\n        pos = 0;\n      } else {\n        for (pos = tagArray.length - 1; pos >= 0; pos--) {\n          if (tagArray[pos] === tagName) {\n            break;\n          }\n        }\n      }\n\n      if (pos >= 0) {\n        for (var j = nodeArray.length - 1; j >= pos; j--) {\n          //tslint:disable-next-line\n          var node = nodeArray.shift();\n\n          if (nodeArray.length === 0) {\n            results.push(node);\n          } else {\n            var parent_4 = nodeArray[0];\n\n            if (parent_4.children === undefined) {\n              parent_4.children = [];\n            }\n\n            node.parent = parent_4;\n            parent_4.children.push(node);\n          }\n        }\n\n        tagArray.length = pos;\n      }\n    }\n\n    function iterateText(text) {\n      if (nodeArray.length === 0) {\n        results.push(text);\n      } else {\n        var parent_5 = nodeArray[0];\n\n        if (parent_5.children === undefined) {\n          parent_5.children = [];\n        }\n\n        parent_5.children.push(text);\n      }\n    }\n\n    return results;\n  }\n\n  VirtualDOM.ConvertHTMLToJSon = ConvertHTMLToJSon; //tslint:disable-next-line \n\n  function getLastValue(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function contains(arr, key) {\n    return arr.indexOf(key) !== -1;\n  } //tslint:disable-next-line\n\n\n  function cloneNode(ele, deep) {\n    if (isObject(ele)) {\n      if (deep) {\n        return extend({}, {}, ele, true);\n      } else {\n        return {\n          tagName: ele.tagName,\n          attributes: ele.attributes\n        };\n      }\n    } else {\n      return ele.cloneNode(deep);\n    }\n  }\n\n  VirtualDOM.cloneNode = cloneNode;\n\n  function setStyleAttribute(element, attrs) {\n    if (element.attributes.style) {\n      element.attributes.style = extend({}, attrs);\n    } else {\n      element.attributes.style = extend(element.attributes.style, attrs);\n    }\n  }\n\n  VirtualDOM.setStyleAttribute = setStyleAttribute; //tslint:enable:no-any\n})(VirtualDOM || (VirtualDOM = {}));","map":{"version":3,"sources":["D:/developing/projects/Whiteboard/node_modules/@syncfusion/ej2-base/src/virtual-dom.js"],"names":["isObject","getValue","extend","isNullOrUndefined","getRandomId","simpleRegex","multipleSplitRegex","idClassSelector","selectMapper","classRegexString","assigner","className","id","tagName","emptyElements","blockElements","inlineElement","selfClosingElements","fillAttrs","cspElement","nameMapper","startRegex","endRegex","attributeRegex","VirtualDOM","createElement","properties","children","extended","keys","Object","length","innerHTML","ConvertHTMLToJSon","attrs","styles","valArr","split","vObj","i","length_1","cVal","styleSplit","style","attributes","assignParent","childrens","parent","forEach","child","detach","append","fromElements","toElement","concat","prepend","unshift","element","index","indexOf","splice","vDomSelector","_a","ele","selector","selectAll","immediateParent","iSelector","curColl","length_2","isDescendant","parent_2","curSelector","simpleSelector","mapper","test","processSelector","splitSelector","match","_i","splitSelector_1","curMap","dSelector","dParent","descendent","flag","_b","dSelector_1","sel","descendentChild","_c","dParent_1","iCurSelector","_d","parent_1","curParent","accessElement","obj","curMapper","curObj","filter","hasOwnProperty","canPush","existValue","replace","push","temp_1","matched","mapper_1","map","key","expected","actualValue","RegExp","htmlString","results","isText","tagArray","backup","nodeArray","lastVal","getLastValue","contains","substring","iterateEndTag","iterateStartTag","tagIndex","text","iterateText","all","start","rest","toLowerCase","isSelfTag","name","names","arguments","val","length_3","tagObject","parent_3","undefined","pos","j","node","shift","parent_4","parent_5","arr","cloneNode","deep","setStyleAttribute"],"mappings":"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","sourcesContent":["import { isObject, getValue, extend, isNullOrUndefined } from './util';\nimport { getRandomId } from './template-engine';\nvar simpleRegex = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\nvar multipleSplitRegex = /(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))/g;\nvar idClassSelector = /^(\\.|#)/;\nvar selectMapper = {\n    '.': 'className',\n    '#': 'id'\n};\nvar classRegexString = '(?=.*?\\\\b{value}\\\\b)';\nvar assigner = { className: 'attributes.className', id: 'attributes.id', tagName: 'tagName' };\nvar emptyElements = ['area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input',\n    'link', 'meta', 'param', 'embed', 'command', 'keygen', 'source', 'track', 'wbr'];\nvar blockElements = ['a', 'address', 'article', 'applet', 'aside', 'audio', 'blockquote',\n    'button', 'canvas', 'center', 'dd', 'del', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure',\n    'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'iframe', 'ins',\n    'isindex', 'li', 'map', 'menu', 'noframes', 'noscript', 'object', 'ol', 'output', 'p', 'pre', 'section',\n    'script', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul', 'video'];\nvar inlineElement = ['abbr', 'acronym', 'applet', 'b', 'basefont', 'bdo', 'big', 'br', 'button',\n    'cite', 'code', 'del', 'dfn', 'em', 'font', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'label', 'map',\n    'object', 'q', 's', 'samp', 'script', 'select', 'small', 'span', 'strike', 'strong', 'sub', 'sup', 'textarea',\n    'tt', 'u', 'var'];\nvar selfClosingElements = ['colgroup', 'dd', 'dt', 'li', 'options', 'p', 'td', 'tfoot', 'th',\n    'thead', 'tr'];\nvar fillAttrs = ['checked', 'compact', 'declare', 'defer', 'disabled', 'ismap', 'multiple',\n    'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'];\nvar cspElement = ['Script', 'style'];\nvar nameMapper = { 'tabindex': 'tabIndex' };\nvar startRegex = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/;\nvar endRegex = /^<\\/([-A-Za-z0-9_]+)[^>]*>/;\nvar attributeRegex = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n/**\n * Namespace for VirtualDOM\n * @private\n */\nexport var VirtualDOM;\n(function (VirtualDOM) {\n    //tslint:disable:no-any\n    function createElement(tagName, properties) {\n        var children = [];\n        var extended = extend({}, {}, properties, true);\n        if (!isNullOrUndefined(properties)) {\n            var keys = Object.keys(properties);\n            if (keys.length) {\n                if (extended.innerHTML) {\n                    children = ConvertHTMLToJSon(extended.innerHTML);\n                    delete extended.innerHTML;\n                }\n                if (extended.attrs) {\n                    extend(extended, extended.attrs);\n                    delete extended.attrs;\n                }\n                if (extended.styles) {\n                    var valArr = extended.styles.split(';');\n                    var vObj = {};\n                    for (var i = 0, length_1 = valArr.length; i < length_1; i++) {\n                        var cVal = valArr[i];\n                        var styleSplit = cVal.split(':');\n                        vObj[styleSplit[0]] = styleSplit[1];\n                    }\n                    delete extended.styles;\n                    extended.style = vObj;\n                }\n            }\n        }\n        return {\n            tagName: tagName,\n            attributes: extended || {},\n            children: children\n        };\n    }\n    VirtualDOM.createElement = createElement;\n    function assignParent(childrens, parent) {\n        if (parent && childrens) {\n            childrens.forEach(function (child) {\n                if (isObject(child)) {\n                    if (child.parent) {\n                        detach(child);\n                    }\n                    child.parent = parent;\n                }\n                return child;\n            });\n        }\n    }\n    VirtualDOM.assignParent = assignParent;\n    function append(fromElements, toElement) {\n        assignParent(fromElements, toElement);\n        if (toElement.children) {\n            toElement.children = toElement.children.concat(fromElements);\n        }\n        else {\n            toElement.children = [].concat(fromElements);\n        }\n    }\n    VirtualDOM.append = append;\n    function prepend(child, toElement) {\n        assignParent(child, toElement);\n        if (!toElement.children || !toElement.children.length) {\n            toElement.children = [];\n            toElement.children.concat(child);\n        }\n        else {\n            for (var i = child.length - 1; i >= 0; i--) {\n                toElement.children.unshift(child[i]);\n            }\n        }\n    }\n    VirtualDOM.prepend = prepend;\n    function detach(element) {\n        var parent = element.parent;\n        if (parent) {\n            var index = parent.children.indexOf(element);\n            if (index !== -1) {\n                parent.children.splice(index);\n            }\n        }\n        return parent;\n    }\n    VirtualDOM.detach = detach;\n    //tslint:disable-next-line\n    function vDomSelector(_a) {\n        var ele = _a.ele, selector = _a.selector, selectAll = _a.selectAll, immediateParent = _a.immediateParent;\n        var iSelector = selector.split(' ');\n        var curColl = ele;\n        for (var i = 0, length_2 = iSelector.length; i < length_2; i++) {\n            var isDescendant = false;\n            var parent_2 = curColl;\n            var curSelector = iSelector[i];\n            var simpleSelector = false;\n            var mapper = [];\n            if (simpleRegex.test(curSelector)) {\n                simpleSelector = true;\n                processSelector(curSelector, mapper);\n            }\n            else if (curSelector.indexOf('>') === -1) {\n                var splitSelector = curSelector.match(multipleSplitRegex);\n                for (var _i = 0, splitSelector_1 = splitSelector; _i < splitSelector_1.length; _i++) {\n                    var curMap = splitSelector_1[_i];\n                    processSelector(curMap, mapper);\n                }\n            }\n            else if (curSelector.indexOf('>') !== -1) {\n                isDescendant = true;\n                var dSelector = curSelector.split('>');\n                //tslint:disable-next-line\n                var dParent = ele;\n                var descendent = void 0;\n                var flag = 0;\n                for (var _b = 0, dSelector_1 = dSelector; _b < dSelector_1.length; _b++) {\n                    var sel = dSelector_1[_b];\n                    if (!dParent) {\n                        break;\n                    }\n                    if (dParent.length) {\n                        var descendentChild = [];\n                        for (var _c = 0, dParent_1 = dParent; _c < dParent_1.length; _c++) {\n                            var child = dParent_1[_c];\n                            descendentChild = descendentChild.concat(vDomSelector({\n                                ele: child, selector: sel,\n                                selectAll: selectAll, immediateParent: !!flag\n                            }));\n                        }\n                        descendent = descendentChild;\n                    }\n                    else {\n                        descendent = vDomSelector({ ele: dParent, selector: sel, selectAll: selectAll, immediateParent: !!flag });\n                    }\n                    flag++;\n                    dParent = descendent;\n                }\n                if (descendent) {\n                    curColl = descendent;\n                }\n            }\n            if (!isDescendant) {\n                if (parent_2.length) {\n                    var iCurSelector = [];\n                    for (var _d = 0, parent_1 = parent_2; _d < parent_1.length; _d++) {\n                        var curParent = parent_1[_d];\n                        iCurSelector = iCurSelector.concat(accessElement(curParent, mapper, selectAll, immediateParent));\n                    }\n                    curColl = iCurSelector;\n                }\n                else {\n                    curColl = accessElement(parent_2, mapper, selectAll, immediateParent);\n                }\n            }\n        }\n        if (selectAll) {\n            return curColl;\n        }\n        else {\n            return curColl[0] || null;\n        }\n    }\n    VirtualDOM.vDomSelector = vDomSelector;\n    function processSelector(selector, mapper) {\n        var match = selector.match(idClassSelector);\n        var obj = {};\n        if (match) {\n            var curMapper = selectMapper[match[0]];\n            if (curMapper === 'className') {\n                var curObj = mapper.filter(function (obj) { return obj.hasOwnProperty('className'); })[0];\n                var canPush = false;\n                if (!curObj) {\n                    canPush = true;\n                    curObj = {};\n                }\n                var existValue = curObj[curMapper] || '';\n                curObj[curMapper] = existValue + classRegexString.replace('{value}', selector.replace('.', ''));\n                if (canPush) {\n                    mapper.push(curObj);\n                }\n            }\n            else {\n                obj[curMapper] = selector.replace(match[0], '');\n                mapper.push(obj);\n            }\n        }\n        else {\n            mapper.push({ tagName: selector });\n        }\n    }\n    //tslint:disable-next-line\n    function accessElement(ele, mapper, selectAll, immediateParent) {\n        if (ele.children) {\n            //tslint:disable-next-line\n            var temp_1 = ele.children.filter(function (child) {\n                if (typeof (child) !== 'string') {\n                    var matched = true;\n                    for (var _i = 0, mapper_1 = mapper; _i < mapper_1.length; _i++) {\n                        var map = mapper_1[_i];\n                        var key = Object.keys(map)[0];\n                        var expected = map[key];\n                        var actualValue = getValue(assigner[key], child);\n                        if (key === 'className') {\n                            if (!(new RegExp('^' + expected + '.*$').test(actualValue))) {\n                                matched = false;\n                                break;\n                            }\n                        }\n                        else if (actualValue !== expected) {\n                            matched = false;\n                            break;\n                        }\n                    }\n                    return matched;\n                }\n                else {\n                    return false;\n                }\n            });\n            if (!immediateParent && (!temp_1.length || selectAll)) {\n                ele.children.forEach(function (child) {\n                    if (isObject(child)) {\n                        temp_1 = temp_1.concat(accessElement(child, mapper, selectAll));\n                    }\n                });\n            }\n            return temp_1;\n        }\n        else {\n            return [];\n        }\n    }\n    VirtualDOM.accessElement = accessElement;\n    function ConvertHTMLToJSon(htmlString) {\n        var results = [];\n        var isText;\n        var tagArray = [];\n        var backup = htmlString;\n        var nodeArray = [];\n        while (htmlString) {\n            isText = true;\n            var lastVal = getLastValue(tagArray);\n            if (!lastVal || !contains(cspElement, lastVal)) {\n                if (htmlString.indexOf('</') === 0) {\n                    var match = htmlString.match(endRegex);\n                    if (match) {\n                        htmlString = htmlString.substring(match[0].length);\n                        //tslint:disable-next-line\n                        match[0].replace(endRegex, iterateEndTag);\n                    }\n                    isText = false;\n                }\n                else if (htmlString.indexOf('<') === 0) {\n                    var match = htmlString.match(startRegex);\n                    if (match) {\n                        htmlString = htmlString.substring(match[0].length);\n                        //tslint:disable-next-line\n                        match[0].replace(startRegex, iterateStartTag);\n                    }\n                    isText = false;\n                }\n                if (isText) {\n                    var tagIndex = htmlString.indexOf('<');\n                    var text = tagIndex < 0 ? htmlString : htmlString.substring(0, tagIndex);\n                    htmlString = tagIndex < 0 ? '' : htmlString.substring(tagIndex);\n                    iterateText(text);\n                }\n            }\n            else {\n                //tslint:disable-next-line\n                htmlString = htmlString.replace(new RegExp('([\\\\s\\\\S]*?)<\\/' + getLastValue(nodeArray) + '[^>]*>'), function (all, text) {\n                    text = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, '$1$2');\n                    iterateText(text);\n                    return '';\n                });\n                iterateEndTag('', getLastValue(tagArray));\n            }\n            backup = htmlString;\n        }\n        function iterateStartTag(start, tagName, rest) {\n            tagName = tagName.toLowerCase();\n            if (contains(blockElements, tagName)) {\n                while (getLastValue(tagArray) && contains(inlineElement, getLastValue(tagArray))) {\n                    iterateEndTag('', getLastValue(tagArray));\n                }\n            }\n            if (contains(selfClosingElements, tagName) && getLastValue(tagArray)) {\n                iterateEndTag('', tagName);\n            }\n            var isSelfTag = contains(emptyElements, tagName);\n            if (!isSelfTag) {\n                tagArray.push(tagName);\n            }\n            var attrs = {};\n            //tslint:disable-next-line\n            rest.replace(attributeRegex, function (match, name) {\n                var names = [];\n                for (var _i = 2; _i < arguments.length; _i++) {\n                    names[_i - 2] = arguments[_i];\n                }\n                //tslint:disable-next-line\n                var val = names[2] ? names[2] :\n                    names[3] ? names[3] :\n                        names[4] ? names[4] :\n                            contains(fillAttrs, name) ? name : '';\n                if (name === 'style') {\n                    var valArr = val.split(';');\n                    var vObj = {};\n                    for (var i = 0, length_3 = valArr.length; i < length_3; i++) {\n                        var cVal = valArr[i];\n                        var styleSplit = cVal.split(':');\n                        vObj[styleSplit[0]] = styleSplit[1];\n                    }\n                    val = vObj;\n                }\n                name = nameMapper[name] || name;\n                attrs[name] = val;\n                //tslint:disable-next-line\n            });\n            attrs['data-id'] = getRandomId();\n            var tagObject = {\n                tagName: tagName,\n                attributes: attrs\n            };\n            if (isSelfTag) {\n                var parent_3 = (nodeArray[0] || results);\n                if (parent_3.children === undefined) {\n                    parent_3.children = [];\n                }\n                tagObject.parent = parent_3;\n                parent_3.children.push(tagObject);\n            }\n            else {\n                nodeArray.unshift(tagObject);\n            }\n        }\n        function iterateEndTag(start, tagName) {\n            var pos;\n            if (!tagName) {\n                pos = 0;\n            }\n            else {\n                for (pos = tagArray.length - 1; pos >= 0; pos--) {\n                    if (tagArray[pos] === tagName) {\n                        break;\n                    }\n                }\n            }\n            if (pos >= 0) {\n                for (var j = nodeArray.length - 1; j >= pos; j--) {\n                    //tslint:disable-next-line\n                    var node = nodeArray.shift();\n                    if (nodeArray.length === 0) {\n                        results.push(node);\n                    }\n                    else {\n                        var parent_4 = nodeArray[0];\n                        if (parent_4.children === undefined) {\n                            parent_4.children = [];\n                        }\n                        node.parent = parent_4;\n                        parent_4.children.push(node);\n                    }\n                }\n                tagArray.length = pos;\n            }\n        }\n        function iterateText(text) {\n            if (nodeArray.length === 0) {\n                results.push(text);\n            }\n            else {\n                var parent_5 = nodeArray[0];\n                if (parent_5.children === undefined) {\n                    parent_5.children = [];\n                }\n                parent_5.children.push(text);\n            }\n        }\n        return results;\n    }\n    VirtualDOM.ConvertHTMLToJSon = ConvertHTMLToJSon;\n    //tslint:disable-next-line \n    function getLastValue(arr) {\n        return arr[arr.length - 1];\n    }\n    function contains(arr, key) {\n        return arr.indexOf(key) !== -1;\n    }\n    //tslint:disable-next-line\n    function cloneNode(ele, deep) {\n        if (isObject(ele)) {\n            if (deep) {\n                return extend({}, {}, ele, true);\n            }\n            else {\n                return { tagName: ele.tagName, attributes: ele.attributes };\n            }\n        }\n        else {\n            return ele.cloneNode(deep);\n        }\n    }\n    VirtualDOM.cloneNode = cloneNode;\n    function setStyleAttribute(element, attrs) {\n        if (element.attributes.style) {\n            (element.attributes).style = extend({}, attrs);\n        }\n        else {\n            element.attributes.style = extend(element.attributes.style, attrs);\n        }\n    }\n    VirtualDOM.setStyleAttribute = setStyleAttribute;\n    //tslint:enable:no-any\n})(VirtualDOM || (VirtualDOM = {}));\n"]},"metadata":{},"sourceType":"module"}