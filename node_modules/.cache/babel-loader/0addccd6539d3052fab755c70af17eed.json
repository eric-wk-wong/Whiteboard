{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { EventHandler, createElement, formatUnit } from '@syncfusion/ej2-base';\nimport { Month } from './month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport { TimelineHeaderRow } from './timeline-header-row';\n/**\n * timeline month view\n */\n\nvar TimelineMonth =\n/** @class */\nfunction (_super) {\n  __extends(TimelineMonth, _super);\n  /**\n   * Constructor for timeline month view\n   */\n\n\n  function TimelineMonth(parent) {\n    var _this = _super.call(this, parent) || this;\n\n    _this.viewClass = 'e-timeline-month-view';\n    _this.isInverseTableSelect = true;\n    return _this;\n  }\n  /**\n   * Get module name.\n   */\n\n\n  TimelineMonth.prototype.getModuleName = function () {\n    return 'timelineMonth';\n  };\n\n  TimelineMonth.prototype.onDataReady = function (args) {\n    var appointment = new TimelineEvent(this.parent, 'day');\n    appointment.renderAppointments();\n    this.parent.notify(event.eventsLoaded, {});\n  };\n\n  TimelineMonth.prototype.getLeftPanelElement = function () {\n    return this.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n  };\n\n  TimelineMonth.prototype.scrollTopPanel = function (target) {\n    _super.prototype.scrollTopPanel.call(this, target);\n\n    this.scrollHeaderLabels(target);\n  };\n\n  TimelineMonth.prototype.setContentHeight = function (content, leftPanelElement, height) {\n    if (leftPanelElement) {\n      leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n    }\n\n    content.style.height = formatUnit(height);\n  };\n\n  TimelineMonth.prototype.getDateSlots = function (renderDates, workDays) {\n    var dateSlots = [];\n\n    for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n      var col = renderDates_1[_i];\n      var classList = [cls.HEADER_CELLS_CLASS];\n\n      if (this.isCurrentDate(col)) {\n        classList.push(cls.CURRENT_DAY_CLASS);\n      }\n\n      dateSlots.push({\n        date: col,\n        type: 'dateHeader',\n        className: classList,\n        colSpan: 1,\n        workDays: workDays\n      });\n    }\n\n    return dateSlots;\n  };\n\n  TimelineMonth.prototype.renderLeftIndent = function (tr) {\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      this.parent.resourceBase.renderResourceHeaderIndent(tr);\n    }\n  };\n\n  TimelineMonth.prototype.renderContent = function () {\n    var contentTr = createElement('tr');\n\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      var resTd = createElement('td');\n      resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n      contentTr.appendChild(resTd);\n    }\n\n    var contentTd = createElement('td');\n    this.element.querySelector('tbody').appendChild(contentTr);\n    var wrap = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    wrap.appendChild(this.renderContentArea());\n    wrap.appendChild(this.createEventTable(this.getRowCount()));\n    this.collapseRows(wrap);\n    EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n    contentTd.appendChild(wrap);\n\n    if (this.parent.virtualScrollModule) {\n      this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n    }\n\n    contentTr.appendChild(contentTd);\n  };\n\n  TimelineMonth.prototype.getRowCount = function () {\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      return this.parent.resourceBase.renderedResources.length;\n    }\n\n    return 1;\n  };\n\n  TimelineMonth.prototype.getContentSlots = function () {\n    var slotDatas = [];\n\n    for (var row = 0; row < this.getRowCount(); row++) {\n      for (var _i = 0, _a = this.colLevels[this.colLevels.length - 1]; _i < _a.length; _i++) {\n        var data = _a[_i];\n        data.className = [cls.WORK_CELLS_CLASS];\n\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n          var resLevel = this.parent.resourceBase.renderedResources[row];\n          data.workDays = resLevel.resourceData[resLevel.resource.workDaysField] || this.parent.workDays;\n          data.className = data.className.concat(resLevel.className);\n          data.groupIndex = resLevel.groupIndex;\n          data.groupOrder = resLevel.groupOrder;\n        }\n\n        var slotData = {\n          date: new Date(+data.date),\n          colSpan: data.colSpan,\n          groupIndex: data.groupIndex,\n          workDays: data.workDays,\n          type: 'monthCells',\n          className: data.className\n        };\n\n        if (!slotDatas[row]) {\n          slotDatas[row] = [];\n        }\n\n        slotDatas[row].push(slotData);\n      }\n    }\n\n    return slotDatas;\n  };\n\n  TimelineMonth.prototype.updateClassList = function (data) {\n    if (!this.parent.isMinMaxDate(data.date)) {\n      data.className.push(cls.DISABLE_DATES);\n    }\n  };\n\n  TimelineMonth.prototype.unwireEvents = function () {\n    EventHandler.remove(this.getContentAreaElement(), 'scroll', this.onContentScroll);\n  };\n\n  TimelineMonth.prototype.getMonthStart = function (currentDate) {\n    var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n    return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n  };\n\n  TimelineMonth.prototype.getMonthEnd = function (currentDate) {\n    var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n    return this.parent.calendarUtil.lastDateOfMonth(util.addMonths(new Date(+monthStart), this.parent.activeViewOptions.interval - 1));\n  };\n\n  TimelineMonth.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n    colLevels.push(level);\n\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      this.parent.resourceBase.generateResourceLevels(level, !this.parent.uiStateValues.isGroupAdaptive);\n    }\n\n    var hourSlots = [];\n\n    if (this.parent.activeViewOptions.headerRows.length > 0) {\n      var renderGn = new TimelineHeaderRow(this.parent, this.renderDates);\n      colLevels = renderGn.generateColumnLevels(level, hourSlots);\n    }\n\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n\n  return TimelineMonth;\n}(Month);\n\nexport { TimelineMonth };","map":{"version":3,"sources":["D:/developing/projects/Whiteboard/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/timeline-month.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","createElement","formatUnit","Month","TimelineEvent","util","event","cls","TimelineHeaderRow","TimelineMonth","_super","parent","_this","call","viewClass","isInverseTableSelect","getModuleName","onDataReady","args","appointment","renderAppointments","notify","eventsLoaded","getLeftPanelElement","element","querySelector","RESOURCE_COLUMN_WRAP_CLASS","scrollTopPanel","target","scrollHeaderLabels","setContentHeight","content","leftPanelElement","height","style","getScrollXIndent","getDateSlots","renderDates","workDays","dateSlots","_i","renderDates_1","length","col","classList","HEADER_CELLS_CLASS","isCurrentDate","push","CURRENT_DAY_CLASS","date","type","className","colSpan","renderLeftIndent","tr","activeViewOptions","group","resources","uiStateValues","isGroupAdaptive","resourceBase","renderResourceHeaderIndent","renderContent","contentTr","resTd","appendChild","createResourceColumn","contentTd","wrap","CONTENT_WRAP_CLASS","renderContentArea","createEventTable","getRowCount","collapseRows","add","onContentScroll","virtualScrollModule","renderVirtualTrack","renderedResources","getContentSlots","slotDatas","row","_a","colLevels","data","WORK_CELLS_CLASS","resLevel","resourceData","resource","workDaysField","concat","groupIndex","groupOrder","slotData","Date","updateClassList","isMinMaxDate","DISABLE_DATES","unwireEvents","remove","getContentAreaElement","getMonthStart","currentDate","monthStart","calendarUtil","firstDateOfMonth","resetTime","getFullYear","getMonth","getDate","getMonthEnd","lastDateOfMonth","addMonths","interval","generateColumnLevels","level","generateResourceLevels","hourSlots","headerRows","renderGn"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, createElement, formatUnit } from '@syncfusion/ej2-base';\nimport { Month } from './month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport { TimelineHeaderRow } from './timeline-header-row';\n/**\n * timeline month view\n */\nvar TimelineMonth = /** @class */ (function (_super) {\n    __extends(TimelineMonth, _super);\n    /**\n     * Constructor for timeline month view\n     */\n    function TimelineMonth(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-timeline-month-view';\n        _this.isInverseTableSelect = true;\n        return _this;\n    }\n    /**\n     * Get module name.\n     */\n    TimelineMonth.prototype.getModuleName = function () {\n        return 'timelineMonth';\n    };\n    TimelineMonth.prototype.onDataReady = function (args) {\n        var appointment = new TimelineEvent(this.parent, 'day');\n        appointment.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    TimelineMonth.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    };\n    TimelineMonth.prototype.scrollTopPanel = function (target) {\n        _super.prototype.scrollTopPanel.call(this, target);\n        this.scrollHeaderLabels(target);\n    };\n    TimelineMonth.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        if (leftPanelElement) {\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n        content.style.height = formatUnit(height);\n    };\n    TimelineMonth.prototype.getDateSlots = function (renderDates, workDays) {\n        var dateSlots = [];\n        for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n            var col = renderDates_1[_i];\n            var classList = [cls.HEADER_CELLS_CLASS];\n            if (this.isCurrentDate(col)) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: col, type: 'dateHeader', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    TimelineMonth.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n    };\n    TimelineMonth.prototype.renderContent = function () {\n        var contentTr = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            var resTd = createElement('td');\n            resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            contentTr.appendChild(resTd);\n        }\n        var contentTd = createElement('td');\n        this.element.querySelector('tbody').appendChild(contentTr);\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        wrap.appendChild(this.renderContentArea());\n        wrap.appendChild(this.createEventTable(this.getRowCount()));\n        this.collapseRows(wrap);\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        contentTd.appendChild(wrap);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n        }\n        contentTr.appendChild(contentTd);\n    };\n    TimelineMonth.prototype.getRowCount = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            return this.parent.resourceBase.renderedResources.length;\n        }\n        return 1;\n    };\n    TimelineMonth.prototype.getContentSlots = function () {\n        var slotDatas = [];\n        for (var row = 0; row < this.getRowCount(); row++) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 1]; _i < _a.length; _i++) {\n                var data = _a[_i];\n                data.className = [cls.WORK_CELLS_CLASS];\n                if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                    var resLevel = this.parent.resourceBase.renderedResources[row];\n                    data.workDays = resLevel.resourceData[resLevel.resource.workDaysField] || this.parent.workDays;\n                    data.className = data.className.concat(resLevel.className);\n                    data.groupIndex = resLevel.groupIndex;\n                    data.groupOrder = resLevel.groupOrder;\n                }\n                var slotData = {\n                    date: new Date(+data.date), colSpan: data.colSpan, groupIndex: data.groupIndex, workDays: data.workDays,\n                    type: 'monthCells', className: data.className\n                };\n                if (!slotDatas[row]) {\n                    slotDatas[row] = [];\n                }\n                slotDatas[row].push(slotData);\n            }\n        }\n        return slotDatas;\n    };\n    TimelineMonth.prototype.updateClassList = function (data) {\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n    };\n    TimelineMonth.prototype.unwireEvents = function () {\n        EventHandler.remove(this.getContentAreaElement(), 'scroll', this.onContentScroll);\n    };\n    TimelineMonth.prototype.getMonthStart = function (currentDate) {\n        var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    TimelineMonth.prototype.getMonthEnd = function (currentDate) {\n        var monthStart = this.parent.calendarUtil.firstDateOfMonth(util.resetTime(currentDate));\n        return this.parent.calendarUtil.lastDateOfMonth(util.addMonths(new Date(+monthStart), this.parent.activeViewOptions.interval - 1));\n    };\n    TimelineMonth.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        colLevels.push(level);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.generateResourceLevels(level, !this.parent.uiStateValues.isGroupAdaptive);\n        }\n        var hourSlots = [];\n        if (this.parent.activeViewOptions.headerRows.length > 0) {\n            var renderGn = new TimelineHeaderRow(this.parent, this.renderDates);\n            colLevels = renderGn.generateColumnLevels(level, hourSlots);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    return TimelineMonth;\n}(Month));\nexport { TimelineMonth };\n"]},"metadata":{},"sourceType":"module"}