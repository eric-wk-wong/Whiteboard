{"ast":null,"code":"/**\n * Resize library\n */\nimport { isNullOrUndefined, createElement, EventHandler, detach, Browser } from '@syncfusion/ej2-base';\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\nexport function createResize(args) {\n  resizeStart = args.resizeBegin;\n  resize = args.resizing;\n  resizeEnd = args.resizeComplete;\n  targetElement = getDOMElement(args.element);\n  containerElement = getDOMElement(args.boundary);\n  var directions = args.direction.split(' ');\n\n  for (var i = 0; i < directions.length; i++) {\n    var resizeHandler = createElement('div', {\n      className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i]\n    });\n    targetElement.appendChild(resizeHandler);\n  }\n\n  minHeight = args.minHeight;\n  minWidth = args.minWidth;\n  maxWidth = args.maxWidth;\n  maxHeight = args.maxHeight;\n  wireEvents();\n}\n\nfunction getDOMElement(element) {\n  var domElement;\n\n  if (!isNullOrUndefined(element)) {\n    if (typeof element === 'string') {\n      domElement = document.querySelector(element);\n    } else {\n      domElement = element;\n    }\n  }\n\n  return domElement;\n}\n\nfunction wireEvents() {\n  var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < resizers.length; i++) {\n    selectedHandler = resizers[i];\n    EventHandler.add(selectedHandler, 'mousedown', onMouseDown, this);\n    var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n    EventHandler.add(selectedHandler, eventName, onTouchStart, this);\n  }\n}\n/* istanbul ignore next */\n\n\nfunction getEventType(e) {\n  return e.indexOf('mouse') > -1 ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n\n\nfunction onMouseDown(e) {\n  e.preventDefault();\n  targetElement = e.target.parentElement;\n  calculateValues();\n  originalMouseX = e.pageX;\n  originalMouseY = e.pageY;\n  e.target.classList.add(FOCUSED_HANDLER);\n\n  if (!isNullOrUndefined(resizeStart)) {\n    if (resizeStart(e) === true) {\n      return;\n    }\n  }\n\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, 'mousemove', onMouseMove, this);\n  EventHandler.add(document, 'mouseup', onMouseUp, this);\n\n  for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n    if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n      setLeft = false;\n    } else {\n      setLeft = true;\n    }\n  }\n}\n/* istanbul ignore next */\n\n\nfunction onMouseUp(e) {\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.remove(target, 'mousemove', onMouseMove);\n  EventHandler.remove(target, touchMoveEvent, onMouseMove);\n  var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n  EventHandler.remove(target, eventName, onMouseMove);\n\n  if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(resizeEnd)) {\n    resizeEnd(e);\n  }\n\n  EventHandler.remove(document, 'mouseup', onMouseUp);\n  EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n\nfunction calculateValues() {\n  originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n  originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n  originalX = targetElement.getBoundingClientRect().left;\n  originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n\n\nfunction onTouchStart(e) {\n  targetElement = e.target.parentElement;\n  calculateValues();\n  originalMouseX = e.touches[0].pageX;\n  originalMouseY = e.touches[0].pageY;\n\n  if (!isNullOrUndefined(resizeStart)) {\n    if (resizeStart(e) === true) {\n      return;\n    }\n  }\n\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n  EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n\nfunction onMouseMove(e) {\n  if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n    selectedHandler = e.target;\n  } else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(selectedHandler)) {\n    var resizeTowards = '';\n\n    for (var i = 0; i < elementClass.length; i++) {\n      if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n        resizeTowards = elementClass[i];\n      }\n    }\n\n    if (!isNullOrUndefined(resize)) {\n      resize(e);\n    }\n\n    switch (resizeTowards) {\n      case 'south':\n        resizeSouth(e);\n        break;\n\n      case 'north':\n        resizeNorth(e);\n        break;\n\n      case 'west':\n        resizeWest(e);\n        break;\n\n      case 'east':\n        resizeEast(e);\n        break;\n\n      case 'south-east':\n        resizeSouth(e);\n        resizeEast(e);\n        break;\n\n      case 'south-west':\n        resizeSouth(e);\n        resizeWest(e);\n        break;\n\n      case 'north-east':\n        resizeNorth(e);\n        resizeEast(e);\n        break;\n\n      case 'north-west':\n        resizeNorth(e);\n        resizeWest(e);\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n/* istanbul ignore next */\n\n\nfunction getClientRectValues(element) {\n  return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\n\n\nfunction resizeSouth(e) {\n  var documentHeight = document.documentElement.clientHeight;\n  var calculateValue = false;\n  var containerRectValues;\n  var currentpageY = getEventType(e.type) === 'mouse' ? e.pageY : e.touches[0].pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && (documentHeight - currentpageY >= 0 || targetRectValues.top < 0)) {\n    calculateValue = true;\n  }\n\n  var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n  calculatedHeight = calculatedHeight > minHeight ? calculatedHeight : minHeight;\n  var containerTop = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerTop = containerRectValues.top;\n  }\n\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n  var topWithoutborder = targetRectValues.top - containerTop - borderValue / 2;\n  topWithoutborder = topWithoutborder < 0 ? 0 : topWithoutborder;\n\n  if (targetRectValues.top > 0 && topWithoutborder + calculatedHeight > maxHeight) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.height = maxHeight - parseInt(topWithoutborder.toString(), 10) + 'px';\n    return;\n  }\n\n  var targetTop = 0;\n\n  if (calculateValue) {\n    if (targetRectValues.top < 0 && documentHeight + (targetRectValues.height + targetRectValues.top) > 0) {\n      targetTop = targetRectValues.top;\n\n      if (calculatedHeight + targetTop <= 30) {\n        calculatedHeight = targetRectValues.height - (targetRectValues.height + targetRectValues.top) + 30;\n      }\n    }\n\n    if (calculatedHeight + targetRectValues.top >= maxHeight) {\n      targetElement.style.height = targetRectValues.height + (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n    }\n\n    var calculatedTop = isNullOrUndefined(containerElement) ? targetTop : topWithoutborder;\n\n    if (calculatedHeight >= minHeight && calculatedHeight + calculatedTop <= maxHeight) {\n      targetElement.style.height = calculatedHeight + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\n\n\nfunction resizeNorth(e) {\n  var calculateValue = false;\n  var boundaryRectValues;\n  var pageY = getEventType(e.type) === 'mouse' ? e.pageY : e.touches[0].pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement)) {\n    boundaryRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement) && targetRectValues.top - boundaryRectValues.top > 0) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageY > 0) {\n    calculateValue = true;\n  }\n\n  var currentHeight = originalHeight - (pageY - originalMouseY);\n\n  if (getClientRectValues(targetElement).bottom + currentHeight > maxHeight) {\n    calculateValue = false;\n    targetElement.style.height = maxHeight - getClientRectValues(targetElement).bottom + 'px';\n  }\n\n  if (calculateValue) {\n    if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n      var containerTop = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerTop = boundaryRectValues.top;\n      }\n\n      var top_1 = originalY - containerTop + (pageY - originalMouseY);\n      top_1 = top_1 > 0 ? top_1 : 1;\n      targetElement.style.height = currentHeight + 'px';\n      targetElement.style.top = top_1 + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\n\n\nfunction resizeWest(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var rectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    rectValues = getClientRectValues(containerElement);\n  }\n\n  var pageX = getEventType(e.type) === 'mouse' ? e.pageX : e.touches[0].pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n  var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n  var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n\n  if (isNullOrUndefined(resizeWestWidth)) {\n    if (!isNullOrUndefined(containerElement)) {\n      resizeWestWidth = targetRectValues.left - left - borderValue / 2 + targetRectValues.width;\n      resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n    } else {\n      resizeWestWidth = documentWidth;\n    }\n  }\n\n  if (!isNullOrUndefined(containerElement) && targetRectValues.left - rectValues.left + targetRectValues.width + (rectValues.right - targetRectValues.right) - borderValue <= maxWidth) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth - (pageX - originalMouseX);\n\n  if (setLeft) {\n    calculatedWidth = calculatedWidth > resizeWestWidth ? resizeWestWidth : calculatedWidth;\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      var containerLeft = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerLeft = rectValues.left;\n      }\n\n      var left_1 = originalX - containerLeft + (pageX - originalMouseX);\n      left_1 = left_1 > 0 ? left_1 : 1;\n\n      if (calculatedWidth !== previousWidth && setWidth) {\n        targetElement.style.width = calculatedWidth + 'px';\n      }\n\n      if (setLeft) {\n        targetElement.style.left = left_1 + 'px';\n\n        if (left_1 === 1) {\n          setWidth = false;\n        } else {\n          setWidth = true;\n        }\n      }\n    }\n  }\n\n  previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\n\n\nfunction resizeEast(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  var pageX = getEventType(e.type) === 'mouse' ? e.pageX : e.touches[0].pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement) && (targetRectValues.left - containerRectValues.left + targetRectValues.width < maxWidth || targetRectValues.right - containerRectValues.left > targetRectValues.width)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && documentWidth - pageX > 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth + (pageX - originalMouseX);\n  var containerLeft = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerLeft = containerRectValues.left;\n  }\n\n  if (targetRectValues.left - containerLeft + calculatedWidth > maxWidth) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      targetElement.style.width = calculatedWidth + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n\n\nexport function setMinHeight(minimumHeight) {\n  minHeight = minimumHeight;\n}\nexport function removeResize() {\n  var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < handlers.length; i++) {\n    detach(handlers[i]);\n  }\n}","map":{"version":3,"sources":["/Users/jay/node_modules/@syncfusion/ej2-popups/src/common/resize.js"],"names":["isNullOrUndefined","createElement","EventHandler","detach","Browser","elementClass","targetElement","selectedHandler","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","RESIZE_HANDLER","FOCUSED_HANDLER","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","minHeight","maxHeight","minWidth","maxWidth","containerElement","resizeStart","resize","resizeEnd","resizeWestWidth","setLeft","previousWidth","setWidth","createResize","args","resizeBegin","resizing","resizeComplete","getDOMElement","element","boundary","directions","direction","split","i","length","resizeHandler","className","appendChild","wireEvents","domElement","document","querySelector","resizers","querySelectorAll","add","onMouseDown","eventName","info","name","onTouchStart","getEventType","e","indexOf","preventDefault","target","parentElement","calculateValues","pageX","pageY","classList","onMouseMove","onMouseUp","contains","touchMoveEvent","touchEndEvent","remove","body","parseFloat","getComputedStyle","getPropertyValue","replace","getBoundingClientRect","left","top","touches","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","documentHeight","documentElement","clientHeight","calculateValue","containerRectValues","currentpageY","type","targetRectValues","calculatedHeight","containerTop","borderValue","offsetHeight","topWithoutborder","style","height","parseInt","toString","targetTop","calculatedTop","boundaryRectValues","currentHeight","bottom","top_1","documentWidth","clientWidth","rectValues","offsetWidth","containerWidth","width","right","calculatedWidth","containerLeft","left_1","setMinHeight","minimumHeight","removeResize","handlers"],"mappings":"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","sourcesContent":["/**\n * Resize library\n */\nimport { isNullOrUndefined, createElement, EventHandler, detach, Browser } from '@syncfusion/ej2-base';\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\nexport function createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    var directions = args.direction.split(' ');\n    for (var i = 0; i < directions.length; i++) {\n        var resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n        targetElement.appendChild(resizeHandler);\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    wireEvents();\n}\nfunction getDOMElement(element) {\n    var domElement;\n    if (!isNullOrUndefined(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\nfunction wireEvents() {\n    var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, this);\n        var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, this);\n    }\n}\n/* istanbul ignore next */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNullOrUndefined(resizeStart)) {\n        if (resizeStart(e) === true) {\n            return;\n        }\n    }\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\nfunction onMouseUp(e) {\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(resizeEnd)) {\n        resizeEnd(e);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.touches[0].pageX;\n    originalMouseY = e.touches[0].pageY;\n    if (!isNullOrUndefined(resizeStart)) {\n        if (resizeStart(e) === true) {\n            return;\n        }\n    }\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(selectedHandler)) {\n        var resizeTowards = '';\n        for (var i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNullOrUndefined(resize)) {\n            resize(e);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\nfunction resizeSouth(e) {\n    var documentHeight = document.documentElement.clientHeight;\n    var calculateValue = false;\n    var containerRectValues;\n    var currentpageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    var containerTop = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    var topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    var targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        var calculatedTop = (isNullOrUndefined(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\nfunction resizeNorth(e) {\n    var calculateValue = false;\n    var boundaryRectValues;\n    var pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    var currentHeight = originalHeight - (pageY - originalMouseY);\n    if ((getClientRectValues(targetElement).bottom + currentHeight) > maxHeight) {\n        calculateValue = false;\n        targetElement.style.height = maxHeight - getClientRectValues(targetElement).bottom + 'px';\n    }\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            var containerTop = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            var top_1 = (originalY - containerTop) + (pageY - originalMouseY);\n            top_1 = top_1 > 0 ? top_1 : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top_1 + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\nfunction resizeWest(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var rectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n    var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n    if (isNullOrUndefined(resizeWestWidth)) {\n        if (!isNullOrUndefined(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNullOrUndefined(containerElement) &&\n        (((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            var containerLeft = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            var left_1 = (originalX - containerLeft) + (pageX - originalMouseX);\n            left_1 = (left_1 > 0) ? left_1 : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left_1 + 'px';\n                if (left_1 === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// tslint:disable-next-line\nfunction resizeEast(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) < maxWidth\n        || (targetRectValues.right - containerRectValues.left) > targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth + (pageX - originalMouseX);\n    var containerLeft = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\nexport function setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\nexport function removeResize() {\n    var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}