{"ast":null,"code":"import firebase from 'firebase';\nimport \"firebase/auth\";\nimport 'firebase/firestore';\nconst config = {\n  apiKey: \"AIzaSyAEYGk8mPtvphxsWzJVwfuOiMIEG3dZ7KQ\",\n  authDomain: \"sample-5284b.firebaseapp.com\",\n  databaseURL: \"https://sample-5284b.firebaseio.com\",\n  projectId: \"sample-5284b\",\n  storageBucket: \"sample-5284b.appspot.com\",\n  messagingSenderId: \"495188636690\",\n  appId: \"1:495188636690:web:6704678dc789682e7ad4cb\",\n  measurementId: \"G-R9C0PWP44D\"\n};\n\nclass Firebase {\n  constructor() {\n    firebase.initializeApp(config);\n    this.auth = firebase.auth();\n    this.db = firebase.firestore();\n  }\n\n  login(email, password) {\n    return this.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  logout() {\n    return this.auth.signOut();\n  }\n\n  async register(name, email, password) {\n    await this.auth.createUserWithEmailAndPassword(email, password);\n    return this.auth.currentUser.updateProfile({\n      displayName: name\n    });\n  }\n\n  addQuote(quote) {\n    if (!this.auth.currentUser) {\n      return alert('Not authorized');\n    }\n\n    return this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).set({\n      quote\n    });\n  }\n\n  isInitialized() {\n    return new Promise(resolve => {\n      this.auth.onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrentUsername() {\n    return this.auth.currentUser && this.auth.currentUser.displayName;\n  }\n\n  async getCurrentUserQuote() {\n    const quote = await this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).get();\n    return quote.get('quote');\n  }\n\n}\n\nexport default new firebase();","map":{"version":3,"sources":["D:/developing/projects/whiteboard/src/components/firebase/base.js"],"names":["firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","constructor","initializeApp","auth","db","firestore","login","email","password","signInWithEmailAndPassword","logout","signOut","register","name","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","addQuote","quote","alert","doc","uid","set","isInitialized","Promise","resolve","onAuthStateChanged","getCurrentUsername","getCurrentUserQuote","get"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,OAAO,eAAP;AACA,OAAO,oBAAP;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,MAAM,EAAE,yCADG;AAEXC,EAAAA,UAAU,EAAE,8BAFD;AAGXC,EAAAA,WAAW,EAAE,qCAHF;AAIXC,EAAAA,SAAS,EAAE,cAJA;AAKXC,EAAAA,aAAa,EAAE,0BALJ;AAMXC,EAAAA,iBAAiB,EAAE,cANR;AAOXC,EAAAA,KAAK,EAAE,2CAPI;AAQXC,EAAAA,aAAa,EAAE;AARJ,CAAf;;AAWA,MAAMC,QAAN,CAAe;AACdC,EAAAA,WAAW,GAAG;AACbX,IAAAA,QAAQ,CAACY,aAAT,CAAuBX,MAAvB;AACA,SAAKY,IAAL,GAAYb,QAAQ,CAACa,IAAT,EAAZ;AACA,SAAKC,EAAL,GAAUd,QAAQ,CAACe,SAAT,EAAV;AACA;;AAEDC,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACtB,WAAO,KAAKL,IAAL,CAAUM,0BAAV,CAAqCF,KAArC,EAA4CC,QAA5C,CAAP;AACA;;AAEDE,EAAAA,MAAM,GAAG;AACR,WAAO,KAAKP,IAAL,CAAUQ,OAAV,EAAP;AACA;;AAED,QAAMC,QAAN,CAAeC,IAAf,EAAqBN,KAArB,EAA4BC,QAA5B,EAAsC;AACrC,UAAM,KAAKL,IAAL,CAAUW,8BAAV,CAAyCP,KAAzC,EAAgDC,QAAhD,CAAN;AACA,WAAO,KAAKL,IAAL,CAAUY,WAAV,CAAsBC,aAAtB,CAAoC;AAC1CC,MAAAA,WAAW,EAAEJ;AAD6B,KAApC,CAAP;AAGA;;AAEDK,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACf,QAAG,CAAC,KAAKhB,IAAL,CAAUY,WAAd,EAA2B;AAC1B,aAAOK,KAAK,CAAC,gBAAD,CAAZ;AACA;;AAED,WAAO,KAAKhB,EAAL,CAAQiB,GAAR,CAAa,wBAAuB,KAAKlB,IAAL,CAAUY,WAAV,CAAsBO,GAAI,EAA9D,EAAiEC,GAAjE,CAAqE;AAC3EJ,MAAAA;AAD2E,KAArE,CAAP;AAGA;;AAEDK,EAAAA,aAAa,GAAG;AACf,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC7B,WAAKvB,IAAL,CAAUwB,kBAAV,CAA6BD,OAA7B;AACA,KAFM,CAAP;AAGA;;AAEDE,EAAAA,kBAAkB,GAAG;AACpB,WAAO,KAAKzB,IAAL,CAAUY,WAAV,IAAyB,KAAKZ,IAAL,CAAUY,WAAV,CAAsBE,WAAtD;AACA;;AAED,QAAMY,mBAAN,GAA4B;AAC3B,UAAMV,KAAK,GAAG,MAAM,KAAKf,EAAL,CAAQiB,GAAR,CAAa,wBAAuB,KAAKlB,IAAL,CAAUY,WAAV,CAAsBO,GAAI,EAA9D,EAAiEQ,GAAjE,EAApB;AACA,WAAOX,KAAK,CAACW,GAAN,CAAU,OAAV,CAAP;AACA;;AA7Ca;;AAgDf,eAAe,IAAIxC,QAAJ,EAAf","sourcesContent":["import firebase from 'firebase';\r\nimport \"firebase/auth\";\r\nimport 'firebase/firestore';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyAEYGk8mPtvphxsWzJVwfuOiMIEG3dZ7KQ\",\r\n    authDomain: \"sample-5284b.firebaseapp.com\",\r\n    databaseURL: \"https://sample-5284b.firebaseio.com\",\r\n    projectId: \"sample-5284b\",\r\n    storageBucket: \"sample-5284b.appspot.com\",\r\n    messagingSenderId: \"495188636690\",\r\n    appId: \"1:495188636690:web:6704678dc789682e7ad4cb\",\r\n    measurementId: \"G-R9C0PWP44D\"\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor() {\r\n\t\tfirebase.initializeApp(config)\r\n\t\tthis.auth = firebase.auth()\r\n\t\tthis.db = firebase.firestore()\r\n\t}\r\n\r\n\tlogin(email, password) {\r\n\t\treturn this.auth.signInWithEmailAndPassword(email, password)\r\n\t}\r\n\r\n\tlogout() {\r\n\t\treturn this.auth.signOut()\r\n\t}\r\n\r\n\tasync register(name, email, password) {\r\n\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\r\n\t\treturn this.auth.currentUser.updateProfile({\r\n\t\t\tdisplayName: name\r\n\t\t})\r\n\t}\r\n\r\n\taddQuote(quote) {\r\n\t\tif(!this.auth.currentUser) {\r\n\t\t\treturn alert('Not authorized')\r\n\t\t}\r\n\r\n\t\treturn this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).set({\r\n\t\t\tquote\r\n\t\t})\r\n\t}\r\n\r\n\tisInitialized() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.auth.onAuthStateChanged(resolve)\r\n\t\t})\r\n\t}\r\n\r\n\tgetCurrentUsername() {\r\n\t\treturn this.auth.currentUser && this.auth.currentUser.displayName\r\n\t}\r\n\r\n\tasync getCurrentUserQuote() {\r\n\t\tconst quote = await this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).get()\r\n\t\treturn quote.get('quote')\r\n\t}\r\n}\r\n\r\nexport default new firebase;\r\n"]},"metadata":{},"sourceType":"module"}