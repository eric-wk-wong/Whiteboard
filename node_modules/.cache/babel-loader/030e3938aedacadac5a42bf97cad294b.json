{"ast":null,"code":"/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\n/**\n * Search and focus the list item based on key code matches with list text content\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]] } items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n */\n\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, isBlazor) {\n  queryString += String.fromCharCode(keyCode);\n  setTimeout(function () {\n    queryString = '';\n  }, 1000);\n  var index;\n  queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n\n  if (prevString === queryString) {\n    for (var i = 0; i < matches.length; i++) {\n      if (matches[i].classList.contains(activeClass)) {\n        index = i;\n        break;\n      }\n    }\n\n    index = index + 1;\n    return matches[index];\n  } else {\n    var listItems = items;\n    var strLength = queryString.length;\n    var text = void 0;\n    var item = void 0;\n    selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n    var i = selectedIndex;\n    matches = [];\n\n    do {\n      if (i === listItems.length) {\n        i = -1;\n      }\n\n      i === -1 ? index = 0 : index = i;\n      item = listItems[index];\n\n      if (isBlazor) {\n        text = ignoreCase ? item.textContent.trim().toLowerCase() : item.textContent.trim();\n      } else {\n        text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n      }\n\n      if (text.substr(0, strLength) === queryString) {\n        matches.push(listItems[index]);\n      }\n\n      i++;\n    } while (i !== selectedIndex);\n\n    prevString = queryString;\n    return matches[0];\n  }\n}\nexport function Search(inputVal, items, searchType, ignoreCase) {\n  var listItems = items;\n  ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n  var itemData = {\n    item: null,\n    index: null\n  };\n\n  if (inputVal && inputVal.length) {\n    var strLength = inputVal.length;\n    var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n\n    for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n      var item = itemsData[i];\n      var text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n\n      if (searchType === 'Equal' && text === queryStr || searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) {\n        itemData.item = item;\n        itemData.index = i;\n        return {\n          item: item,\n          index: i\n        };\n      }\n    }\n\n    return itemData;\n  }\n\n  return itemData;\n}","map":{"version":3,"sources":["D:/developing/projects/whiteboard2.0/node_modules/@syncfusion/ej2-dropdowns/src/common/incremental-search.js"],"names":["queryString","prevString","matches","activeClass","incrementalSearch","keyCode","items","selectedIndex","ignoreCase","isBlazor","String","fromCharCode","setTimeout","index","toLowerCase","i","length","classList","contains","listItems","strLength","text","item","textContent","trim","innerText","substr","push","Search","inputVal","searchType","undefined","itemData","queryStr","toLocaleLowerCase","itemsData","replace"],"mappings":"AAAA;;;AAGA,IAAIA,WAAW,GAAG,EAAlB;AACA,IAAIC,UAAU,GAAG,EAAjB;AACA,IAAIC,OAAO,GAAG,EAAd;AACA,IAAIC,WAAW,GAAG,UAAlB;AACA;;;;;;;;;AAQA,OAAO,SAASC,iBAAT,CAA2BC,OAA3B,EAAoCC,KAApC,EAA2CC,aAA3C,EAA0DC,UAA1D,EAAsEC,QAAtE,EAAgF;AACnFT,EAAAA,WAAW,IAAIU,MAAM,CAACC,YAAP,CAAoBN,OAApB,CAAf;AACAO,EAAAA,UAAU,CAAC,YAAY;AAAEZ,IAAAA,WAAW,GAAG,EAAd;AAAmB,GAAlC,EAAoC,IAApC,CAAV;AACA,MAAIa,KAAJ;AACAb,EAAAA,WAAW,GAAGQ,UAAU,GAAGR,WAAW,CAACc,WAAZ,EAAH,GAA+Bd,WAAvD;;AACA,MAAIC,UAAU,KAAKD,WAAnB,EAAgC;AAC5B,SAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,OAAO,CAACc,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,UAAIb,OAAO,CAACa,CAAD,CAAP,CAAWE,SAAX,CAAqBC,QAArB,CAA8Bf,WAA9B,CAAJ,EAAgD;AAC5CU,QAAAA,KAAK,GAAGE,CAAR;AACA;AACH;AACJ;;AACDF,IAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACA,WAAOX,OAAO,CAACW,KAAD,CAAd;AACH,GATD,MAUK;AACD,QAAIM,SAAS,GAAGb,KAAhB;AACA,QAAIc,SAAS,GAAGpB,WAAW,CAACgB,MAA5B;AACA,QAAIK,IAAI,GAAG,KAAK,CAAhB;AACA,QAAIC,IAAI,GAAG,KAAK,CAAhB;AACAf,IAAAA,aAAa,GAAGA,aAAa,GAAGA,aAAa,GAAG,CAAnB,GAAuB,CAApD;AACA,QAAIQ,CAAC,GAAGR,aAAR;AACAL,IAAAA,OAAO,GAAG,EAAV;;AACA,OAAG;AACC,UAAIa,CAAC,KAAKI,SAAS,CAACH,MAApB,EAA4B;AACxBD,QAAAA,CAAC,GAAG,CAAC,CAAL;AACH;;AACDA,MAAAA,CAAC,KAAK,CAAC,CAAP,GAAWF,KAAK,GAAG,CAAnB,GAAuBA,KAAK,GAAGE,CAA/B;AACAO,MAAAA,IAAI,GAAGH,SAAS,CAACN,KAAD,CAAhB;;AACA,UAAIJ,QAAJ,EAAc;AACVY,QAAAA,IAAI,GAAGb,UAAU,GAAGc,IAAI,CAACC,WAAL,CAAiBC,IAAjB,GAAwBV,WAAxB,EAAH,GAA2CQ,IAAI,CAACC,WAAL,CAAiBC,IAAjB,EAA5D;AACH,OAFD,MAGK;AACDH,QAAAA,IAAI,GAAGb,UAAU,GAAGc,IAAI,CAACG,SAAL,CAAeX,WAAf,EAAH,GAAkCQ,IAAI,CAACG,SAAxD;AACH;;AACD,UAAIJ,IAAI,CAACK,MAAL,CAAY,CAAZ,EAAeN,SAAf,MAA8BpB,WAAlC,EAA+C;AAC3CE,QAAAA,OAAO,CAACyB,IAAR,CAAaR,SAAS,CAACN,KAAD,CAAtB;AACH;;AACDE,MAAAA,CAAC;AACJ,KAhBD,QAgBSA,CAAC,KAAKR,aAhBf;;AAiBAN,IAAAA,UAAU,GAAGD,WAAb;AACA,WAAOE,OAAO,CAAC,CAAD,CAAd;AACH;AACJ;AACD,OAAO,SAAS0B,MAAT,CAAgBC,QAAhB,EAA0BvB,KAA1B,EAAiCwB,UAAjC,EAA6CtB,UAA7C,EAAyD;AAC5D,MAAIW,SAAS,GAAGb,KAAhB;AACAE,EAAAA,UAAU,GAAGA,UAAU,KAAKuB,SAAf,IAA4BvB,UAAU,KAAK,IAA3C,GAAkDA,UAAlD,GAA+D,IAA5E;AACA,MAAIwB,QAAQ,GAAG;AAAEV,IAAAA,IAAI,EAAE,IAAR;AAAcT,IAAAA,KAAK,EAAE;AAArB,GAAf;;AACA,MAAIgB,QAAQ,IAAIA,QAAQ,CAACb,MAAzB,EAAiC;AAC7B,QAAII,SAAS,GAAGS,QAAQ,CAACb,MAAzB;AACA,QAAIiB,QAAQ,GAAGzB,UAAU,GAAGqB,QAAQ,CAACK,iBAAT,EAAH,GAAkCL,QAA3D;;AACA,SAAK,IAAId,CAAC,GAAG,CAAR,EAAWoB,SAAS,GAAGhB,SAA5B,EAAuCJ,CAAC,GAAGoB,SAAS,CAACnB,MAArD,EAA6DD,CAAC,EAA9D,EAAkE;AAC9D,UAAIO,IAAI,GAAGa,SAAS,CAACpB,CAAD,CAApB;AACA,UAAIM,IAAI,GAAG,CAACb,UAAU,GAAGc,IAAI,CAACC,WAAL,CAAiBW,iBAAjB,EAAH,GAA0CZ,IAAI,CAACC,WAA1D,EAAuEa,OAAvE,CAA+E,YAA/E,EAA6F,EAA7F,CAAX;;AACA,UAAKN,UAAU,KAAK,OAAf,IAA0BT,IAAI,KAAKY,QAApC,IAAkDH,UAAU,KAAK,YAAf,IAA+BT,IAAI,CAACK,MAAL,CAAY,CAAZ,EAAeN,SAAf,MAA8Ba,QAAnH,EAA8H;AAC1HD,QAAAA,QAAQ,CAACV,IAAT,GAAgBA,IAAhB;AACAU,QAAAA,QAAQ,CAACnB,KAAT,GAAiBE,CAAjB;AACA,eAAO;AAAEO,UAAAA,IAAI,EAAEA,IAAR;AAAcT,UAAAA,KAAK,EAAEE;AAArB,SAAP;AACH;AACJ;;AACD,WAAOiB,QAAP;AACH;;AACD,SAAOA,QAAP;AACH","sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\n/**\n * Search and focus the list item based on key code matches with list text content\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]] } items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, isBlazor) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () { queryString = ''; }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevString === queryString) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches[index];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            i === -1 ? index = 0 : index = i;\n            item = listItems[index];\n            if (isBlazor) {\n                text = ignoreCase ? item.textContent.trim().toLowerCase() : item.textContent.trim();\n            }\n            else {\n                text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            }\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        return matches[0];\n    }\n}\nexport function Search(inputVal, items, searchType, ignoreCase) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var item = itemsData[i];\n            var text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr)) {\n                itemData.item = item;\n                itemData.index = i;\n                return { item: item, index: i };\n            }\n        }\n        return itemData;\n    }\n    return itemData;\n}\n"]},"metadata":{},"sourceType":"module"}