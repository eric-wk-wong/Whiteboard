{"version":3,"file":"ej2-calendars.min.js","sources":["../../src/calendar/calendar.js","../../src/calendar/islamic.js","../../src/datepicker/datepicker.js","../../src/daterangepicker/daterangepicker.js","../../src/timepicker/timepicker.js","../../src/datetimepicker/datetimepicker.js","../../src/global.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization, isBlazor } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     * @param  {CalendarModel} options?\n     * @param  {string|HTMLElement} element?\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     * @returns void\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '' } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = (isBlazor() ? 'days.' : 'days.stand-alone.') + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        var shortNames;\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (var days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        if (!(isBlazor() && ref)) {\n            EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        }\n        else {\n            this.element = document.getElementById(id);\n            this.defaultKeyConfigs = this.getDefaultKeyConfig();\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n            this.blazorRef = ref;\n            this.serverModuleName = moduleName;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.blazorRef = ref;\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (value) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)));\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)));\n            }\n        }\n    };\n    CalendarBase.prototype.checkDeviceMode = function (ref) {\n        if (Browser.isDevice && isBlazor() && ref) {\n            // tslint:disable-next-line\n            ref.invokeMethodAsync('OnDevice', true);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        if (isBlazor() && this.blazorRef) {\n            e.preventDefault();\n            if (!this.tableBodyElement) {\n                this.element = closest(e.target, '.' + 'e-calendar');\n                this.tableBodyElement = this.element.querySelector('tbody');\n            }\n            multiSelection = false;\n        }\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        if (isBlazor() && this.blazorRef) {\n            this.tableBodyElement.focus();\n            var targetEle = e.target;\n            var args = {\n                Action: e.action, Key: e.key, Events: e,\n                SelectDate: selectedDate ? selectedDate.id : null,\n                FocusedDate: focusedDate ? focusedDate.id : null,\n                classList: selectedDate ? selectedDate.classList.toString() : focusedDate ? focusedDate.classList.toString() : 'e-cell',\n                Id: focusedDate ? focusedDate.id : selectedDate ? selectedDate.id : null,\n                TargetClassList: targetEle.classList.toString()\n            };\n            // tslint:disable-next-line\n            this.blazorRef.invokeMethodAsync('OnCalendarKeyboardEvent', args);\n            if (targetEle.classList.contains('e-today')) {\n                targetEle.blur();\n                this.tableBodyElement.focus();\n            }\n            if (this.serverModuleName === 'sf.calendars.Calendar') {\n                this.tableBodyElement = null;\n            }\n        }\n        else {\n            var view = this.getViewNumber(this.currentView());\n            var depthValue = this.getViewNumber(this.depth);\n            var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n            this.effect = '';\n            switch (e.action) {\n                case 'moveLeft':\n                    this.KeyboardNavigate(-1, view, e, this.max, this.min);\n                    e.preventDefault();\n                    break;\n                case 'moveRight':\n                    this.KeyboardNavigate(1, view, e, this.max, this.min);\n                    e.preventDefault();\n                    break;\n                case 'moveUp':\n                    if (view === 0) {\n                        this.KeyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                    }\n                    else {\n                        this.KeyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                    }\n                    e.preventDefault();\n                    break;\n                case 'moveDown':\n                    if (view === 0) {\n                        this.KeyboardNavigate(7, view, e, this.max, this.min);\n                    }\n                    else {\n                        this.KeyboardNavigate(4, view, e, this.max, this.min);\n                    }\n                    e.preventDefault();\n                    break;\n                case 'select':\n                    if (e.target === this.todayElement) {\n                        this.todayButtonClick(value);\n                    }\n                    else {\n                        var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                        if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                            if (levelRestrict) {\n                                var d = new Date(parseInt('' + (element).id, 0));\n                                this.selectDate(e, d, (element));\n                            }\n                            else {\n                                this.contentClick(null, --view, (element), value);\n                            }\n                        }\n                    }\n                    break;\n                case 'controlUp':\n                    this.title();\n                    e.preventDefault();\n                    break;\n                case 'controlDown':\n                    if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.currentDate = this.firstDay(this.currentDate);\n                    detach(this.tableBodyElement);\n                    (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                    e.preventDefault();\n                    break;\n                case 'end':\n                    this.currentDate = this.lastDay(this.currentDate, view);\n                    detach(this.tableBodyElement);\n                    (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                    e.preventDefault();\n                    break;\n                case 'pageUp':\n                    this.addMonths(this.currentDate, -1);\n                    this.navigateTo('Month', this.currentDate);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.addMonths(this.currentDate, 1);\n                    this.navigateTo('Month', this.currentDate);\n                    e.preventDefault();\n                    break;\n                case 'shiftPageUp':\n                    this.addYears(this.currentDate, -1);\n                    this.navigateTo('Month', this.currentDate);\n                    e.preventDefault();\n                    break;\n                case 'shiftPageDown':\n                    this.addYears(this.currentDate, 1);\n                    this.navigateTo('Month', this.currentDate);\n                    e.preventDefault();\n                    break;\n                case 'controlHome':\n                    this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                    e.preventDefault();\n                    break;\n                case 'controlEnd':\n                    this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                    e.preventDefault();\n                    break;\n            }\n            if (this.getModuleName() === 'calendar') {\n                this.table.focus();\n            }\n        }\n    };\n    CalendarBase.prototype.KeyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    ;\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, e, value);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    CalendarBase.prototype.renderDays = function (currentDate, e, value, multiSelection, values) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var numCells = this.weekNumber ? 8 : 7;\n        // 8 and 7 denotes the number of columns to be specified.\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                weekAnchor.textContent = '' + this.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: isBlazor() ? 'D' : 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: isBlazor() ? 'D' : 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: this.getFromatStringValue(), type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getMonth() === new Date().getMonth() && date.getDate() === new Date().getDate()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY);\n                }\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var days;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        var disabled = (this.min > localDate) || (this.max < localDate);\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: isBlazor() ? 'MMM' : null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: isBlazor() ? 'yyyy' : null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: isBlazor() ? 'yyyy' : null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: isBlazor() ? 'yyyy' : null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: isBlazor() ? 'F' : 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    ;\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     * @deprecated\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     * @returns string\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    this.createContentHeader();\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    prop === 'min' ? this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true) :\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.setProperties({ start: this.currentView() }, true);\n                    detach(this.tableBodyElement);\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    this.createContentBody();\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                    this.checkView();\n                    this.createContentHeader();\n                    this.createContentBody();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.createContentHeader();\n                    this.createContentBody();\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    /* tslint:disable-next-line:max-line-length */\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' });\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: isBlazor() ? 'd' : 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: isBlazor() ? 'd' : 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: isBlazor() ? 'y' : 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: isBlazor() ? 'yyyy' : null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: isBlazor() ? 'D' : 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: isBlazor() ? 'y' : 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: isBlazor() ? 'yyyy' : null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar') {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar') {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) ?\n                this.element.setAttribute('tabindex', this.tabIndex) : this.element.removeAttribute('tabindex');\n        }\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns void\n     */\n    CalendarBase.prototype.navigateTo = function (view, date) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view));\n    };\n    /**\n     * Gets the current view of the Calendar.\n     * @returns string\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = (isBlazor() ? '.dates.days.' :\n            '.dates.calendars.gregorian.days.format.') + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = (isBlazor() ? '.dates.days.' :\n            '.dates.calendars.islamic.days.format.') + this.dayHeaderFormat.toLowerCase();\n        var mainVal = isBlazor() ? '' : 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    ;\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        var a = (currentDate - date);\n        return Math.ceil((((a) / dayMilliSeconds) + new Date(date).getDay() + 1) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: isBlazor() ? 'F' : 'full', calendar: type };\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: this.getFromatStringValue(), type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.getFromatStringValue = function () {\n        return isBlazor() ?\n            // tslint:disable-next-line\n            'M' + getDefaultDateObject().dateSeperator + 'd' + getDefaultDateObject().dateSeperator + 'yy'\n            : null;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                /* tslint:disable-next-line:max-line-length */\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: this.getFromatStringValue(), type: 'date', skeleton: 'short', calendar: type\n                });\n                /* tslint:disable-next-line:max-line-length */\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: this.getFromatStringValue(), type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value, null);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var month;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    ;\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     * @param  {CalendarModel} options?\n     * @param  {string|HTMLElement} element?\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     * @returns void\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (value) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function () {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    ;\n    /**\n     * @deprecated\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e) {\n        _super.prototype.renderMonths.call(this, e, this.value);\n    };\n    Calendar.prototype.renderDays = function (currentDate, e) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, e, this.value, this.isMultiSelection, this.values);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                copyValues.push(this.getIdValue(e, null));\n                this.setProperties({ values: copyValues }, true);\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection);\n    };\n    /**\n     * To get component name\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     * @returns string\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns void\n     * @deprecated\n     */\n    Calendar.prototype.navigateTo = function (view, date) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date);\n    };\n    /**\n     * Gets the current view of the Calendar.\n     * @returns string\n     * @deprecated\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     * @param  {Date || Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns void\n     * @deprecated\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     * @param  {Date || Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns void\n     * @deprecated\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            this.trigger('change', this.changedArgs);\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\nexport { Calendar };\n","/**\n *\n */\nimport { EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, addClass, attributes, HijriParser } from '@syncfusion/ej2-base';\nimport { getUniqueID } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar dayMilliSeconds = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\nvar Islamic = /** @class */ (function () {\n    function Islamic(instance) {\n        this.calendarInstance = instance;\n    }\n    Islamic.prototype.getModuleName = function () {\n        return 'islamic';\n    };\n    Islamic.prototype.islamicTitleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.calendarInstance.locale);\n        switch (view) {\n            case 'days':\n                /* tslint:disable-next-line:max-line-length */\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'MMMMyyyy', calendar: 'islamic' });\n                break;\n            case 'months':\n                /* tslint:disable-next-line:max-line-length */\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'yyyy', calendar: 'islamic' });\n        }\n    };\n    /* tslint:disable-next-line:max-line-length */\n    // tslint:disable-next-line:max-func-body-length\n    Islamic.prototype.islamicRenderDays = function (currentDate, value, multiSelection, values) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var localDate = new Date(this.islamicInValue(currentDate));\n        var minMaxDate;\n        var numCells = this.calendarInstance.weekNumber ? 8 : 7;\n        // 8 and 7 denotes the number of columns to be specified.\n        this.islamicTitleUpdate(currentDate, 'days');\n        /* tslint:disable-next-line:no-any */\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n        var currentMonth = islamicDate.month;\n        localDate = gregorianObject;\n        while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n            this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.calendarInstance.createElement('td', { className: CELL });\n            var weekAnchor = this.calendarInstance.createElement('span');\n            if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n                weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.calendarInstance.minMaxDate(localDate);\n            /* tslint:disable-next-line:max-line-length */\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: 'islamic' };\n            var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.islamicDayCell(localDate);\n            /* tslint:disable-next-line:max-line-length */\n            var title = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'full', calendar: 'islamic' });\n            var dayLink = this.calendarInstance.createElement('span');\n            /* tslint:disable-next-line:max-line-length */\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'd', calendar: 'islamic' });\n            var disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            /* tslint:disable-next-line:no-any */\n            var hijriMonthObject = this.getIslamicDate(localDate);\n            if (currentMonth !== hijriMonthObject.month) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.calendarInstance.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.calendarInstance.renderDayCellArgs;\n            this.calendarInstance.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (this.calendarInstance.isMultiSelection) {\n                    if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            /* tslint:disable-next-line:max-line-length */\n                            var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            /* tslint:disable-next-line:max-line-length */\n                            var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            if (localDateString === tempDateString) {\n                                this.calendarInstance.values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.calendarInstance.setProperties({ value: null }, true);\n                }\n            }\n            if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n                    this.calendarInstance.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) &&\n                !otherMnthBool && !disabledCls) {\n                for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n                    /* tslint:disable-next-line:max-line-length */\n                    var localDateString = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    var tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    if (localDateString === tempDateString &&\n                        this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (this.calendarInstance.values.length <= 0) {\n                    this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY);\n                }\n            }\n            localDate = new Date(+minMaxDate);\n            tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n            this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n        }\n        return tdEles;\n    };\n    Islamic.prototype.islamicIconHandler = function () {\n        new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n        var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n                var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevMonthCompare);\n                this.calendarInstance.nextIconHandler(nextMonthCompare);\n                break;\n            case 'Year':\n                var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n                var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevYearCompare);\n                this.calendarInstance.nextIconHandler(nextYearCompare);\n                break;\n            case 'Decade':\n                var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n                var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevDecadeCompare);\n                this.calendarInstance.nextIconHandler(nextDecadeCompare);\n        }\n    };\n    Islamic.prototype.islamicNext = function () {\n        this.calendarInstance.effect = '';\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        /* tslint:disable-next-line:no-any */\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n        }\n    };\n    Islamic.prototype.islamicPrevious = function () {\n        var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        this.calendarInstance.effect = '';\n        /* tslint:disable-next-line:no-any */\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n        }\n    };\n    Islamic.prototype.islamicRenderYears = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var days;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        var localDate = curDate;\n        /* tslint:disable-next-line:no-any */\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var mon = islamicDate.month;\n        var yr = islamicDate.year;\n        var curYrs = islamicDate.year;\n        /* tslint:disable-next-line:no-any */\n        var minYr = (this.getIslamicDate(this.calendarInstance.min)).year;\n        /* tslint:disable-next-line:no-any */\n        var minMonth = (this.getIslamicDate(this.calendarInstance.min)).month;\n        /* tslint:disable-next-line:no-any */\n        var maxYr = (this.getIslamicDate(this.calendarInstance.max)).year;\n        /* tslint:disable-next-line:no-any */\n        var maxMonth = (this.getIslamicDate(this.calendarInstance.max)).month;\n        this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n        var disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n        for (var month = 1; month <= 12; ++month) {\n            /* tslint:disable-next-line:no-any */\n            var islamicDate_1 = this.getIslamicDate(localDate);\n            var gregorianObject_1 = HijriParser.toGregorian(islamicDate_1.year, month, 1);\n            localDate = gregorianObject_1;\n            var tdEle = this.islamicDayCell(localDate);\n            var dayLink = this.calendarInstance.createElement('span');\n            /* tslint:disable-next-line:max-line-length */\n            /* tslint:disable-next-line:no-any */\n            var localMonth = (value && (this.getIslamicDate(value)).month === (this.getIslamicDate(localDate)).month);\n            /* tslint:disable-next-line:no-any  tslint:disable-next-line:max-line-length */\n            var select = (value && (this.getIslamicDate(value)).year === yr && localMonth);\n            /* tslint:disable-next-line:max-line-length */\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'MMM', calendar: 'islamic' });\n            if ((this.calendarInstance.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.calendarInstance.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                /* tslint:disable-next-line:no-any */\n                if ((this.getIslamicDate(localDate)).month === mon &&\n                    /* tslint:disable-next-line:no-any */\n                    (this.getIslamicDate(this.calendarInstance.currentDate)).month === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    Islamic.prototype.islamicRenderDecade = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        /* tslint:disable-next-line:no-any */\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(this.islamicInValue((localYr - localYr % 10)));\n        var endYr = new Date(this.islamicInValue((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        /* tslint:disable-next-line:max-line-length */\n        var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 2, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n            var year = startYear + rowCount;\n            localDate.setFullYear(year);\n            localDate.setDate(1);\n            localDate.setMonth(0);\n            /* tslint:disable-next-line:no-any */\n            var islamicDate_2 = this.getIslamicDate(localDate);\n            var gregorianObject_2 = HijriParser.toGregorian(islamicDate_2.year, 1, 1);\n            localDate = gregorianObject_2;\n            var tdEle = this.islamicDayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            var dayLink = this.calendarInstance.createElement('span');\n            /* tslint:disable-next-line:max-line-length */\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n            /* tslint:disable-next-line:no-any */\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            else if (year < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                || year > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) &&\n                /* tslint:disable-next-line:no-any */\n                (this.getIslamicDate(localDate)).year ===\n                    /* tslint:disable-next-line:no-any */\n                    (this.getIslamicDate(value)).year) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    Islamic.prototype.islamicDayCell = function (localDate) {\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: 'islamic' };\n        var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n        var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.calendarInstance.createElement('td', attrs);\n    };\n    Islamic.prototype.islamicRenderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        var trEle;\n        this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n        this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n        removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowCount = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.calendarInstance.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n                if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n                    addClass([elements[rowCount].children[0]], [LINK]);\n                    rippleEffect(elements[rowCount].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowCount]);\n                if (this.calendarInstance.weekNumber &&\n                    rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.calendarInstance.weekNumber\n                    && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.calendarInstance.weekNumber) {\n                    if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowCount = rowCount + 0;\n            this.calendarInstance.tableBodyElement.appendChild(trEle);\n        }\n        this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n        this.islamicIconHandler();\n        if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())\n            || (view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))) {\n            this.calendarInstance.navigateHandler(e);\n        }\n        this.calendarInstance.setAriaActiveDescendant();\n        this.calendarInstance.changedArgs = { value: this.calendarInstance.value, values: this.calendarInstance.values };\n        this.calendarInstance.changeHandler();\n    };\n    Islamic.prototype.islamicCompareMonth = function (start, end) {\n        /* tslint:disable-next-line:no-any */\n        var hijriStart = (this.getIslamicDate(start));\n        /* tslint:disable-next-line:no-any */\n        var hijriEnd = (this.getIslamicDate(end));\n        var result;\n        if (hijriStart.year > hijriEnd.year) {\n            result = 1;\n        }\n        else if (hijriStart.year < hijriEnd.year) {\n            result = -1;\n        }\n        else {\n            result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n        }\n        return result;\n    };\n    ;\n    Islamic.prototype.islamicCompare = function (startDate, endDate, modifier) {\n        /* tslint:disable-next-line:no-any */\n        var hijriStart = this.getIslamicDate(startDate);\n        /* tslint:disable-next-line:no-any */\n        var hijriEnd = this.getIslamicDate(endDate);\n        var start = hijriEnd.year;\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (hijriStart.year > end) {\n            result = 1;\n        }\n        else if ((this.calendarInstance.currentView() === 'Decade') && hijriStart.year < start &&\n            !((startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade))) {\n            result = -1;\n        }\n        else if (hijriStart.year < start && (this.calendarInstance.currentView() === 'Year')) {\n            result = -1;\n        }\n        return result;\n    };\n    ;\n    /* tslint:disable-next-line:no-any */\n    Islamic.prototype.getIslamicDate = function (date) {\n        /* tslint:disable-next-line:no-any */\n        return (HijriParser.getHijriDate(date));\n    };\n    Islamic.prototype.toGregorian = function (year, month, date) {\n        return HijriParser.toGregorian(year, month, date);\n    };\n    Islamic.prototype.hijriCompareYear = function (start, end) {\n        return this.islamicCompare(start, end, 0);\n    };\n    Islamic.prototype.hijriCompareDecade = function (start, end) {\n        return this.islamicCompare(start, end, 10);\n    };\n    ;\n    Islamic.prototype.destroy = function () {\n        this.calendarInstance = null;\n    };\n    Islamic.prototype.islamicInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    return Islamic;\n}());\nexport { Islamic };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../calendar/calendar-model.d.ts'/>\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Event, extend, L10n, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport { detach, addClass, removeClass, closest, attributes, select } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setValue, getUniqueID } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\n// tslint:disable-next-line\nimport { Calendar } from '../calendar/calendar';\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar RTL = 'e-rtl';\nvar LINK = 'e-day';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar CLEARICON = 'e-clear-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar CLOSEDURATION = 200;\nvar OFFSETVALUE = 4;\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nvar DatePicker = /** @class */ (function (_super) {\n    __extends(DatePicker, _super);\n    /**\n     * Constructor for creating the widget.\n     */\n    function DatePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousElementValue = '';\n        _this.isDateIconClicked = false;\n        _this.isAltKeyPressed = false;\n        _this.isInteracted = true;\n        _this.isBlazorServer = false;\n        _this.invalidValueString = null;\n        _this.checkPreviousValue = null;\n        _this.datepickerOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     * @return void\n     * @private\n     */\n    DatePicker.prototype.render = function () {\n        this.initialize();\n        this.bindEvents();\n        this.renderComplete();\n        if (!this.isBlazorServer) {\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n    };\n    DatePicker.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var serverTimezoneDiff = offsetValue;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    };\n    DatePicker.prototype.isDayLightSaving = function () {\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    DatePicker.prototype.setAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    };\n    DatePicker.prototype.updateIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    };\n    DatePicker.prototype.initialize = function () {\n        if (!this.isBlazorServer) {\n            this.checkInvalidValue(this.value);\n            this.createInput();\n            this.updateHtmlAttributeToWrapper();\n            this.setAllowEdit();\n            this.updateInput();\n        }\n        else {\n            var parentElement = this.element.parentElement;\n            this.inputWrapper = {\n                container: parentElement,\n                clearButton: parentElement.querySelector('.' + CLEARICON),\n                buttons: [parentElement.querySelector('.' + DATEICON)]\n            };\n            Input.bindInitialEvent({\n                element: this.inputElement,\n                floatLabelType: this.floatLabelType\n            });\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                Input.wireClearBtnEvents(this.inputElement, this.inputWrapper.clearButton, this.inputWrapper.container);\n            }\n            this.setAllowEdit();\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    };\n    DatePicker.prototype.createInput = function () {\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            var l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    };\n    DatePicker.prototype.updateInput = function () {\n        var formatOptions;\n        if (this.value && !this.isCalendar()) {\n            if (!this.isBlazorServer) {\n                this.disabledDates();\n            }\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            _super.prototype.validateDate.call(this);\n            this.minMaxUpdates();\n            _super.prototype.minMaxUpdate.call(this);\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var dateValue = this.value;\n            var dateString = void 0;\n            var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                var value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            this.updateInputValue('');\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    };\n    ;\n    DatePicker.prototype.minMaxUpdates = function () {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    };\n    DatePicker.prototype.checkStringValue = function (val) {\n        var returnDate = null;\n        var formatOptions = null;\n        var formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            var culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: isBlazor() ? 'd' : 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    };\n    DatePicker.prototype.checkInvalidValue = function (value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            var valueDate = null;\n            var valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            var formatOptions = null;\n            var formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                var culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: isBlazor() ? 'd' : 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            var invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    var extISOString = null;\n                    var basicISOString = null;\n                    // tslint:disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // tslint:disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    };\n    ;\n    DatePicker.prototype.bindInputEvent = function () {\n        if (!isNullOrUndefined(this.formatString)) {\n            if (this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    };\n    DatePicker.prototype.bindEvents = function () {\n        if (this.enabled) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', (this.isBlazorServer ? this.preventEventBubbling : this.dateIconHandler), this);\n            EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n            EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n            this.bindInputEvent();\n            // To prevent the twice triggering.\n            EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n            if (this.showClearButton && (this.inputWrapper.clearButton || (this.isBlazorServer))) {\n                EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n            }\n            if (this.formElement) {\n                EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n            }\n        }\n        else {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', (this.isBlazorServer ? this.preventEventBubbling : this.dateIconHandler));\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n            if (this.showClearButton && (this.inputWrapper.clearButton || (this.isBlazorServer))) {\n                EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n            }\n            if (this.formElement) {\n                EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n            }\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DatePicker.prototype.resetFormHandler = function () {\n        if (!this.inputElement.disabled) {\n            var value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            if (!this.isBlazorServer) {\n                this.setProperties({ value: this.inputValueCopy }, true);\n                this.restoreValue();\n                if (this.inputElement) {\n                    this.updateInputValue(value);\n                    this.errorClass();\n                }\n            }\n        }\n    };\n    DatePicker.prototype.restoreValue = function () {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n            });\n    };\n    DatePicker.prototype.inputChangeHandler = function (e) {\n        e.stopPropagation();\n    };\n    DatePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    DatePicker.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clear(e);\n    };\n    DatePicker.prototype.clear = function (event) {\n        if (!this.isBlazorServer) {\n            this.setProperties({ value: null }, true);\n        }\n        this.updateInputValue('');\n        var clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        if (!this.isBlazorServer) {\n            this.updateInput();\n            this.popupUpdate();\n            this.changeEvent(event);\n        }\n        if (this.isBlazorServer) {\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('OnValueCleared');\n            // tslint:enable\n        }\n    };\n    DatePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // tslint:disable\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n        // tslint:enable\n    };\n    DatePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DatePicker.prototype.dateIconHandler = function (e) {\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        if (!this.isBlazorServer) {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isCalendar() && !this.isBlazorServer) {\n                this.hide(e);\n            }\n            else {\n                if (!this.isBlazorServer || (this.isBlazorServer && this.inputWrapper.container.nextElementSibling)) {\n                    this.isDateIconClicked = true;\n                    this.show(null, e);\n                    if (this.getModuleName() === 'datetimepicker') {\n                        this.inputElement.focus();\n                    }\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                    addClass(this.inputWrapper.buttons, ACTIVE);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!isNullOrUndefined(this.htmlAttributes[key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            var updatedClassValues = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            var setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    };\n    DatePicker.prototype.CalendarKeyActionHandle = function (e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    };\n    DatePicker.prototype.inputFocusHandler = function () {\n        var focusArguments = {\n            model: isBlazor() && this.isServerRendered ? null : this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n    };\n    DatePicker.prototype.inputHandler = function (e) {\n        this.isPopupClicked = false;\n    };\n    DatePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.isBlazorServer) {\n            this.strictModeUpdate();\n            if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n                this.invalidValueString = null;\n                this.updateInputValue('');\n            }\n            this.updateInput();\n            this.popupUpdate();\n            this.changeTrigger(e);\n            this.errorClass();\n        }\n        else {\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('OnStrictModeUpdate', this.inputElement.value);\n            // tslint:enable\n        }\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            var blurArguments = {\n                model: isBlazor() && this.isServerRendered ? null : this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.CalendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    };\n    DatePicker.prototype.documentHandler = function (e) {\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        var target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper'))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value) && !this.isBlazorServer)) {\n                this.hide(e);\n            }\n        }\n    };\n    DatePicker.prototype.inputKeyActionHandle = function (e) {\n        var clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                if (!this.isBlazorServer) {\n                    this.strictModeUpdate();\n                    this.updateInput();\n                    this.changeTrigger(e);\n                }\n                else {\n                    // tslint:disable\n                    this.interopAdaptor.invokeMethodAsync('OnStrictModeUpdate', this.inputElement.value);\n                    // tslint:enable\n                }\n                if (this.getModuleName() === 'datepicker') {\n                    if (!this.isBlazorServer) {\n                        this.show(null, e);\n                    }\n                    else {\n                        // tslint:disable\n                        this.interopAdaptor.invokeMethodAsync('OnPopupHide', true);\n                        // tslint:enable\n                    }\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                if (!this.isBlazorServer) {\n                    this.strictModeUpdate();\n                    this.updateInput();\n                    this.popupUpdate();\n                    this.changeTrigger(e);\n                    this.errorClass();\n                }\n                else {\n                    // tslint:disable\n                    this.interopAdaptor.invokeMethodAsync('OnStrictModeUpdate', this.inputElement.value);\n                    // tslint:enable\n                }\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (!this.isBlazorServer) {\n                    this.strictModeUpdate();\n                    this.updateInput();\n                    this.popupUpdate();\n                    this.changeTrigger(e);\n                    this.errorClass();\n                }\n                else {\n                    // tslint:disable\n                    this.interopAdaptor.invokeMethodAsync('OnStrictModeUpdate', this.inputElement.value);\n                    // tslint:enable\n                }\n                this.hide(e);\n                break;\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    };\n    DatePicker.prototype.defaultAction = function (e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            _super.prototype.keyActionHandle.call(this, e);\n            if (!this.isBlazorServer) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    };\n    DatePicker.prototype.popupUpdate = function () {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED), [SELECTED]);\n                }\n            }\n            if (!isNullOrUndefined(this.value) && !this.isBlazorServer) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    var targetdate = new Date(this.checkValue(this.value));\n                    _super.prototype.navigateTo.call(this, 'Month', targetdate);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.strictModeUpdate = function () {\n        var format;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            var len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        var dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        var date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === '') {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    };\n    DatePicker.prototype.createCalendar = function () {\n        var _this = this;\n        if (!this.isBlazorServer) {\n            this.popupWrapper = this.createElement('div', { className: '' + ROOT + ' ' + POPUPWRAPPER });\n            if (!isNullOrUndefined(this.cssClass)) {\n                this.popupWrapper.className += ' ' + this.cssClass;\n            }\n        }\n        else {\n            this.popupWrapper = this.inputWrapper.container.nextElementSibling;\n            this.calendarElement = this.popupWrapper.firstElementChild;\n            this.tableBodyElement = select('tbody', this.calendarElement);\n            this.contentElement = select('.e-content', this.calendarElement);\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.isBlazorServer ? null : this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: function () {\n                if (_this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== _this.inputElement) {\n                        _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n                        _this.calendarElement.children[1].firstElementChild.focus();\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: _this.CalendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n                            eventName: 'keydown',\n                            keyAction: _this.CalendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: function () {\n                if (_this.isDateIconClicked) {\n                    _this.inputWrapper.container.children[_this.index].focus();\n                }\n                if (_this.value && !_this.isBlazorServer) {\n                    _this.disabledDates();\n                }\n                if (_this.popupObj) {\n                    _this.popupObj.destroy();\n                }\n                detach(_this.popupWrapper);\n                _this.popupObj = _this.popupWrapper = null;\n                _this.setAriaAttributes();\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!this.isBlazorServer) {\n            this.popupObj.element.className += ' ' + this.cssClass;\n        }\n        this.setAriaAttributes();\n    };\n    DatePicker.prototype.setAriaDisabled = function () {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    };\n    DatePicker.prototype.modelHeader = function () {\n        var dateOptions;\n        var modelHeader = this.createElement('div', { className: 'e-model-header' });\n        var yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        var h2 = this.createElement('div');\n        var daySpan = this.createElement('span', { className: 'e-model-day' });\n        var monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    };\n    DatePicker.prototype.changeTrigger = function (event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                this.trigger('change', this.changedArgs);\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    };\n    DatePicker.prototype.navigatedEvent = function () {\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    DatePicker.prototype.changeEvent = function (event) {\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.selectCalendar(event);\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            this.trigger('change', this.changedArgs);\n            this.previousDate = this.value && new Date(+this.value);\n            this.hide(event);\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n    };\n    DatePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    DatePicker.prototype.selectCalendar = function (e) {\n        var date;\n        var tempFormat;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n        }\n    };\n    DatePicker.prototype.isCalendar = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    };\n    DatePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    /**\n     * Shows the Calendar.\n     * @returns void\n     * @deprecated\n     */\n    DatePicker.prototype.show = function (type, e) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            var prevent_1 = true;\n            var outOfRange = void 0;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n                outOfRange = new Date(this.checkValue(this.value));\n                if (!this.isBlazorServer) {\n                    this.setProperties({ 'value': null }, true);\n                }\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                if (!this.isBlazorServer) {\n                    _super.prototype.render.call(this);\n                    this.setProperties({ 'value': outOfRange || null }, true);\n                }\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_1 = false;\n                },\n                popup: isBlazor() && this.isServerRendered ? null : this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            var eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.preventArgs = eventArgs;\n                if (prevent_1 && !_this.preventArgs.cancel) {\n                    if (_this.isBlazorServer) {\n                        _this.popupWrapper.style.visibility = '';\n                        _this.popupWrapper.style.width = 'auto';\n                        _this.popupWrapper.style.height = 'auto';\n                    }\n                    addClass(_this.inputWrapper.buttons, ACTIVE);\n                    _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupObj.refreshPosition(_this.inputElement);\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION,\n                    };\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    if (!_this.isBlazorServer) {\n                        _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n                    }\n                    _this.setAriaAttributes();\n                }\n                else {\n                    _this.popupObj.destroy();\n                    if (_this.isBlazorServer) {\n                        // tslint:disable\n                        _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                        // tslint:enable\n                    }\n                    _this.popupWrapper = _this.popupObj = null;\n                }\n                if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n                    if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE);\n                        removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n            });\n        }\n    };\n    /**\n     * Hide the Calendar.\n     * @returns void\n     * @deprecated\n     */\n    DatePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var prevent_2 = true;\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_2 = false;\n                },\n                popup: isBlazor() && this.isServerRendered ? null : this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            var eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventCallback(prevent_2, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent_2, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            var closeAnimation = {\n                name: 'FadeOut',\n                duration: CLOSEDURATION,\n            };\n            if (!this.isBlazorServer) {\n                this.popupObj.hide();\n                this.isAltKeyPressed = false;\n                this.keyboardModule.destroy();\n            }\n            else {\n                // tslint:disable\n                this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                // tslint:enable\n                this.isAltKeyPressed = false;\n                this.popupWrapper = this.popupObj = null;\n            }\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    DatePicker.prototype.focusIn = function (triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            var focusArguments = {\n                model: this\n            };\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    DatePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Gets the current view of the DatePicker.\n     * @returns string\n     * @deprecated\n     */\n    DatePicker.prototype.currentView = function () {\n        var currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = _super.prototype.currentView.call(this);\n        }\n        return currentView;\n    };\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns void\n     * @deprecated\n     */\n    DatePicker.prototype.navigateTo = function (view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            _super.prototype.navigateTo.call(this, view, date);\n        }\n    };\n    /**\n     * To destroy the widget.\n     * @returns void\n     */\n    DatePicker.prototype.destroy = function () {\n        if (!this.isBlazorServer) {\n            _super.prototype.destroy.call(this);\n            this.keyboardModules.destroy();\n            if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n                _super.prototype.destroy.call(this);\n            }\n        }\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) ?\n                this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            if (!this.isBlazorServer) {\n                this.keyboardModule.destroy();\n            }\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT]);\n            detach(this.inputWrapper.container);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.ensureInputAttribute = function () {\n        var prop = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    DatePicker.prototype.preRender = function () {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.isBlazorServer = (isBlazor() && this.isServerRendered && this.getModuleName() === 'datepicker') ? true : false;\n        if (!this.isBlazorServer) {\n            this.ngTag = null;\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                this.ngTag = this.element.tagName;\n                this.inputElement = this.createElement('input');\n                this.element.appendChild(this.inputElement);\n            }\n            if (this.element.getAttribute('id')) {\n                if (this.ngTag !== null) {\n                    this.inputElement.id = this.element.getAttribute('id') + '_input';\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.element.id = getUniqueID('ej2-datetimepicker');\n                    if (this.ngTag !== null) {\n                        attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                    }\n                }\n                else {\n                    this.element.id = getUniqueID('ej2-datepicker');\n                    if (this.ngTag !== null) {\n                        attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                    }\n                }\n            }\n            if (this.ngTag !== null) {\n                this.validationAttribute(this.element, this.inputElement);\n            }\n            this.updateHtmlAttributeToElement();\n        }\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        if (!this.isBlazorServer) {\n            this.element.removeAttribute('tabindex');\n            _super.prototype.preRender.call(this);\n        }\n    };\n    ;\n    DatePicker.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    };\n    DatePicker.prototype.validationAttribute = function (target, inputElement) {\n        var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        var attribute = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    };\n    DatePicker.prototype.checkFormat = function () {\n        var culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        var attributes = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        var options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic) && !this.isBlazorServer) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic) && !this.isBlazorServer) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic) && !this.isBlazorServer) {\n                            var placeholder = this.inputElement.getAttribute(prop);\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        if (!this.isBlazorServer) {\n                            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        }\n                        break;\n                    case 'name':\n                        if (!this.isBlazorServer) {\n                            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        }\n                        break;\n                    case 'value':\n                        // tslint:disable-next-line\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic) && !this.isBlazorServer) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            var min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            var max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text' && !this.isBlazorServer) {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To get component name.\n     * @private\n     */\n    DatePicker.prototype.getModuleName = function () {\n        return 'datepicker';\n    };\n    DatePicker.prototype.disabledDates = function () {\n        var valueCopy;\n        var formatOptions;\n        var globalize;\n        valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        var previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        if (!this.isBlazorServer) {\n            _super.prototype.render.call(this);\n        }\n        this.previousDate = previousValCopy;\n        var date = valueCopy && +(valueCopy);\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        var inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n        }\n    };\n    DatePicker.prototype.setAriaAttributes = function () {\n        if (this.isBlazorServer) {\n            if (this.isCalendar()) {\n                var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n                var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n                var id = (focusedEle || selectedEle) ? (focusedEle || selectedEle).getAttribute('id') : 'null';\n                attributes(this.inputElement, { 'aria-activedescendant': '' + id });\n            }\n            else {\n                attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n            }\n        }\n        else {\n            if (this.isCalendar()) {\n                Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n                attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n            }\n            else {\n                Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n                attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n            }\n        }\n    };\n    DatePicker.prototype.errorClass = function () {\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        var isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min\n            && +new Date(+this.value).setMilliseconds(0) <= +this.max))\n            || (!this.strictMode && this.inputElement.value !== '' && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var options;\n        if (this.calendarMode === 'Gregorian') {\n            options = { format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n        }\n        else {\n            options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    if (!this.isBlazorServer) {\n                        this.checkInvalidValue(newProp.value);\n                    }\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (!this.isBlazorServer) {\n                        if (isNullOrUndefined(this.value)) {\n                            this.updateInputValue('');\n                            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                        }\n                        this.updateInput();\n                        if (+this.previousDate !== +this.value) {\n                            this.changeTrigger(null);\n                        }\n                    }\n                    this.isInteracted = true;\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    if (!this.isBlazorServer) {\n                        this.updateInput();\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    this.bindEvents();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    if (!this.isBlazorServer) {\n                        this.updateInput();\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement && !this.isBlazorServer) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (!this.isBlazorServer) {\n                        this.updateInput();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                default:\n                    if (this.calendarElement && !this.isBlazorServer) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n            }\n            this.hide(null);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property({})\n    ], DatePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(1000)\n    ], DatePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], DatePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"destroyed\", void 0);\n    DatePicker = __decorate([\n        NotifyPropertyChanges\n    ], DatePicker);\n    return DatePicker;\n}(Calendar));\nexport { DatePicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../calendar/calendar-model.d.ts'/>\nimport { Property, EventHandler, Internationalization, NotifyPropertyChanges, detach, getUniqueID } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Event, Browser, L10n, ChildProperty } from '@syncfusion/ej2-base';\nimport { addClass, createElement, remove, closest, select, prepend, removeClass, attributes, Collection } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, formatUnit, setValue, rippleEffect, merge, extend, isBlazor } from '@syncfusion/ej2-base';\nimport { CalendarBase } from '../calendar/calendar';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT = 'e-daterangepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED = 'e-disabled';\nvar SELECTED = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON = 'e-next';\nvar PREVICON = 'e-prev';\nvar HEADER = 'e-header';\nvar TITLE = 'e-title';\nvar ICONCONTAINER = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE = 'e-device';\nvar OVERLAY = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW = 'e-range-overflow';\nvar OFFSETVALUE = 4;\nvar PRIMARY = 'e-primary';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar ZOOMIN = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\nvar Presets = /** @class */ (function (_super) {\n    __extends(Presets, _super);\n    function Presets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Presets.prototype, \"label\", void 0);\n    __decorate([\n        Property()\n    ], Presets.prototype, \"start\", void 0);\n    __decorate([\n        Property()\n    ], Presets.prototype, \"end\", void 0);\n    return Presets;\n}(ChildProperty));\nexport { Presets };\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nvar DateRangePicker = /** @class */ (function (_super) {\n    __extends(DateRangePicker, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function DateRangePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isCustomRange = false;\n        _this.isCustomWindow = false;\n        _this.presetsItem = [];\n        _this.liCollections = [];\n        _this.previousEleValue = '';\n        _this.isKeyPopup = false;\n        _this.dateDisabled = false;\n        _this.isRangeIconClicked = false;\n        _this.isMaxDaysClicked = false;\n        _this.disabledDays = [];\n        _this.preventBlur = false;\n        _this.preventFocus = false;\n        _this.invalidValueString = null;\n        _this.dateRangeOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     * @return void\n     * @private\n     */\n    DateRangePicker.prototype.render = function () {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        this.renderComplete();\n    };\n    /**\n     * Initialize the event handler\n     * @returns void\n     * @private\n     */\n    DateRangePicker.prototype.preRender = function () {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            var rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    };\n    ;\n    DateRangePicker.prototype.updateValue = function () {\n        var dateOptions = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    };\n    DateRangePicker.prototype.initProperty = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    };\n    DateRangePicker.prototype.checkFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DateRangePicker.prototype.initialize = function () {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab' });\n        var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n        var attributes = {};\n        if (!isDynamic) {\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                attributes[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var pro = _a[_i];\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes[pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes[pro]);\n            }\n        }\n    };\n    DateRangePicker.prototype.setRangeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    };\n    DateRangePicker.prototype.updateClearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    };\n    DateRangePicker.prototype.validationAttribute = function (element, input) {\n        var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes[i]))) {\n                continue;\n            }\n            var attr = element.getAttribute(attributes[i]);\n            input.setAttribute(attributes[i], attr);\n            element.removeAttribute(attributes[i]);\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCssClass = function (cssNewClass, cssOldClass) {\n        if (!isNullOrUndefined(cssOldClass)) {\n            cssOldClass = (cssOldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssNewClass)) {\n            cssNewClass = (cssNewClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n        }\n    };\n    DateRangePicker.prototype.processPresets = function () {\n        this.presetsItem = [];\n        var i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n                var range = _a[_i];\n                var id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    };\n    DateRangePicker.prototype.bindEvents = function () {\n        if (this.enabled) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n            EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n            EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n            EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n            }\n            if (!this.isMobile) {\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                    eventName: 'keydown',\n                    keyAction: this.inputHandler.bind(this),\n                    keyConfigs: this.keyInputConfigs\n                });\n            }\n            if (this.formElement) {\n                EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n            }\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                    this.inputKeyboardModule.destroy();\n                }\n            }\n            if (this.formElement) {\n                EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n            }\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    DateRangePicker.prototype.updateHiddenInput = function () {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            var format = { type: 'datetime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    };\n    DateRangePicker.prototype.inputChangeHandler = function (e) {\n        e.stopPropagation();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DateRangePicker.prototype.resetHandler = function (e) {\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        var clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n    };\n    DateRangePicker.prototype.restoreValue = function () {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    };\n    DateRangePicker.prototype.formResetHandler = function (e) {\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            var val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    };\n    DateRangePicker.prototype.clear = function () {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    };\n    DateRangePicker.prototype.rangeIconHandler = function (e) {\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        var format = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            var disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createPopup = function () {\n        for (var i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n            var startDate = this.presetsItem[i].start;\n            var endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+startDate.setMilliseconds(0) === +this.startValue.setMilliseconds(0)) &&\n                    (+endDate.setMilliseconds(0) === +this.endValue.setMilliseconds(0))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT + ' ' + POPUP });\n        this.adjustLongHeaderWidth();\n        var isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    };\n    DateRangePicker.prototype.renderControl = function () {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    };\n    DateRangePicker.prototype.clearCalendarEvents = function () {\n        EventHandler.clearEvents(this.leftCalPrevIcon);\n        EventHandler.clearEvents(this.leftCalNextIcon);\n        EventHandler.clearEvents(this.rightCalPrevIcon);\n        EventHandler.clearEvents(this.rightCalNextIcon);\n    };\n    DateRangePicker.prototype.updateNavIcons = function () {\n        _super.prototype.iconHandler.call(this);\n    };\n    DateRangePicker.prototype.calendarIconEvent = function () {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    };\n    DateRangePicker.prototype.bindCalendarEvents = function () {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER + ' .' + TITLE);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER + ' .' + TITLE);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.calendarIconRipple = function () {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    };\n    DateRangePicker.prototype.deviceCalendarEvent = function () {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    };\n    DateRangePicker.prototype.deviceNavNext = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.deviceNavPrevious = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT);\n            this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n            this.headerElement = calendar.querySelector('.' + HEADER);\n        }\n    };\n    DateRangePicker.prototype.deviceHeaderClick = function (event) {\n        var element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE);\n            this.startButton.element.classList.add(ACTIVE);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE);\n            this.endButton.element.classList.add(ACTIVE);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    };\n    DateRangePicker.prototype.inputFocusHandler = function () {\n        this.preventBlur = false;\n        var focusArguments = {\n            model: (isBlazor() && this.isServerRendered) ? null : this\n        };\n        if (!this.preventFocus) {\n            this.preventFocus = true;\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.preventBlur) {\n            var value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    var dateOptions = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n                    var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n                    var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        var prevStartVal = this.startValue;\n                        this.startValue = startDate;\n                        var prevEndVal = this.endValue;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            var blurArguments = {\n                                model: (isBlazor() && this.isServerRendered) ? null : this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        // For Mobile mode, when a value is present and choose another range and click on console\n                        // when popup is open, two startvalues and end values are updated in the popup.\n                        if (this.isMobile && this.isPopupOpen()) {\n                            this.startValue = prevStartVal;\n                            this.endValue = prevEndVal;\n                        }\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                var blurArguments = {\n                    model: (isBlazor() && this.isServerRendered) ? null : this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.clearRange = function () {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    };\n    DateRangePicker.prototype.errorClass = function () {\n        var inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    };\n    DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele) {\n        this.removeFocusedDate();\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    };\n    DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        var view = this.getViewNumber(this.currentView());\n        var date;\n        var min = this.min;\n        var max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.KeyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.KeyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.KeyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.KeyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.KeyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.KeyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                (view === 0) ? this.renderMonths(e) : ((view === 1) ? this.renderYears(e) : this.renderDecades(e));\n                this.keyNavigation(ele, e);\n                break;\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.keyInputHandler = function (e, value) {\n        var date;\n        var view = this.getViewNumber(this.currentView());\n        var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        var ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        var startDate = ele.querySelector('tr td.' + STARTDATE);\n        var endDate = ele.querySelector('tr td.' + ENDDATE);\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        var presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                this.keyNavigation(ele, e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                e.preventDefault();\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    };\n    DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    };\n    DateRangePicker.prototype.inputHandler = function (e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n        var tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n            var cell = tdCells_1[_i];\n            EventHandler.clearEvents(cell);\n            var disabledCell = void 0;\n            disabledCell = cell.classList.contains(DISABLED) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeFocusedDate = function () {\n        var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        var focusedDate;\n        focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n            var ele = focusedDate_1[_i];\n            var today = new Date();\n            var eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY) || (ele.classList.contains(TODAY) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.hoverSelection = function (event, element) {\n        var currentElement = element || event.currentTarget;\n        var currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                var tdCells = void 0;\n                tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n                    var ele = tdCells_2[_i];\n                    var isDisabledCell = (!ele.classList.contains(DISABLED) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER) && isDisabledCell) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var startDateValue = new Date(+this.startValue);\n                        var eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n        var isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    };\n    DateRangePicker.prototype.updateRange = function (elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n                var calendar = elementCollection_1[_i];\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n                    var ele = tdCells_3[_a];\n                    if (!ele.classList.contains(WEEKNUMBER) && !ele.classList.contains(DISABLED)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH)) {\n                            var startDateValue = new Date(+this.startValue);\n                            var eleDateValue_1 = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            var endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.checkMinMaxDays = function () {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    };\n    DateRangePicker.prototype.rangeArgs = function (e) {\n        var inputValue;\n        var range;\n        var startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, {\n                format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd'\n            }) : null;\n        var endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, {\n                format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd'\n            }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        var args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    };\n    DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n        var value = +this.getIdValue(null, ele);\n        var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.selectRange = function (event, element) {\n        var leftCalendar;\n        var rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        var date;\n        date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        var y = date.getFullYear();\n        var m = date.getMonth();\n        var firstDay = new Date(y, m, 1);\n        var lastDay = new Date(y, m + 1, 0);\n        var firstMonth = new Date(y, 0, 1);\n        var lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE)) {\n            this.removeSelection();\n        }\n        var ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE);\n                this.startButton.element.classList.remove(ACTIVE);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE);\n                    this.endButton.element.classList.add(ACTIVE);\n                    for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n                        var ele_1 = endEle_1[_i];\n                        ele_1.removeAttribute('aria-label');\n                        if (!ele_1.classList.contains(STARTDATE)) {\n                            ele_1.setAttribute('aria-selected', 'false');\n                            removeClass([ele_1], [ENDDATE, SELECTED]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele_1, this.startValue, true);\n                            removeClass([ele_1], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n                    var ele_2 = endEle_2[_a];\n                    if (ele_2.classList.contains(STARTDATE)) {\n                        removeClass([ele_2], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                this.disabledDateRender();\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED);\n        this.updateHeader();\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.selectableDates = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            var isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n                    var ele = tdCells_4[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n                        if (!ele.classList.contains(DISABLED)) {\n                            var eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                    }\n                }\n            }\n            else {\n                for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n                    var ele = tdCells_5[_a];\n                    var startMonth = this.startValue.getMonth();\n                    var startYear = this.startValue.getFullYear();\n                    var element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                var minDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.minDays - 1)));\n                var maxDate = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                var maxEle = void 0;\n                for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n                    var ele = tdCells_6[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED)) {\n                            if (+eleDate <= +this.startValue) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                        }\n                    }\n                    else {\n                        var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n                        var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    };\n    DateRangePicker.prototype.removeClassDisabled = function () {\n        var tdCells;\n        tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n            var ele = tdCells_7[_i];\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED, OVERLAY]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED, OVERLAY]);\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHeader = function () {\n        var format = { type: 'date', skeleton: isBlazor() ? 'D' : 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    };\n    DateRangePicker.prototype.removeSelection = function () {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED), [STARTDATE, ENDDATE, SELECTED]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    };\n    DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n        if (ele) {\n            var title = this.globalize.formatDate(date, { type: 'date', skeleton: isBlazor() ? 'D' : 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateRangePicker.prototype.removeSelectedAttributes = function () {\n        if (this.popupObj) {\n            var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n                var ele = start_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n                var ele = end_1[_a];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT);\n        this.tableBodyElement = select('.' + CONTENT + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER + ' .' + TITLE);\n        this.headerElement = calendar.querySelector('.' + HEADER);\n    };\n    DateRangePicker.prototype.navPrevMonth = function (e) {\n        e.preventDefault();\n        var ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.deviceNavigation = function (ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.updateControl = function (calendar) {\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    };\n    DateRangePicker.prototype.navNextMonth = function (event) {\n        event.preventDefault();\n        var ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.isPopupOpen = function () {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP)) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.createRangeHeader = function () {\n        var labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            var startLabel = this.createElement('a', { className: STARTLABEL });\n            var endLabel = this.createElement('a', { className: ENDLABEL });\n            var changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            var endBtn = this.createElement('button', { className: ENDBUTTON });\n            var startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    };\n    DateRangePicker.prototype.disableInput = function () {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.validateMinMax = function () {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    };\n    DateRangePicker.prototype.validateRangeStrict = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateRange = function () {\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateMinMaxDays = function () {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            var range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    var date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.renderCalendar = function () {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL);\n        }\n        attributes(this.calendarElement, { 'role': 'calendar' });\n        _super.prototype.createHeader.call(this);\n        _super.prototype.createContent.call(this);\n    };\n    DateRangePicker.prototype.isSameMonth = function (start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameYear = function (start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameDecade = function (start, end) {\n        var startYear = start.getFullYear();\n        var endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.startMonthCurrentDate = function () {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    };\n    DateRangePicker.prototype.selectNextMonth = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            var month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    };\n    DateRangePicker.prototype.selectNextYear = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            var yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    };\n    DateRangePicker.prototype.selectNextDecade = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            var decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    };\n    DateRangePicker.prototype.selectStartMonth = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    };\n    DateRangePicker.prototype.createCalendar = function () {\n        var calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER));\n            this.leftCalendar = this.calendarElement;\n            var leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            var rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '-1');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            _super.prototype.validateDate.call(this);\n            _super.prototype.minMaxUpdate.call(this);\n            _super.prototype.render.call(this);\n            var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON);\n            var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER + ' .' + TITLE);\n        }\n        return calendarContainer;\n    };\n    DateRangePicker.prototype.leftNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.calendarNavigation = function (e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        _super.prototype.navigateTitle.call(this, e);\n        this.updateNavIcons();\n    };\n    DateRangePicker.prototype.rightNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.clickEventEmitter = function (e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    };\n    /**\n     * Gets the current view of the Calendar.\n     * @returns string\n     * @private\n     * @hidden\n     */\n    DateRangePicker.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    DateRangePicker.prototype.getCalendarView = function (view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    DateRangePicker.prototype.navigatedEvent = function (e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            var element = void 0;\n            var view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        this.updateControl(this.rightCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createControl = function () {\n        var controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        var headerContainer = this.createElement('div', { className: RANGEHEADER });\n        var labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        var daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        var separator = this.createElement('div', { className: SEPARATOR });\n        var calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        var footerSection = this.createElement('div', { className: FOOTER });\n        var cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT + ' ' + CSS });\n        var applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT, PRIMARY, CSS]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                var presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    };\n    DateRangePicker.prototype.cancelFunction = function (eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    };\n    DateRangePicker.prototype.deviceHeaderUpdate = function () {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE);\n        }\n    };\n    DateRangePicker.prototype.applyFunction = function (eve) {\n        var isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseClick = function (event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        var target = item || event.target;\n        var li = closest(target, '.' + LISTCLASS);\n        var isClick = li && li.classList.contains(ACTIVE);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseOver = function (event) {\n        var li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    };\n    DateRangePicker.prototype.onMouseLeave = function (event) {\n        var item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    };\n    DateRangePicker.prototype.setListSelection = function (li, event) {\n        if (li && (!li.classList.contains(ACTIVE) || (this.isMobile && li.classList.contains(ACTIVE)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                var values_1 = this.presetsItem[this.activeIndex];\n                if (values_1.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE);\n            li.setAttribute('aria-selected', 'true');\n            var values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeListSelection = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE);\n            item.removeAttribute('aria-selected');\n        }\n    };\n    DateRangePicker.prototype.setValue = function () {\n        this.modelValue = [this.startValue, this.endValue];\n    };\n    DateRangePicker.prototype.applyPresetRange = function (values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    };\n    DateRangePicker.prototype.showPopup = function (element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    };\n    DateRangePicker.prototype.renderCustomPopup = function () {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT + ' ' + POPUP });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    };\n    DateRangePicker.prototype.listRippleEffect = function () {\n        for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n            var li = _a[_i];\n            rippleEffect(li);\n        }\n    };\n    DateRangePicker.prototype.createPresets = function () {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            var customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE);\n            }\n        }\n    };\n    DateRangePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateRangePicker.prototype.unWireListEvents = function () {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.popupWrapper.classList.add('e-control');\n        var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                addClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                if (!_this.isMobile) {\n                    if (_this.cancelButton) {\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(_this.leftCalendar)) {\n                        if (!_this.isRangeIconClicked) {\n                            _this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(_this.presetElement)) {\n                        _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.presetKeyActionHandler.bind(_this),\n                            keyConfigs: _this.keyInputConfigs\n                        });\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(_this.leftCalendar)) {\n                            _this.preventBlur = true;\n                            _this.presetElement.focus();\n                        }\n                        else {\n                            _this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    _this.popupKeyBoardHandler();\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n                }\n            },\n            close: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                if (_this.isRangeIconClicked) {\n                    _this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n                    _this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(_this.popupObj)) {\n                    if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n                        detach(_this.popupObj.element);\n                    }\n                    _this.popupObj.destroy();\n                    _this.popupObj = null;\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE, ROOT, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    };\n    DateRangePicker.prototype.popupCloseHandler = function (e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    };\n    DateRangePicker.prototype.calendarFocus = function () {\n        var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            var ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    };\n    DateRangePicker.prototype.presetHeight = function () {\n        var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    };\n    DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                var hvrItem = this.getHoverLI();\n                var actItem = this.getActiveLI();\n                if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                    if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                        var values = this.presetsItem[this.activeIndex];\n                        if (values.id === 'custom_range') {\n                            this.calendarFocus();\n                            actItem.classList.remove(HOVER);\n                            e.preventDefault();\n                            return;\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                    this.onMouseClick(e, hvrItem || actItem);\n                }\n                e.preventDefault();\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    var item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.listMoveDown = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    };\n    DateRangePicker.prototype.listMoveUp = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    };\n    DateRangePicker.prototype.getHoverLI = function () {\n        var item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    };\n    DateRangePicker.prototype.getActiveLI = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE);\n        return item;\n    };\n    DateRangePicker.prototype.popupKeyBoardHandler = function () {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    };\n    DateRangePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.presetElement.getBoundingClientRect().height;\n        var hover = this.presetElement.querySelector('.' + HOVER);\n        var active = this.presetElement.querySelector('.' + ACTIVE);\n        var element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            var nextEle = element.nextElementSibling;\n            var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            var liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    };\n    DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n        var presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    };\n    DateRangePicker.prototype.documentHandler = function (e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        var target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, this.popupWrapper.id))) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '#' + this.popupObj.element.id))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createInput = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    };\n    DateRangePicker.prototype.setEleWidth = function (width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG);\n        }\n    };\n    DateRangePicker.prototype.refreshControl = function () {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        var isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    };\n    DateRangePicker.prototype.updateInput = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var formatOption = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n            var startDate = this.globalize.formatDate(this.startValue, formatOption);\n            var endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    DateRangePicker.prototype.checkInvalidRange = function (value) {\n        if (!isNullOrUndefined(value)) {\n            var invalid = false;\n            var startinvalue = void 0;\n            var endinvalue = void 0;\n            var startString = null;\n            var endString = null;\n            var valueString = null;\n            var startObject = false;\n            var endObject = false;\n            var invalidobject = false;\n            if (typeof (value) === 'string') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    };\n    DateRangePicker.prototype.getstringvalue = function (value) {\n        var stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    };\n    DateRangePicker.prototype.checkInvalidValue = function (value) {\n        var valueString = value;\n        var invalid = false;\n        var formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            var globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                var extISOStr = null;\n                var basISOString = null;\n                // tslint:disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // tslint:disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    };\n    DateRangePicker.prototype.isDateDisabled = function (date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        var value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false,\n        };\n        var args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.disabledDateRender = function () {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        var localDate = new Date(+this.startValue);\n        var count = 0;\n        while (+localDate <= +this.endValue) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false,\n            };\n            var args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    };\n    DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    DateRangePicker.prototype.disabledDates = function () {\n        var isStartDisabled = false;\n        var isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            if (!this.isPopupOpen()) {\n                this.currentDate = null;\n            }\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    };\n    DateRangePicker.prototype.setModelValue = function () {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    };\n    /**\n     * To dispatch the event manually\n     */\n    DateRangePicker.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    };\n    DateRangePicker.prototype.changeTrigger = function (e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            this.trigger('change', this.rangeArgs(e));\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns void\n     * @hidden\n     */\n    DateRangePicker.prototype.navigateTo = function (view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                _super.prototype.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    };\n    DateRangePicker.prototype.navigate = function (calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN;\n        _super.prototype.navigateTo.call(this, view, date);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    DateRangePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.focus();\n            var focusArguments = {\n                model: this\n            };\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    DateRangePicker.prototype.focusOut = function () {\n        var isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    };\n    /**\n     * To destroy the widget.\n     * @returns void\n     */\n    DateRangePicker.prototype.destroy = function () {\n        this.hide(null);\n        var ariaAttrs = {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) ?\n                this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n    };\n    DateRangePicker.prototype.ensureInputAttribute = function () {\n        var attr = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    };\n    /**\n     * To get component name\n     * @returns string\n     * @private\n     */\n    DateRangePicker.prototype.getModuleName = function () {\n        return 'daterangepicker';\n    };\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     * @returns string\n     */\n    DateRangePicker.prototype.getPersistData = function () {\n        var keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     * @returns Object\n     */\n    DateRangePicker.prototype.getSelectedRange = function () {\n        var range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.startValue.getTime() - this.endValue.getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            this.disabledDateRender();\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    };\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     * @returns void\n     */\n    DateRangePicker.prototype.show = function (element, event) {\n        var _this = this;\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: (isBlazor() && this.isServerRendered) ? null : this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: (isBlazor() && this.isServerRendered) ? null : this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                var eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, function (eventArgs) {\n                    _this.openEventArgs = eventArgs;\n                    if (!_this.openEventArgs.cancel) {\n                        _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n                        _this.showPopup(element, event);\n                        var isPreset = (!_this.isCustomRange || (_this.isMobile && _this.isCustomRange));\n                        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n                            _this.setScrollPosition();\n                        }\n                        _this.checkMinMaxDays();\n                        if ((_this.isMobile) && (!isNullOrUndefined(_this.startDate)) && (isNullOrUndefined(_this.endDate))) {\n                            _this.endButton.element.classList.add(ACTIVE);\n                            _this.startButton.element.classList.remove(ACTIVE);\n                            _this.endButton.element.removeAttribute('disabled');\n                            _this.selectableDates();\n                        }\n                        _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, _this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     * @returns void\n     */\n    DateRangePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: (isBlazor() && this.isServerRendered) ? null : this.popupObj,\n                    date: this.inputElement.value,\n                    model: (isBlazor() && this.isServerRendered) ? null : this,\n                    event: event ? event : null\n                };\n                var eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventArgs = eventArgs;\n                    if (!_this.closeEventArgs.cancel) {\n                        if (_this.isMobile) {\n                            if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n                            }\n                        }\n                        if (_this.popupObj) {\n                            _this.popupObj.hide();\n                            if (_this.preventBlur) {\n                                _this.inputElement.focus();\n                                addClass([_this.inputWrapper.container], [INPUTFOCUS]);\n                            }\n                        }\n                        if (!_this.isMobile) {\n                            if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                                _this.leftKeyboardModule.destroy();\n                                _this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.presetElement)) {\n                                _this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.cancelButton)) {\n                                _this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        _this.targetElement = null;\n                        removeClass([document.body], OVERFLOW);\n                        EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n                        if (_this.isMobile && _this.modal) {\n                            _this.modal.style.display = 'none';\n                            _this.modal.outerHTML = '';\n                            _this.modal = null;\n                        }\n                        if (_this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                                _this.mobileRangePopupWrap.remove();\n                                _this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        _this.isKeyPopup = _this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([_this.inputWrapper.buttons[0]], ACTIVE);\n                    }\n                    _this.updateClearIconState();\n                    _this.updateHiddenInput();\n                    if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n                        _this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    DateRangePicker.prototype.setLocale = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.refreshChange = function () {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.setDate = function () {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    };\n    DateRangePicker.prototype.enableInput = function () {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    };\n    DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    };\n    DateRangePicker.prototype.createHiddenInput = function () {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        var format = { type: 'datetime', skeleton: isBlazor() ? 'd' : 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var format = { format: this.formatString, type: 'date', skeleton: isBlazor() ? 'd' : 'yMd' };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            this.hide(null);\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.bindEvents();\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], DateRangePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], DateRangePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"locale\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], DateRangePicker.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"renderDayCell\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"endDate\", void 0);\n    __decorate([\n        Collection([{}], Presets)\n    ], DateRangePicker.prototype, \"presets\", void 0);\n    __decorate([\n        Property('')\n    ], DateRangePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DateRangePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateRangePicker.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateRangePicker.prototype, \"depth\", void 0);\n    __decorate([\n        Property('')\n    ], DateRangePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('-')\n    ], DateRangePicker.prototype, \"separator\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"minDays\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"maxDays\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DateRangePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], DateRangePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property('Never')\n    ], DateRangePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DateRangePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DateRangePicker.prototype, \"blur\", void 0);\n    DateRangePicker = __decorate([\n        NotifyPropertyChanges\n    ], DateRangePicker);\n    return DateRangePicker;\n}(CalendarBase));\nexport { DateRangePicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, blazorCultureFormats } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP = 'e-popup';\nvar ERROR = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar ROOT = 'e-timepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar SELECTED = 'e-active';\nvar HOVER = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar TIMEICON = 'e-time-icon';\nvar CLEARICON = 'e-clear-icon';\nvar FOCUS = 'e-input-focus';\nvar DEVICE = 'e-device';\nvar LISTCLASS = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\nexport var TimePickerBase;\n(function (TimePickerBase) {\n    // tslint:disable-next-line\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        var formatOptions;\n        if (this.calendarMode === 'Gregorian') {\n            formatOptions = { format: timeFormat, type: 'time' };\n        }\n        else {\n            formatOptions = { format: timeFormat, type: 'time', calendar: 'islamic' };\n        }\n        var start;\n        var end;\n        var interval = step * 60000;\n        var listItems = [];\n        var timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nvar TimePicker = /** @class */ (function (_super) {\n    __extends(TimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function TimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.liCollections = [];\n        _this.timeCollections = [];\n        _this.blazorTimeCollections = [];\n        _this.disableItemCollection = [];\n        _this.invalidValueString = null;\n        _this.isBlazorServer = false;\n        _this.timeOptions = options;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    TimePicker.prototype.preRender = function () {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        this.isBlazorServer = (isBlazor() && this.isServerRendered && this.getModuleName() === 'timepicker') ? true : false;\n        if (!this.isBlazorServer) {\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                this.angularTag = this.element.tagName;\n                this.inputElement = this.createElement('input');\n                this.element.appendChild(this.inputElement);\n            }\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            this.openPopupEventArgs = {\n                appendTo: document.body\n            };\n        }\n    };\n    // element creation\n    TimePicker.prototype.render = function () {\n        if (!this.isBlazorServer) {\n            this.initialize();\n            this.createInputElement();\n            this.updateHtmlAttributeToWrapper();\n            this.setTimeAllowEdit();\n            this.setEnable();\n            this.validateInterval();\n        }\n        else {\n            this.globalize = new Internationalization(this.locale);\n            this.defaultCulture = new Internationalization('en');\n            this.checkTimeFormat();\n            var parentElement = this.element.parentElement;\n            this.inputWrapper = {\n                container: parentElement,\n                clearButton: parentElement.querySelector('.' + CLEARICON),\n                buttons: [parentElement.querySelector('.' + TIMEICON)]\n            };\n            Input.bindInitialEvent({\n                element: this.inputElement,\n                floatLabelType: this.floatLabelType\n            });\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                Input.wireClearBtnEvents(this.inputElement, this.inputWrapper.clearButton, this.inputWrapper.container);\n            }\n        }\n        this.bindEvents();\n        if (!this.isBlazorServer) {\n            this.validateDisable();\n            this.setValue(this.getFormattedValue(this.value));\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        if (!this.isBlazorServer) {\n            this.inputEleValue = this.getDateObject(this.inputElement.value);\n        }\n        this.renderComplete();\n    };\n    TimePicker.prototype.setTimeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.clearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    };\n    TimePicker.prototype.validateDisable = function () {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    };\n    TimePicker.prototype.validationAttribute = function (target, input) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            input.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    TimePicker.prototype.initialize = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n    };\n    TimePicker.prototype.checkTimeFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    TimePicker.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    TimePicker.prototype.createInputElement = function () {\n        var updatedCssClassesValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    };\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\n        var culture = new Internationalization(this.locale);\n        var cldrTime;\n        var dateFormat = culture.getDatePattern({ skeleton: isBlazor() ? 'd' : 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.CldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.checkInvalidValue = function (value) {\n        var isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            var valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            var valueExpression = null;\n            var valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                var extISOString = null;\n                var basicISOString = null;\n                // tslint:disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // tslint:disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    };\n    TimePicker.prototype.CldrFormat = function (type) {\n        var cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = isBlazor() ? this.getBlazorCultureFormat('t') :\n                (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    };\n    // destroy function\n    TimePicker.prototype.destroy = function () {\n        if (this.isBlazorServer) {\n            this.unBindEvents();\n        }\n        else {\n            this.hide();\n            this.unBindEvents();\n            var ariaAttribute = {\n                'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n                'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n                'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\n            };\n            if (this.inputElement) {\n                Input.removeAttributes(ariaAttribute, this.inputElement);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) ?\n                    this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n                this.ensureInputAttribute();\n                this.enableElement([this.inputElement]);\n                this.inputElement.classList.remove('e-input');\n                if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                    Input.setEnabled(true, this.inputElement, this.floatLabelType);\n                }\n            }\n            if (this.inputWrapper.container) {\n                detach(this.inputWrapper.container);\n            }\n            this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n            this.liCollections = this.timeCollections = this.disableItemCollection = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n            _super.prototype.destroy.call(this);\n            if (this.formElement) {\n                EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n            }\n        }\n    };\n    TimePicker.prototype.ensureInputAttribute = function () {\n        var propertyList = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    };\n    //popup creation\n    TimePicker.prototype.popupCreation = function () {\n        if (!this.isBlazorServer) {\n            this.popupWrapper = this.createElement('div', {\n                className: ROOT + ' ' + POPUP,\n                attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n            });\n            if (!isNullOrUndefined(this.cssClass)) {\n                this.popupWrapper.className += ' ' + this.cssClass;\n            }\n            if (!isNullOrUndefined(this.step) && this.step > 0) {\n                this.generateList();\n                append([this.listWrapper], this.popupWrapper);\n            }\n            this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        }\n        else {\n            this.popupWrapper = this.inputWrapper.container.nextElementSibling;\n            this.generateList();\n        }\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    };\n    TimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    TimePicker.prototype.generateList = function () {\n        if (!this.isBlazorServer) {\n            this.createListItems();\n        }\n        else {\n            this.listWrapper = this.popupWrapper.querySelector('.e-content');\n        }\n        this.wireListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n        if (this.isBlazorServer) {\n            this.blazorTimeCollections = [];\n            for (var index = 0; index < this.liCollections.length; index++) {\n                this.blazorTimeCollections.push(this.liCollections[index].getAttribute('data-value'));\n            }\n        }\n    };\n    TimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: function () {\n                _this.popupWrapper.style.visibility = 'visible';\n                addClass([_this.inputWrapper.buttons[0]], SELECTED);\n            }, close: function () {\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED);\n                _this.unWireListEvents();\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\n                if (!_this.isBlazorServer) {\n                    remove(_this.popupObj.element);\n                    _this.popupObj.destroy();\n                    _this.popupWrapper.innerHTML = '';\n                }\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    };\n    //util function\n    TimePicker.prototype.getFormattedValue = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: isBlazor() ? 't' : 'medium', type: 'time' });\n        }\n    };\n    TimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                var date = value ? this.initValue.getDate() : DAY;\n                var month = value ? this.initValue.getMonth() : MONTH;\n                var year = value ? this.initValue.getFullYear() : YEAR;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    };\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    };\n    TimePicker.prototype.removeErrorClass = function () {\n        removeClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    };\n    TimePicker.prototype.checkErrorState = function (val) {\n        var value = this.getDateObject(val);\n        if (this.validateState(value) && !this.invalidValueString) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    };\n    TimePicker.prototype.validateInterval = function () {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    };\n    TimePicker.prototype.disableTimeIcon = function () {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    };\n    TimePicker.prototype.disableElement = function (element) {\n        addClass(element, DISABLED);\n    };\n    TimePicker.prototype.enableElement = function (element) {\n        removeClass(element, DISABLED);\n    };\n    TimePicker.prototype.selectInputText = function () {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.setCursorToEnd = function () {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.getMeridianText = function () {\n        var meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue((isBlazor() ? 'dayPeriods.wide' : 'dayPeriods.format.wide'), getDefaultDateObject());\n        }\n        else {\n            var gregorianFormat = (isBlazor() ? '.dates.dayPeriods.abbreviated' :\n                '.dates.calendars.gregorian.dayPeriods.format.abbreviated');\n            var mainVal = isBlazor() ? '' : 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    };\n    TimePicker.prototype.getCursorSelection = function () {\n        var input = (this.inputElement);\n        var start = 0;\n        var end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    };\n    TimePicker.prototype.getActiveElement = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED);\n        }\n        else {\n            return null;\n        }\n    };\n    TimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TimePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    TimePicker.prototype.setPopupWidth = function (width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    TimePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.getPopupHeight();\n        var element;\n        element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    TimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.setScrollTo = function () {\n        var element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                var initialTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' +\n                    this.blazorTimeCollections[0]).setMilliseconds(0) : this.timeCollections[0];\n                var scrollTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' +\n                    this.scrollTo.toLocaleTimeString()).setMilliseconds(0) :\n                    this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.getText = function () {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    };\n    TimePicker.prototype.getValue = function (value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    };\n    TimePicker.prototype.cldrDateFormat = function () {\n        var cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = isBlazor() ? (getValue('d', getValue(this.locale, blazorCultureFormats))) :\n                (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    };\n    TimePicker.prototype.getBlazorCultureFormat = function (formatVal) {\n        return (getValue(formatVal, getValue(this.locale, blazorCultureFormats))).replace(/tt/, 'a');\n    };\n    TimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = isBlazor() ? this.getBlazorCultureFormat('t') :\n                    (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.dateToNumeric = function () {\n        var cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') :\n                (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') :\n                (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.getExactDateTime = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.setValue = function (value) {\n        var time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    };\n    TimePicker.prototype.compareFormatChange = function (value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    };\n    TimePicker.prototype.updatePlaceHolder = function () {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    };\n    //event related functions\n    TimePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    TimePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // tslint:disable\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n        // tslint:enable\n    };\n    TimePicker.prototype.updateBlazorTimeCollections = function (listData) {\n        this.blazorTimeCollections = listData;\n    };\n    TimePicker.prototype.popupHandler = function (e) {\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (!this.isBlazorServer) {\n            e.preventDefault();\n        }\n        if (this.isPopupOpen() && !this.isBlazorServer) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    };\n    TimePicker.prototype.mouseDownHandler = function () {\n        if (!this.readonly) {\n            var curPos = this.getCursorSelection();\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    };\n    TimePicker.prototype.mouseUpHandler = function (event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n            var curPos = this.getCursorSelection();\n            if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                if (this.inputElement.value.length > 0) {\n                    this.cursorDetails = this.focusSelection();\n                }\n                this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n            }\n        }\n    };\n    TimePicker.prototype.focusSelection = function () {\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\n        var split = this.inputElement.value.split('');\n        split.push(' ');\n        var curPos = this.getCursorSelection();\n        var start = 0;\n        var end = 0;\n        var isSeparator = false;\n        if (!this.isTextSelected) {\n            for (var i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    };\n    TimePicker.prototype.inputHandler = function (event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    this.keyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        if (!this.isBlazorServer) {\n                            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                            this.updateValue(this.valueWithMinutes, event);\n                        }\n                        else {\n                            this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                            // tslint:disable-next-line\n                            this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServer) {\n                            this.updateValue(this.inputElement.value, event);\n                        }\n                        else {\n                            // tslint:disable-next-line\n                            this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n                        }\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    if (this.isBlazorServer) {\n                        // tslint:disable\n                        this.interopAdaptor.invokeMethodAsync('OnPopupHide', true);\n                        // tslint:enable\n                    }\n                    else {\n                        this.show(event);\n                    }\n                    break;\n                case 'escape':\n                    if (!this.isBlazorServer) {\n                        this.updateInputValue(this.objToString(this.value));\n                        this.previousState(this.value);\n                    }\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (this.isPopupOpen() && this.popupWrapper) {\n            var args = {\n                popup: this.isBlazorServer ? null : this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW);\n            this.trigger('close', args, function (args) {\n                if (!args.cancel) {\n                    var animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    _this.popupObj.hide(new Animation(animModel));\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n                    if (_this.isBlazorServer) {\n                        _this.disposeServerPopup();\n                        // tslint:disable\n                        _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n                        _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                        // tslint:enable\n                        _this.popupWrapper = _this.popupObj = null;\n                    }\n                }\n                if (Browser.isDevice && _this.modal) {\n                    _this.modal.style.display = 'none';\n                    _this.modal.outerHTML = '';\n                    _this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n                        _this.mobileTimePopupWrap.remove();\n                        _this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n                    _this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    TimePicker.prototype.disposeServerPopup = function () {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    };\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setHover(currentLi, HOVER);\n    };\n    TimePicker.prototype.setHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    TimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(SELECTED)) {\n            if (!this.isBlazorServer) {\n                this.checkValue(li.getAttribute('data-value'));\n                this.selectedElement = li;\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                addClass([this.selectedElement], SELECTED);\n                this.selectedElement.setAttribute('aria-selected', 'true');\n                this.checkValueChange(event, true);\n            }\n            else {\n                this.selectedElement = li;\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                addClass([this.selectedElement], SELECTED);\n                this.selectedElement.setAttribute('aria-selected', 'true');\n                this.inputElement.setAttribute('value', li.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, false);\n                this.addSelection();\n            }\n        }\n    };\n    TimePicker.prototype.onMouseLeave = function () {\n        this.removeHover(HOVER);\n    };\n    TimePicker.prototype.scrollHandler = function () {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    };\n    //protected function\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    };\n    TimePicker.prototype.valueIsDisable = function (value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            var time = value instanceof Date ? this.objToString(value) : value;\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.validateState = function (val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\n        var value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    };\n    TimePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', (this.isBlazorServer ? this.preventEventBubbling : this.popupHandler), this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    };\n    TimePicker.prototype.formResetHandler = function () {\n        if (!this.inputElement.disabled) {\n            var timeValue = this.inputElement.getAttribute('value');\n            var val = this.isBlazorServer ? this.inputEleValue : this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            if (!this.isBlazorServer) {\n                this.setProperties({ value: val }, true);\n                this.prevDate = this.value;\n                this.valueWithMinutes = this.value;\n                this.initValue = this.value;\n            }\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (!this.isBlazorServer) {\n                    this.checkErrorState(timeValue);\n                }\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    };\n    TimePicker.prototype.inputChangeHandler = function (e) {\n        e.stopPropagation();\n    };\n    TimePicker.prototype.unBindEvents = function () {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', (this.isBlazorServer ? this.preventEventBubbling : this.popupHandler));\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    };\n    TimePicker.prototype.raiseClearedEvent = function (e) {\n        var clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    };\n    TimePicker.prototype.clearHandler = function (e) {\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.isBlazorServer) {\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('OnValueCleared');\n            // tslint:enable\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.clear = function (event) {\n        if (!this.isBlazorServer) {\n            this.setProperties({ value: null }, true);\n        }\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        if (!this.isBlazorServer) {\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.setProperties({ min: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.setProperties({ max: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.initValue = value;\n                                    this.updateInput(false, this.initValue);\n                                    this.setProperties({ value: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    TimePicker.prototype.setCurrentDate = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    };\n    TimePicker.prototype.getTextFormat = function () {\n        var time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            var strArray = this.cldrTimeFormat().split(' ');\n            for (var i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.updateValue = function (value, event) {\n        var val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                var inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    };\n    TimePicker.prototype.previousState = function (date) {\n        var value = this.getDateObject(date);\n        for (var i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    };\n    TimePicker.prototype.resetState = function () {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode && !this.isBlazorServer) {\n            this.checkErrorState(null);\n        }\n    };\n    TimePicker.prototype.objToString = function (val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.checkValue = function (value) {\n        if (!this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    };\n    TimePicker.prototype.validateValue = function (date, value) {\n        var time;\n        var val = this.validateMinMax(value, this.min, this.max);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            var value_1 = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value_1);\n        }\n        else {\n            this.updateInputValue(time);\n        }\n        return time;\n    };\n    TimePicker.prototype.findNextElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) || this.isBlazorServer ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var timeVal = null;\n        var count = this.liCollections.length;\n        var collections = this.isBlazorServer ? (isNullOrUndefined(this.blazorTimeCollections) ? [] :\n            this.blazorTimeCollections) : this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                if (!this.isBlazorServer) {\n                    timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                }\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(collections.length - 1, true);\n                if (!this.isBlazorServer) {\n                    timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                }\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < count; i++) {\n                        if (this.isBlazorServer ? (+value < +this.createDateObj(this.blazorTimeCollections[i])) :\n                            (+value < this.timeCollections[i])) {\n                            var index = this.validLiElement(i);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            var index = this.validLiElement(0);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = count - 1; i >= 0; i--) {\n                        if (this.isBlazorServer ? (+value > +this.createDateObj(this.blazorTimeCollections[i])) :\n                            (+value > this.timeCollections[i])) {\n                            var index = this.validLiElement(i, true);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            var index = this.validLiElement(count - 1);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            if (this.isBlazorServer) {\n                this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n            }\n            else {\n                this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n            }\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    };\n    TimePicker.prototype.selectNextItem = function (event) {\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        if (this.isBlazorServer) {\n            this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n        }\n        else {\n            this.elementValue(new Date(this.timeCollections[index]));\n        }\n    };\n    TimePicker.prototype.findNextInBlazor = function (event) {\n        var count = isNullOrUndefined(this.blazorTimeCollections) ? 0 : this.blazorTimeCollections.length;\n        var index = 0;\n        var value = this.createDateObj(this.inputElement.value);\n        switch (event.action) {\n            case 'home':\n                this.activeIndex = index;\n                break;\n            case 'end':\n                index = count - 1;\n                this.activeIndex = index;\n                break;\n            case 'down':\n                for (var i = 0; i < count; i++) {\n                    if (this.isBlazorServer ? (+value < +this.createDateObj(this.blazorTimeCollections[i])) :\n                        (+value < this.timeCollections[i])) {\n                        var index_1 = this.validLiElement(i);\n                        this.activeIndex = index_1;\n                        break;\n                    }\n                    else if (i === count - 1) {\n                        var index_2 = this.validLiElement(0);\n                        this.activeIndex = index_2;\n                        break;\n                    }\n                }\n                break;\n            case 'up':\n                for (var i = count - 1; i >= 0; i--) {\n                    if (this.isBlazorServer ? (+value > +this.createDateObj(this.blazorTimeCollections[i])) :\n                        (+value > this.timeCollections[i])) {\n                        var index_3 = this.validLiElement(i, true);\n                        this.activeIndex = index_3;\n                        break;\n                    }\n                    else if (i === 0) {\n                        var index_4 = this.validLiElement(count - 1);\n                        this.activeIndex = index_4;\n                        break;\n                    }\n                }\n                break;\n        }\n        // tslint:disable-next-line\n        this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n    };\n    TimePicker.prototype.elementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    };\n    TimePicker.prototype.validLiElement = function (index, backward) {\n        var elementIndex = null;\n        if (this.isBlazorServer && isNullOrUndefined(this.popupWrapper)) {\n            var items = this.blazorTimeCollections;\n            if (items.length) {\n                if (backward) {\n                    for (var i = index; i >= 0; i--) {\n                        elementIndex = i;\n                        break;\n                    }\n                }\n                else {\n                    for (var i = index; i <= items.length - 1; i++) {\n                        elementIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n                this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            var isCheck = true;\n            if (items.length) {\n                if (backward) {\n                    for (var i = index; i >= 0; i--) {\n                        if (!items[i].classList.contains(DISABLED)) {\n                            elementIndex = i;\n                            break;\n                        }\n                        else if (i === 0) {\n                            if (isCheck) {\n                                index = i = items.length;\n                                isCheck = false;\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var i = index; i <= items.length - 1; i++) {\n                        if (!items[i].classList.contains(DISABLED)) {\n                            elementIndex = i;\n                            break;\n                        }\n                        else if (i === items.length - 1) {\n                            if (isCheck) {\n                                index = i = -1;\n                                isCheck = false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    };\n    TimePicker.prototype.keyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n            return;\n        }\n        var count = this.isBlazorServer ? (isNullOrUndefined(this.blazorTimeCollections) ? 0 :\n            this.blazorTimeCollections.length) : this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (isNullOrUndefined(this.popupObj) && this.isBlazorServer) {\n                if (isNullOrUndefined(this.activeIndex)) {\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    // tslint:disable-next-line\n                    this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n                }\n                else {\n                    this.findNextInBlazor(event);\n                }\n            }\n            else {\n                if (this.liCollections.length > 0) {\n                    if (this.isBlazorServer ? (isNullOrUndefined(this.activeIndex)) : (isNullOrUndefined(this.value) &&\n                        isNullOrUndefined(this.activeIndex))) {\n                        this.selectNextItem(event);\n                    }\n                    else {\n                        this.findNextElement(event);\n                    }\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n        }\n        else {\n            var nextItem = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                if (!this.isBlazorServer) {\n                    nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n                }\n            }\n            else if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                this.activeIndex = index;\n                if (!this.isBlazorServer) {\n                    nextItem = this.timeCollections[index];\n                }\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                if (!this.isBlazorServer) {\n                    nextItem = this.timeCollections[index];\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            if (this.isBlazorServer) {\n                this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n            }\n            else {\n                this.elementValue(new Date(nextItem));\n            }\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        if (!this.isBlazorServer) {\n            this.selectInputText();\n        }\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    };\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        return isBlazor() ? (getValue('t', getValue(c, blazorCultureFormats))).replace(/tt/, 'a') :\n            getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    };\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\n        return isBlazor() ? (getValue('d', getValue(c, blazorCultureFormats))) :\n            getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    };\n    TimePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    TimePicker.prototype.unWireListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    TimePicker.prototype.valueProcess = function (event, value) {\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.changeEvent = function (e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        var eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.trigger('change', eventArgs);\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    };\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.setActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    TimePicker.prototype.removeSelection = function () {\n        this.removeHover(HOVER);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\n            if (items.length) {\n                removeClass(items, SELECTED);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.removeHover = function (className) {\n        var hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.getHoverItem = function (className) {\n        var hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    TimePicker.prototype.setActiveClass = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if ((!this.isBlazorServer && this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))\n                        || (this.isBlazorServer && this.blazorTimeCollections[i] === this.blazorTimeCollections[this.activeIndex])) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.addSelection = function () {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    TimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    TimePicker.prototype.createDateObj = function (val) {\n        var formatStr = isBlazor() ?\n            // tslint:disable-next-line\n            'M' + getDefaultDateObject().dateSeperator + 'd' + getDefaultDateObject().dateSeperator + 'yy'\n            : null;\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        var value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.TimeParse(today, val);\n                }\n            }\n            else {\n                value = this.TimeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    };\n    TimePicker.prototype.TimeParse = function (today, val) {\n        var value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    };\n    TimePicker.prototype.createListItems = function () {\n        var _this = this;\n        this.listWrapper = this.createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var start;\n        var end;\n        var interval = this.step * 60000;\n        var listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        var listBaseOptions = {\n            itemCreated: function (args) {\n                var eventArgs = {\n                    element: args.item,\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\n                };\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED)) {\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([this.listTag], this.listWrapper);\n    };\n    TimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '#' + this.popupObj.element.id)) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    };\n    TimePicker.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    TimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    };\n    TimePicker.prototype.inputBlurHandler = function (e) {\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n            model: this.isBlazorServer ? null : this,\n        };\n        this.trigger('blur', blurArguments);\n        if (!this.isBlazorServer && this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        if (this.isBlazorServer) {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    };\n    /**\n     * Focuses out the TimePicker textbox element.\n     * @returns void\n     */\n    TimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            var blurArguments = {\n                model: this.isBlazorServer ? null : this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    };\n    TimePicker.prototype.isPopupOpen = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\n            return true;\n        }\n        return false;\n    };\n    TimePicker.prototype.inputFocusHandler = function () {\n        var focusArguments = {\n            model: this.isBlazorServer ? null : this\n        };\n        if (!this.readonly && !Browser.isDevice) {\n            this.selectInputText();\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n    };\n    /**\n     * Focused the TimePicker textbox element.\n     * @returns void\n     */\n    TimePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            var focusArguments = {\n                model: this\n            };\n        }\n    };\n    /**\n     * Hides the TimePicker popup.\n     * @returns void\n     * @deprecated\n     */\n    TimePicker.prototype.hide = function () {\n        this.closePopup(100, null);\n        this.clearIconState();\n    };\n    /**\n     * Opens the popup to show the list items.\n     * @returns void\n     * @deprecated\n     */\n    TimePicker.prototype.show = function (event) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.isBlazorServer ? null : (this.popupObj || null),\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            var eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                if ((isBlazor() && _this.isServerRendered)) {\n                    eventArgs.popup = _this.popupObj || null;\n                }\n                _this.openPopupEventArgs = eventArgs;\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n                    if (_this.isBlazorServer) {\n                        _this.popupWrapper.style.visibility = '';\n                        _this.popupWrapper.style.width = _this.inputWrapper.container.offsetWidth + 'px';\n                        _this.popupWrapper.style.height = 'auto';\n                    }\n                    if (_this.isBlazorServer) {\n                        _this.openPopupEventArgs.popup = _this.popupObj;\n                    }\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupAlignment(_this.openPopupEventArgs);\n                    _this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        _this.inputElement.focus();\n                    }\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION,\n                    };\n                    _this.popupObj.refreshPosition(_this.anchor);\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    _this.setActiveDescendant();\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                    addClass([_this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n                }\n                else {\n                    _this.popupObj.destroy();\n                    if (_this.isBlazorServer) {\n                        _this.disposeServerPopup();\n                        // tslint:disable\n                        _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n                        _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                        // tslint:enable\n                    }\n                    _this.popupWrapper = _this.listTag = undefined;\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n                    _this.popupObj = null;\n                }\n            });\n        }\n    };\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    TimePicker.prototype.formatValues = function (type) {\n        var value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    };\n    TimePicker.prototype.popupAlignment = function (args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     * @returns string\n     */\n    TimePicker.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To get component name\n     * @private\n     */\n    TimePicker.prototype.getModuleName = function () {\n        return 'timepicker';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    if (!this.isBlazorServer) {\n                        this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                        this.setEnableRtl();\n                    }\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    if (!this.isBlazorServer) {\n                        this.getProperty(newProp, prop);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    if (!this.isBlazorServer) {\n                        this.setValue(this.value);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    if (!this.isBlazorServer) {\n                        this.setValue(this.value);\n                    }\n                    break;\n                case 'value':\n                    if (!this.isBlazorServer) {\n                        this.invalidValueString = null;\n                        this.checkInvalidValue(newProp.value);\n                        newProp.value = this.value;\n                        if (!this.invalidValueString) {\n                            if (typeof newProp.value === 'string') {\n                                this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                                newProp.value = this.value;\n                            }\n                            else {\n                                if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                    newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                                }\n                            }\n                            this.initValue = newProp.value;\n                            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                        }\n                        else {\n                            this.updateInputValue(this.invalidValueString);\n                            this.checkErrorState(this.invalidValueString);\n                        }\n                        this.checkValueChange(null, false);\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'strictMode':\n                    if (!this.isBlazorServer) {\n                        this.invalidValueString = null;\n                        if (newProp.strictMode) {\n                            this.checkErrorState(null);\n                        }\n                        this.setProperties({ strictMode: newProp.strictMode }, true);\n                        this.checkValue((this.inputElement).value);\n                        this.checkValueChange(null, false);\n                    }\n                    break;\n                case 'scrollTo':\n                    if (!this.isBlazorServer) {\n                        if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                            if (this.popupWrapper) {\n                                this.setScrollTo();\n                            }\n                            this.setProperties({ scrollTo: newProp.scrollTo }, true);\n                        }\n                        else {\n                            this.setProperties({ scrollTo: null }, true);\n                        }\n                    }\n                    else {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.checkInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property({})\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('Never')\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(1000)\n    ], TimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(30)\n    ], TimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"itemRender\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"focus\", void 0);\n    TimePicker = __decorate([\n        NotifyPropertyChanges\n    ], TimePicker);\n    return TimePicker;\n}(Component));\nexport { TimePicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n///<reference path='../datepicker/datepicker-model.d.ts'/>\nimport { EventHandler, Internationalization, Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { Animation, Event, cldrData, getDefaultDateObject, detach } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, L10n, removeClass, closest, append, attributes } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, isNullOrUndefined, formatUnit, getValue, rippleEffect } from '@syncfusion/ej2-base';\nimport { extend, isBlazor, blazorCultureFormats } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DatePicker } from '../datepicker/datepicker';\nimport { TimePickerBase } from '../timepicker/timepicker';\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar TIMEICON = 'e-time-icon';\nvar INPUTFOCUS = 'e-input-focus';\nvar POPUPDIMENSION = '250px';\nvar ICONANIMATION = 'e-icon-anim';\nvar DISABLED = 'e-disabled';\nvar ERROR = 'e-error';\nvar CONTENT = 'e-content';\nvar RTL = 'e-rtl';\nvar NAVIGATION = 'e-navigation';\nvar ACTIVE = 'e-active';\nvar HOVER = 'e-hover';\nvar ICONS = 'e-icons';\nvar HALFPOSITION = 2;\nvar LISTCLASS = 'e-list-item';\nvar ANIMATIONDURATION = 100;\nvar OVERFLOW = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nvar DateTimePicker = /** @class */ (function (_super) {\n    __extends(DateTimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function DateTimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.valueWithMinutes = null;\n        _this.dateTimeOptions = options;\n        return _this;\n    }\n    DateTimePicker.prototype.focusHandler = function () {\n        addClass([this.inputWrapper.container], INPUTFOCUS);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     * @returns void\n     */\n    DateTimePicker.prototype.focusIn = function () {\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     * @returns void\n     */\n    DateTimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    DateTimePicker.prototype.blurHandler = function (e) {\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS);\n        var blurArguments = {\n            model: (isBlazor() && this.isServerRendered) ? null : this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    };\n    /**\n     * To destroy the widget.\n     * @returns void\n     */\n    DateTimePicker.prototype.destroy = function () {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        var ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            this.inputElement.removeAttribute('aria-placeholder');\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering.\n     * @return void\n     * @private\n     */\n    DateTimePicker.prototype.render = function () {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        _super.prototype.updateHtmlAttributeToElement.call(this);\n        this.checkAttributes(false);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        _super.prototype.render.call(this);\n        this.createInputElement();\n        _super.prototype.updateHtmlAttributeToWrapper.call(this);\n        this.bindInputEvents();\n        this.setValue();\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        this.renderComplete();\n    };\n    DateTimePicker.prototype.setValue = function () {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            var value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        _super.prototype.updateInput.call(this);\n    };\n    DateTimePicker.prototype.validateMinMaxRange = function (value) {\n        var result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    };\n    DateTimePicker.prototype.checkValidState = function (value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    };\n    DateTimePicker.prototype.checkErrorState = function () {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    DateTimePicker.prototype.validateValue = function (value) {\n        var dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    };\n    DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n        }\n    };\n    DateTimePicker.prototype.getFormattedValue = function (value) {\n        var dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.isDateObject = function (value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    };\n    DateTimePicker.prototype.createInputElement = function () {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT);\n        this.renderTimeIcon();\n    };\n    DateTimePicker.prototype.renderTimeIcon = function () {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER + ' ' + TIMEICON + ' ' + ICONS, this.inputWrapper.container);\n    };\n    DateTimePicker.prototype.bindInputEvents = function () {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DateTimePicker.prototype.unBindInputEvents = function () {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    };\n    DateTimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = isBlazor() ? (getValue('t', getValue(this.locale, blazorCultureFormats))).replace(/tt/, 'a') :\n                    (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.cldrDateTimeFormat = function () {\n        var cldrTime;\n        var culture = new Internationalization(this.locale);\n        var dateFormat = culture.getDatePattern({ skeleton: isBlazor() ? 'd' : 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.getCldrFormat = function (type) {\n        var cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = isBlazor() ? (getValue('t', getValue(this.locale, blazorCultureFormats))).replace(/tt/, 'a') :\n                (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    };\n    DateTimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return isBlazor() ? (getValue('t', getValue(this.locale, blazorCultureFormats))).replace(/tt/, 'a') :\n                (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld));\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    };\n    DateTimePicker.prototype.timeHandler = function (e) {\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            }\n        }\n    };\n    DateTimePicker.prototype.dateHandler = function (e) {\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.show = function (type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                _super.prototype.show.call(this);\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.toggle = function (e) {\n        if (this.isDatePopupOpen()) {\n            _super.prototype.hide.call(this, e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            _super.prototype.show.call(this, null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    };\n    DateTimePicker.prototype.listCreation = function () {\n        var dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var min = this.startTime(value);\n        var max = this.endTime(value);\n        var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n    };\n    DateTimePicker.prototype.popupCreation = function (type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT + ' ' + POPUP,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    };\n    DateTimePicker.prototype.openPopup = function (e) {\n        var _this = this;\n        this.preventArgs = {\n            cancel: false,\n            popup: (isBlazor() && this.isServerRendered) ? null : this.popupObject,\n            event: e || null\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n            _this.preventArgs = eventArgs;\n            if (!_this.preventArgs.cancel && !_this.readonly) {\n                var openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION,\n                };\n                if (_this.zIndex === 1000) {\n                    _this.popupObject.show(new Animation(openAnimation), _this.element);\n                }\n                else {\n                    _this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([_this.inputWrapper.container], [ICONANIMATION]);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n            }\n        });\n    };\n    DateTimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '#' + (this.popupObject && this.popupObject.element.id))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    };\n    DateTimePicker.prototype.isTimePopupOpen = function () {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT)) ? true : false;\n    };\n    DateTimePicker.prototype.isDatePopupOpen = function () {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    };\n    DateTimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        var offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: function () {\n                _this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([_this.timeIcon], ACTIVE);\n                if (!Browser.isDevice) {\n                    _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n                    _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n                        keyAction: _this.TimeKeyActionHandle.bind(_this),\n                        keyConfigs: _this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: function () {\n                removeClass([_this.timeIcon], ACTIVE);\n                _this.unWireTimeListEvents();\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(_this.popupObject.element);\n                _this.popupObject.destroy();\n                _this.dateTimeWrapper.innerHTML = '';\n                _this.listWrapper = _this.dateTimeWrapper = undefined;\n                if (_this.inputEvent) {\n                    _this.inputEvent.destroy();\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION;\n    };\n    DateTimePicker.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.setPopupWidth = function () {\n        var width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.wireTimeListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateTimePicker.prototype.unWireTimeListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    };\n    DateTimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setTimeHover(currentLi, HOVER);\n    };\n    DateTimePicker.prototype.onMouseLeave = function () {\n        this.removeTimeHover(HOVER);\n    };\n    DateTimePicker.prototype.setTimeHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    };\n    DateTimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    DateTimePicker.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            _super.prototype.changeEvent.call(this, e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    };\n    DateTimePicker.prototype.updateValue = function (e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.value;\n        }\n    };\n    DateTimePicker.prototype.setTimeScrollPosition = function () {\n        var popupElement;\n        popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    DateTimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextElement = element.nextElementSibling;\n        var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        var lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION + lineHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setScrollTo = function () {\n        var element;\n        var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS);\n        if (items.length >= 0) {\n            var initialTime = this.timeCollections[0];\n            var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setInputValue = function (type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n        }\n        this.updateIconState();\n    };\n    DateTimePicker.prototype.getFullDateTime = function () {\n        var value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    };\n    DateTimePicker.prototype.combineDateTime = function (value) {\n        if (this.isDateObject(value)) {\n            var day = this.previousDate.getDate();\n            var month = this.previousDate.getMonth();\n            var year = this.previousDate.getFullYear();\n            var hour = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    };\n    DateTimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    };\n    DateTimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE)) {\n            var value = li.getAttribute('data-value');\n            this.selectedElement = li;\n            var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveClass = function () {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            var items = collections.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    DateTimePicker.prototype.addTimeSelection = function () {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateTimePicker.prototype.removeTimeSelection = function () {\n        this.removeTimeHover(HOVER);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n            if (items.length) {\n                removeClass(items, ACTIVE);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DateTimePicker.prototype.removeTimeHover = function (className) {\n        var hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    };\n    DateTimePicker.prototype.getTimeHoverItem = function (className) {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        var hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    DateTimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n        var day = value.getDate();\n        var month = value.getMonth();\n        var year = value.getFullYear();\n        var hours = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        var milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    };\n    DateTimePicker.prototype.startTime = function (date) {\n        var tempStartValue;\n        var start;\n        var tempMin = this.min;\n        var value;\n        value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    };\n    DateTimePicker.prototype.endTime = function (date) {\n        var tempEndValue;\n        var end;\n        var tempMax = this.max;\n        var value;\n        value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    };\n    DateTimePicker.prototype.hide = function (e) {\n        var _this = this;\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: (isBlazor() && this.isServerRendered) ? null : this.popupObj || this.popupObject,\n                event: e || null\n            };\n            var eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    DateTimePicker.prototype.closePopup = function (e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    };\n    DateTimePicker.prototype.preRender = function () {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        _super.prototype.preRender.call(this);\n        removeClass([this.inputElementCopy], [ROOT]);\n    };\n    ;\n    DateTimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    };\n    DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    DateTimePicker.prototype.getTimeActiveElement = function () {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.createDateObj = function (val) {\n        return val instanceof Date ? val : null;\n    };\n    DateTimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = this.valueWithMinutes;\n            var status_1 = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                var date = status_1 ? value.getDate() : DAY;\n                var month = status_1 ? value.getMonth() : MONTH;\n                var year = status_1 ? value.getFullYear() : YEAR;\n                var hour = status_1 ? value.getHours() : HOUR;\n                var minute = status_1 ? value.getMinutes() : MINUTE;\n                var second = status_1 ? value.getSeconds() : SECOND;\n                var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n                return new Date(year, month, date, hour, minute, second, millisecond);\n            }\n        }\n        return null;\n    };\n    DateTimePicker.prototype.findNextTimeElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var dateTimeVal = null;\n        var listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    };\n    DateTimePicker.prototype.setTimeValue = function (date, value) {\n        var dateString;\n        var time;\n        var val = this.validateMinMaxRange(value);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    };\n    DateTimePicker.prototype.timeElementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    };\n    DateTimePicker.prototype.timeKeyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        var listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            var nextItemValue = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    };\n    DateTimePicker.prototype.TimeKeyActionHandle = function (event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    DateTimePicker.prototype.inputKeyAction = function (event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @deprecated\n     */\n    DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    var options = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd' };\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    _super.prototype.updateInput.call(this);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    this.bindEvents();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: newProp.scrollTo }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n            }\n            this.hide(null);\n        }\n    };\n    /**\n     * To get component name.\n     * @private\n     */\n    DateTimePicker.prototype.getModuleName = function () {\n        return 'datetimepicker';\n    };\n    DateTimePicker.prototype.restoreValue = function () {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    };\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"timeFormat\", void 0);\n    __decorate([\n        Property(30)\n    ], DateTimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(1000)\n    ], DateTimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property({})\n    ], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"values\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], DateTimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], DateTimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], DateTimePicker.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"destroyed\", void 0);\n    DateTimePicker = __decorate([\n        NotifyPropertyChanges\n    ], DateTimePicker);\n    return DateTimePicker;\n}(DatePicker));\nexport { DateTimePicker };\n","import * as index from './index';\nindex.Calendar.Inject(index.Islamic);\nindex.DatePicker.Inject(index.Islamic);\nindex.DateTimePicker.Inject(index.Islamic);\nexport * from './index';\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","OTHERMONTH","ROOT","DISABLED","OVERLAY","SELECTED","FOCUSEDDATE","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","Internationalization","locale","isNullOrUndefined","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","Browser","isDevice","attributes","data-role","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createElement","role","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","select","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","removeClass","addClass","ariaPrevAttrs","aria-disabled","aria-label","ariaNextAttrs","ariaTitleAttrs","aria-atomic","aria-live","headerElement","className","iconContainer","previousIcon","attrs","type","rippleEffect","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","aria-activedescendant","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","cldrObj","culShortNames","dayFormat","isBlazor","dayHeaderFormat","toLowerCase","getValue","getDefaultDateObject","getCultureObjects","cldrData","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","detach","shortNames","html","tableHeadElement","weekNumber","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","L10n","footer","contains","EventHandler","todayButtonClick","id","ref","keyConfig","moduleName","document","getElementById","extend","blazorRef","serverModuleName","navigateTitle","keyConfigs","keyboardModule","KeyboardEvents","eventName","keyAction","keyActionHandle","bind","dateWireEvents","currentView","depth","getViewNumber","navigateTo","checkDeviceMode","invokeMethodAsync","e","multiSelection","preventDefault","tableBodyElement","closest","querySelector","selectedDate","focusedDate","split","focus","targetEle","args","Action","action","Key","Events","SelectDate","FocusedDate","Id","TargetClassList","blur","view","depthValue","levelRestrict","KeyboardNavigate","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","tdEles","numCells","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","disabled","renderDayCellArgs","isDisabled","isOutOfRange","argument","renderDayCellEvent","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","getDateVal","updateFocus","tempValue","formatOptions","getFromatStringValue","calendar","getDate","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","getUniqueID","aria-selected","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","row","children","otherMonthCell","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","currentTarget","getIdValue","islamicDate","getIslamicDate","toGregorian","switchView","remove","requiredModules","modules","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","undefined","copyValues","skipIndex","tempValueString","minFormatOption","minString","maxFormatOption","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","a","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","indexOf","dateSeperator","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","Property","Event","NotifyPropertyChanges","Component","Calendar","throwError","isMultiSelection","tempValues","limit","copyDate","previousValues","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","isDayLightSaving","secondOffset","firstOffset","offsetValue","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","changeHandler","triggerChange","previousDate","previousDateTime","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","changeEvent","isInteracted","Number","NaN","Islamic","instance","calendarInstance","islamicTitleUpdate","islamicInValue","gregorianObject","islamicDayCell","prevMonthCompare","islamicCompareMonth","nextMonthCompare","prevYearCompare","hijriCompareYear","nextYearCompare","prevDecadeCompare","hijriCompareDecade","nextDecadeCompare","HijriParser","islamicDate_1","rowCount","islamicDate_2","hijriStart","hijriEnd","islamicCompare","getHijriDate","containerAttr","DatePicker","previousElementValue","isDateIconClicked","isAltKeyPressed","isBlazorServer","invalidValueString","checkPreviousValue","datepickerOptions","initialize","bindEvents","updateInput","setAllowEdit","allowEdit","readonly","inputElement","updateIconState","inputWrapper","container","parentElement","clearButton","buttons","Input","bindInitialEvent","floatLabelType","showClearButton","wireClearBtnEvents","checkInvalidValue","createInput","updateHtmlAttributeToWrapper","inputValueCopy","ariaAttrs","aria-haspopup","aria-owns","aria-expanded","autocomplete","autocorrect","autocapitalize","spellcheck","aria-invalid","placeholder","l10n","updatedCssClassValues","cssClass","replace","trim","properties","enabled","INPUTWRAPPER","setWidth","width","addAttributes","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","updateInputValue","errorClass","checkStringValue","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","basicISOString","test","bindInputEvent","inputHandler","preventEventBubbling","dateIconHandler","inputFocusHandler","inputBlurHandler","inputChangeHandler","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","tagName","restoreValue","stopPropagation","bindClearEvent","clear","clearedArgs","popupUpdate","interopAdaptor","setValue","hide","nextElementSibling","show","htmlAttributes","updatedClassValues","setStyle","charAt","updateHtmlAttributeToElement","updateCssClass","newCssClass","oldCssClass","setCssClass","CalendarKeyActionHandle","focusArguments","model","isServerRendered","strictModeUpdate","changeTrigger","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","documentHandler","popupObj","focusOut","clickedView","defaultAction","targetdate","dateOptions","createCalendar","modelHeader","body","display","Popup","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","setAriaAttributes","targetExitViewport","setAriaDisabled","yearHeading","h2","daySpan","monthSpan","insertBefore","selectCalendar","formatUnit","match","prevent_1","outOfRange","mobilePopupWrapper","preventArgs","popup","cancel","appendTo","eventArgs","visibility","height","refreshPosition","openAnimation","Animation","prevent_2","closeEventCallback","prevent","outerHTML","focusIn","triggerEvent","removeAttributes","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","checkFormat","skeletonString","dynamic","attributes_1","valueCopy","previousValCopy","dateIdString","inputVal","isDisabledDate","setPlaceholder","setReadonly","setEnabled","setEnableRtl","setClearButton","removeFloating","addFloating","LEFTCALENDER","RIGHTCALENDER","ACTIVE","STARTDATE","ENDDATE","RANGEHOVER","CALENDAR","FOCUSDATE","DAYSPAN","DATEDISABLED","ICONDISABLED","LISTCLASS","HOVER","wrapperAttr","Presets","apply","ChildProperty","DateRangePicker","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","dateRangeOptions","startValue","endValue","setModelValue","setDataAttribute","keyInputConfigs","defaultConstant","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","isMobile","window","matchMedia","matches","angularTag","cloneElement","checkInvalidRange","rangeArray","separator","initProperty","navNextFunction","navNextMonth","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","initEndDate","updateValue","merge","processPresets","setRangeAllowEdit","isDynamic","pro","firstHiddenChild","secondHiddenChild","updateClearIconState","input","updatedClassValue","dateRangeStyle","cssNewClass","cssOldClass","isUndefined","presets","label","range","activeIndex","rangeIconHandler","inputKeyboardModule","updateHiddenInput","dispatchEvent","valueType","clearRange","previousStartValue","previousEndValue","startCopy","endCopy","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","leftCalendar","calendarFocus","minDays","maxDays","createPopup","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","rightCalendar","disabledDateRender","updateHeader","clearCalendarEvents","clearEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","updateNavIcons","calendarIconEvent","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","calendarIconRipple","leftKeyboardModule","keyInputHandler","rightKeyboardModule","bindCalendarCellEvents","removeFocusedDate","updateDeviceCalendar","deviceNavigation","deviceCalendar","getElementsByTagName","removeClassDisabled","updateMinMaxDays","selectableDates","prevStartVal","prevEndVal","refreshControl","inputStr","isDateDisabled","keyCalendarUpdate","isLeftCalendar","ele","leftCalCurrentDate","rightCalCurrentDate","updateCalendarElement","navInCalendar","leftLimit","rightLimit","keyNavigation","rightDateLimit","leftDateLimit","presetElement","selectRange","yearDate","cancelButton","calendarNavigation","checkMinMaxDays","presetHeight","tdCells","tdCells_1","cell","hoverSelection","isDate","focusedDate_1","eleDate","isSameMonth","isSameYear","currentElement","tdCells_2","isDisabledCell","startDateValue","isSameStartEnd","startVal","endVal","isSame","elementCollection","elementCollection_1","tdCells_3","eleDateValue","eleDateValue_1","addSelectedAttributes","endDateValue","rangeArgs","inputValue","round","otherMonthSelect","isStartDate","sameDate","tdCell","y","m","firstMonth","lastMonth","endEle","endEle_1","ele_1","endEle_2","ele_2","removeSelectedAttributes","tdCells_4","tdCells_5","startMonth","maxEle","tdCells_6","calendar_1","tdCells_7","disabledDayCnt","start_1","end_1","updateControl","createRangeHeader","labelContainer","endBtn","startBtn","Button","changeIcon","disableInput","validateMinMax","validateRangeStrict","validateMinMaxDays","validateRange","renderCalendar","isSameDecade","endYear","startMonthCurrentDate","selectNextMonth","selectNextYear","selectNextDecade","decyr","selectStartMonth","calendarContainer","prevIcon","prepend","leftTitle","leftContainer","rightContainer","leftNavTitle","rightTitle","rightNavTitle","getCalendarView","controlContainer","headerContainer","footerSection","cancelBtn","CANCEL","applyBtn","enable","cancelFunction","getBoundingClientRect","deviceHeaderUpdate","isValueChanged","closeEventArgs","popupKeyboardModule","popupKeyActionHandle","onMouseClick","item","li","isClick","setListSelection","onMouseOver","onMouseLeave","renderCustomPopup","removeListSelection","applyPresetRange","modelValue","showPopup","openEventArgs","tabindex","listTag","ListBase","createList","aria-hidden","customElement","wireListEvents","unWireListEvents","popupWidth","offsetX","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","popupCloseHandler","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","updatedCssClassValue","aria-readonly","aria-placeholder","setEleWidth","formatOption","startinvalue","endinvalue","startString","endString","startObject","endObject","invalidobject","getstringvalue","toLocaleDateString","stringValue","formatOpt","basISOString","virtualRenderCellArgs","virtualRenderCellEvent","isStartDisabled","isEndDisabled","createHiddenInput","evt","createEvent","initEvent","navigate","isBlur","getSelectedRange","mobileRangePopupWrap","refreshChange","enableInput","clearModelvalue","class","Collection","DAY","MONTH","YEAR","FOCUS","wrapperAttributes","TimePickerBase","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","TimePicker","blazorTimeCollections","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","openPopupEventArgs","defaultCulture","checkTimeFormat","createInputElement","setTimeAllowEdit","setEnable","validateInterval","validateDisable","getFormattedValue","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","checkInValue","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","valueWithMinutes","prevDate","updatedCssClassesValue","aria-autocomplete","isNullOrEmpty","inputStyle","getCldrDateTimeFormat","dateFormat","CldrFormat","isInvalid","valueExpression","valueExp","setCurrentDate","getBlazorCultureFormat","getCultureTimeObject","unBindEvents","ariaAttribute","enableElement","rippleFn","propertyList","generateList","append","listWrapper","addSelection","getPopupHeight","popupHeight","rippleModel","containerStyle","setPopupWidth","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","removeErrorClass","checkErrorState","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","getCursorSelection","selectionStart","selectionEnd","getActiveElement","parseFloat","scrollTo","setScrollTo","findScrollTop","items","initialTime","toDateString","scrollTime","toLocaleTimeString","getText","cldrTimeFormat","cldrDateFormat","blazorCultureFormats","getCultureDateObject","formatVal","dateToNumeric","getExactDateTime","compareFormatChange","updatePlaceHolder","updateBlazorTimeCollections","listData","popupHandler","closePopup","mouseDownHandler","mouseUpHandler","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","objToString","previousState","setSelection","delay","animModel","documentClickHandler","disposeServerPopup","mobileTimePopupWrap","top","checkValueChange","isNavigation","valueProcess","prevValue","currentLi","setHover","isValidLI","removeHover","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","clearHandler","inputEvent","timeValue","raiseClearedEvent","setZIndex","dataBind","getTextFormat","strArray","validateValue","newval","value_1","findNextElement","textVal","timeVal","collections","selectNextItem","validLiElement","elementValue","findNextInBlazor","index_1","index_2","index_3","index_4","backward","elementIndex","isCheck","nextItem","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","TimeParse","listBaseOptions","itemCreated","isIE","info","getProperty","offsetWidth","popupAlignment","timePopupElement","formatValues","setStyleAttribute","HOUR","MINUTE","SECOND","MILLISECOND","DateTimePicker","dateTimeOptions","focusHandler","blurHandler","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","timeIcon","renderTimeIcon","appendSpan","timeHandler","dateHandler","inputKeyAction","getCldrFormat","isDatePopupOpen","toggle","listCreation","dateObject","startTime","endTime","listDetails","wireTimeListEvents","addTimeSelection","setTimeScrollPosition","openPopup","timeModal","TimeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","hour","minutes","seconds","setTimeActiveClass","setTimeActiveDescendant","removeTimeSelection","getTimeHoverItem","calculateStartEnd","method","hours","milliseconds","tempStartValue","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","getTimeActiveElement","status_1","minute","second","millisecond","findNextTimeElement","dateTimeVal","listCount","timeElementValue","setTimeValue","timeKeyHandler","nextItemValue","index.Calendar","Inject","index.Islamic","index.DatePicker","index.DateTimePicker"],"mappings":"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,EAAG,KAC5B4qB,EAAgBntB,UAAW,UAAO,IACrCE,GACIub,WAAS,GAAIlZ,MAAK,KAAM,GAAI,MAC7B4qB,EAAgBntB,UAAW,UAAO,IACrCE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,aAAU,IACxCE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,qBAAkB,IAChDE,GACIub,YAAS,IACV0R,EAAgBntB,UAAW,iBAAc,IAC5CE,GACIub,WAAS,cACV0R,EAAgBntB,UAAW,mBAAgB,IAC9CE,GACIwb,WACDyR,EAAgBntB,UAAW,cAAW,IACzCE,GACIwb,WACDyR,EAAgBntB,UAAW,gBAAa,IAC3CE,GACIwb,WACDyR,EAAgBntB,UAAW,aAAU,IACxCE,GACIwb,WACDyR,EAAgBntB,UAAW,cAAW,IACzCE,GACIwb,WACDyR,EAAgBntB,UAAW,gBAAa,IAC3CE,GACIwb,WACDyR,EAAgBntB,UAAW,oBAAiB,IAC/CE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,gBAAa,IAC3CE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,cAAW,IACzCE,GACIihC,kBAAiBnU,IAClBG,EAAgBntB,UAAW,cAAW,IACzCE,GACIub,WAAS,KACV0R,EAAgBntB,UAAW,YAAS,IACvCE,GACIub,WAAS,MACV0R,EAAgBntB,UAAW,aAAU,IACxCE,GACIub,YAAS,IACV0R,EAAgBntB,UAAW,sBAAmB,IACjDE,GACIub,YAAS,IACV0R,EAAgBntB,UAAW,sBAAmB,IACjDE,GACIub,WAAS,UACV0R,EAAgBntB,UAAW,YAAS,IACvCE,GACIub,WAAS,UACV0R,EAAgBntB,UAAW,YAAS,IACvCE,GACIub,WAAS,KACV0R,EAAgBntB,UAAW,eAAY,IAC1CE,GACIub,WAAS,MACV0R,EAAgBntB,UAAW,gBAAa,IAC3CE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,cAAW,IACzCE,GACIub,WAAS,OACV0R,EAAgBntB,UAAW,cAAW,IACzCE,GACIub,YAAS,IACV0R,EAAgBntB,UAAW,iBAAc,IAC5CE,GACIub,WAAS,OACV0R,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MACXgZ,EAAQC,cAGR,GAAKD,GAGrBrb,GACIub,WAAS,OACVymB,EAAWliC,UAAW,YAAS,IAClCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,eAAY,IACrCE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,iBAAc,IACvCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,iBAAc,IACvCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,aAAU,IACnCE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,cAAW,IACpCE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,eAAY,IACrCE,GACIub,gBACDymB,EAAWliC,UAAW,qBAAkB,IAC3CE,GACIub,WAAS,UACVymB,EAAWliC,UAAW,qBAAkB,IAC3CE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,kBAAe,IACxCE,GACIub,WAAS,MACVymB,EAAWliC,UAAW,aAAU,IACnCE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,wBAAqB,IAC9CE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,sBAAmB,IAC5CE,GACIub,WAAS,KACVymB,EAAWliC,UAAW,WAAQ,IACjCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,eAAY,IACrCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,YAAS,IAClCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,UAAO,IAChCE,GACIub,WAAS,OACVymB,EAAWliC,UAAW,UAAO,IAChCE,GACIub,YAAS,IACVymB,EAAWliC,UAAW,gBAAa,IACtCE,GACIwb,WACDwmB,EAAWliC,UAAW,aAAU,IACnCE,GACIwb,WACDwmB,EAAWliC,UAAW,cAAW,IACpCE,GACIwb,WACDwmB,EAAWliC,UAAW,gBAAa,IACtCE,GACIwb,WACDwmB,EAAWliC,UAAW,WAAQ,IACjCE,GACIwb,WACDwmB,EAAWliC,UAAW,iBAAc,IACvCE,GACIwb,WACDwmB,EAAWliC,UAAW,YAAS,IAClCE,GACIwb,WACDwmB,EAAWliC,UAAW,cAAW,IACpCE,GACIwb,WACDwmB,EAAWliC,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"}